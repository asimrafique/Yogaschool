"use strict";(self.webpackChunkInstiKit=self.webpackChunkInstiKit||[]).push([[5435],{44973:(t,e,n)=>{n.d(e,{Z:()=>i});const s={props:["onlineExam"],methods:{confirmStatusChange:function(t){var e=this;return function(n){return e.changeExamStatus(t)}},changeExamStatus:function(t){var e=this,n=this.$loading.show();axios.post("/api/online-exam/"+this.onlineExam.uuid+"/status?status="+t).then((function(t){e.$emit("updateExam"),toastr.success(t.message),n.hide()})).catch((function(t){n.hide(),helper.showErrorMsg(t)}))}},filters:{moment:function(t){return helper.formatDate(t)},momentTime:function(t){return helper.formatTime(t)},momentDateTime:function(t){return helper.formatDateTime(t)}}};const i=(0,n(51900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card border-right"},[e("div",{staticClass:"card-body"},[e("h4",{staticClass:"card-title m-3"},[t._v(t._s(t.onlineExam.name)+"\n                    "),e("div",{staticClass:"action-buttons pull-right"},[t.onlineExam.is_published?t._e():e("button",{directives:[{name:"confirm",rawName:"v-confirm",value:{ok:t.confirmStatusChange("publish")},expression:"{ok: confirmStatusChange('publish')}"}],key:"publishExam",staticClass:"btn btn-success btn-sm",on:{click:function(t){}}},[e("i",{staticClass:"fas fa-check"}),t._v(" "+t._s(t.trans("exam.publish_online_exam")))]),t._v(" "),t.onlineExam.is_published?e("button",{directives:[{name:"confirm",rawName:"v-confirm",value:{ok:t.confirmStatusChange("draft")},expression:"{ok: confirmStatusChange('draft')}"}],key:"draftExam",staticClass:"btn btn-danger btn-sm"},[e("i",{staticClass:"fas fa-times"}),t._v(" "+t._s(t.trans("exam.draft_online_exam")))]):t._e()])]),t._v(" "),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-sm custom-show-table"},[e("tbody",[e("tr",[e("td",[t._v(t._s(t.trans("exam.online_exam_is_published")))]),t._v(" "),e("td",{staticStyle:{"font-weight":"bold","font-size":"120%"}},[t.onlineExam.is_published?e("span",{staticClass:"text-success"},[t._v(t._s(t.trans("exam.online_exam_published")))]):e("span",{staticClass:"text-danger"},[t._v(t._s(t.trans("exam.online_exam_not_published")))])])]),t._v(" "),t.onlineExam.id?e("tr",[e("td",[t._v(t._s(t.trans("exam.online_exam_status")))]),t._v(" "),e("td",[e("span",{class:["label","label-"+t.onlineExam.status_detail.type]},[t._v(t._s(t.onlineExam.status_detail.text))])])]):t._e(),t._v(" "),e("tr",[e("td",[t._v(t._s(t.trans("academic.batch")))]),t._v(" "),e("td",[t._v("\n                                    "+t._s(t.onlineExam.batch.course.name+" "+t.onlineExam.batch.name)+"\n                                ")])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.trans("academic.subject")))]),t._v(" "),e("td",[t._v("\n                                    "+t._s(t.onlineExam.subject.name+" ("+t.onlineExam.subject.name+")")+"\n                                ")])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.trans("exam.online_exam_date")))]),t._v(" "),e("td",[t._v("\n                                    "+t._s(t._f("moment")(t.onlineExam.date))+" \n                                    "+t._s(t._f("momentTime")(t.onlineExam.start_time))+" "+t._s(t.trans("general.to"))+"\n                                    "+t._s(t._f("momentTime")(t.onlineExam.end_time))+"\n                                ")])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.trans("exam.online_exam_type")))]),t._v(" "),e("td",[t._v("\n                                    "+t._s(t.trans("exam.online_exam_type_"+t.onlineExam.exam_type))+"\n                                ")])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.trans("exam.online_exam_passing_percentage")))]),t._v(" "),e("td",[t._v("\n                                    "+t._s(t.onlineExam.passing_percentage)+"%\n                                ")])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.trans("exam.online_exam_is_negative_mark_applicable")))]),t._v(" "),e("td",[t._v("\n                                    "+t._s(t.onlineExam.is_negative_mark_applicable?t.trans("list.yes"):t.trans("list.no"))+" "+t._s(t.onlineExam.is_negative_mark_applicable?t.onlineExam.negative_mark_percentage_per_question+"%":"")+"\n                                ")])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.trans("general.created_at")))]),t._v(" "),e("td",[t._v("\n                                    "+t._s(t._f("momentDateTime")(t.onlineExam.created_at))+"\n                                ")])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.trans("general.updated_at")))]),t._v(" "),e("td",[t._v("\n                                    "+t._s(t._f("momentDateTime")(t.onlineExam.updated_at))+"\n                                ")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"},attrs:{colspan:"2"}},[t._v("\n                                    "+t._s(t.onlineExam.description)+"\n                                ")])])])])])])])])}),[],!1,null,null,null).exports},96789:(t,e,n)=>{n.r(e),n.d(e,{default:()=>l});var s=n(44973);const i={props:["id","onlineExam","question"],data:function(){return{onlineExamQuestionForm:new Form({question:"",image:"",mark:"",question_type:"mcq",options:[]}),online_exam_question_types:[]}},mounted:function(){var t=this;this.getPreRequisite(),"mcq"==this.onlineExam.exam_type&&(this.onlineExamQuestionForm.question_type="mcq"),this.id&&(this.onlineExamQuestionForm.question=this.question.question,this.onlineExamQuestionForm.image=this.question.image,this.onlineExamQuestionForm.mark=this.question.mark,this.onlineExamQuestionForm.question_type=this.question.question_type,this.question.answers.forEach((function(e){t.onlineExamQuestionForm.options.push({title:e.title,is_correct_answer:e.is_correct_answer,image:e.image})})))},methods:{getOptionTitle:function(t){return"option_title_"+t},getOptionId:function(t){return"option_id_"+t},getPreRequisite:function(){var t=this;axios.get("/api/online-exam/pre-requisite").then((function(e){t.online_exam_question_types=e.online_exam_question_types}))},addNewOption:function(){this.onlineExamQuestionForm.options.push({image:"",title:"",is_correct_option:""})},confirmDelete:function(t){var e=this;return function(n){return e.deleteOption(t)}},deleteOption:function(t){this.onlineExamQuestionForm.options.splice(t,1)},proceed:function(){this.id?this.update():this.submit()},submit:function(){var t=this,e=this.$loading.show();this.onlineExamQuestionForm.post("/api/online-exam/"+this.onlineExam.uuid+"/question").then((function(n){toastr.success(n.message),t.$emit("completed"),e.hide()})).catch((function(t){e.hide(),helper.showErrorMsg(t)}))},update:function(){var t=this,e=this.$loading.show();this.onlineExamQuestionForm.patch("/api/online-exam/"+this.onlineExam.uuid+"/question/"+this.id).then((function(n){toastr.success(n.message),t.$emit("completed"),e.hide()})).catch((function(t){e.hide(),helper.showErrorMsg(t)}))}}};var a=n(51900);const o=(0,a.Z)(i,(function(){var t=this,e=t._self._c;return e("div",[e("form",{on:{submit:function(e){return e.preventDefault(),t.proceed.apply(null,arguments)},keydown:function(e){return t.onlineExamQuestionForm.errors.clear(e.target.name)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("exam.online_exam_question")))]),t._v(" "),e("autosize-textarea",{attrs:{rows:"1",name:"question",placeholder:t.trans("exam.online_exam_question")},model:{value:t.onlineExamQuestionForm.question,callback:function(e){t.$set(t.onlineExamQuestionForm,"question",e)},expression:"onlineExamQuestionForm.question"}}),t._v(" "),e("show-error",{attrs:{"form-name":t.onlineExamQuestionForm,"prop-name":"question"}})],1)]),t._v(" "),e("div",{staticClass:"col-12"},[e("upload-image",{attrs:{id:"image","button-text":t.trans("general.choose_image"),"upload-path":"/online-exam/question/image","remove-path":"/online-exam/question/image","image-source":t.onlineExamQuestionForm.image},on:{uploaded:function(e){t.onlineExamQuestionForm.image=e},removed:function(e){t.onlineExamQuestionForm.image=""}}})],1),t._v(" "),e("div",{staticClass:"col-12 col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("exam.online_exam_mark")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.onlineExamQuestionForm.mark,expression:"onlineExamQuestionForm.mark"}],staticClass:"form-control",attrs:{type:"number",name:"mark",placeholder:t.trans("exam.online_exam_mark")},domProps:{value:t.onlineExamQuestionForm.mark},on:{input:function(e){e.target.composing||t.$set(t.onlineExamQuestionForm,"mark",e.target.value)}}}),t._v(" "),e("show-error",{attrs:{"form-name":t.onlineExamQuestionForm,"prop-name":"mark"}})],1)]),t._v(" "),"mcq"==t.onlineExamQuestionForm.question_type?e("div",{staticClass:"col-12"},[t._l(t.onlineExamQuestionForm.options,(function(n,s){return e("div",{key:s,staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-1"},[e("button",{directives:[{name:"confirm",rawName:"v-confirm",value:{ok:t.confirmDelete(s)},expression:"{ok: confirmDelete(index)}"},{name:"tooltip",rawName:"v-tooltip",value:t.trans("general.delete"),expression:"trans('general.delete')"}],key:s,staticClass:"btn btn-danger btn-sm",attrs:{type:"button"}},[e("i",{staticClass:"fas fa-trash"})])]),t._v(" "),e("div",{staticClass:"col-12 col-sm-5"},[e("div",{staticClass:"form-group"},[e("autosize-textarea",{attrs:{rows:"1",name:"getOptionTitle(index)",placeholder:t.trans("exam.online_exam_option_number",{attribute:s+1})},model:{value:n.title,callback:function(e){t.$set(n,"title",e)},expression:"option.title"}}),t._v(" "),e("show-error",{attrs:{"form-name":t.onlineExamQuestionForm,"prop-name":t.getOptionTitle(s)}})],1)]),t._v(" "),e("div",{staticClass:"col-12 col-sm-1"},[e("div",{staticClass:"form-group"},[e("label",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.trans("exam.online_exam_is_correct_answer"),expression:"trans('exam.online_exam_is_correct_answer')"}],staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.is_correct_answer,expression:"option.is_correct_answer"}],staticClass:"custom-control-input",attrs:{type:"checkbox",value:"1"},domProps:{checked:Array.isArray(n.is_correct_answer)?t._i(n.is_correct_answer,"1")>-1:n.is_correct_answer},on:{change:function(e){var s=n.is_correct_answer,i=e.target,a=!!i.checked;if(Array.isArray(s)){var o=t._i(s,"1");i.checked?o<0&&t.$set(n,"is_correct_answer",s.concat(["1"])):o>-1&&t.$set(n,"is_correct_answer",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(n,"is_correct_answer",a)}}}),t._v(" "),e("span",{staticClass:"custom-control-label",staticStyle:{"font-size":"80%"}},[t._v(" ")])])])]),t._v(" "),e("div",{staticClass:"col-12 col-sm-5"},[e("upload-image",{attrs:{id:t.getOptionId(s),"button-text":t.trans("general.choose_image"),"upload-path":"/online-exam/question/image","remove-path":"/online-exam/question/image","image-source":n.image},on:{uploaded:function(t){n.image=t},removed:function(t){n.image=""}}})],1)])})),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("button",{staticClass:"btn btn-info btn-sm mx-4 m-b-20",attrs:{type:"button"},on:{click:t.addNewOption}},[t._v(t._s(t.trans("exam.add_new_option")))])])])],2):t._e()]),t._v(" "),t.id?t._e():e("button",{staticClass:"btn btn-danger waves-effect waves-light",attrs:{type:"button"},on:{click:function(e){return t.$emit("cancel")}}},[t._v(t._s(t.trans("general.cancel")))]),t._v(" "),e("button",{staticClass:"btn btn-info waves-effect waves-light",attrs:{type:"submit"}},[t.id?e("span",[t._v(t._s(t.trans("general.update")))]):e("span",[t._v(t._s(t.trans("general.save")))])])])])}),[],!1,null,null,null).exports,r={components:{onlineExamDetail:s.Z,questionForm:o},data:function(){return{uuid:this.$route.params.uuid,online_exam:{batch:{course:{}},subject:{},records:[],questions:[]},question:{},showQuestionModal:!1}},mounted:function(){helper.hasPermission("edit-online-exam")||(helper.notAccessibleMsg(),this.$router.push("/dashboard")),this.getOnlineExam()},methods:{hasPermission:function(t){return helper.hasPermission(t)},getOnlineExam:function(){var t=this;this.showQuestionModal=!1;var e=this.$loading.show();axios.get("/api/online-exam/"+this.uuid).then((function(n){t.online_exam=n.online_exam,e.hide()})).catch((function(n){e.hide(),helper.showErrorMsg(n),t.$router.push("/dashboard")}))},addQuestion:function(){this.question={},this.showQuestionModal=!0},editQuestion:function(t){this.question=t,this.showQuestionModal=!0},confirmDelete:function(t){var e=this;return function(n){return e.deleteQuestion(t)}},deleteQuestion:function(t){var e=this,n=this.$loading.show();axios.delete("/api/online-exam/"+this.uuid+"/question/"+t.id).then((function(t){e.getOnlineExam(),toastr.success(t.message),n.hide()})).catch((function(t){n.hide(),helper.showErrorMsg(t)}))}},filters:{moment:function(t){return helper.formatDate(t)},momentTime:function(t){return helper.formatTime(t)},momentDateTime:function(t){return helper.formatDateTime(t)}}};const l=(0,a.Z)(r,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"page-titles"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-6"},[e("h3",{staticClass:"text-themecolor"},[t._v(t._s(t.trans("exam.online_exam"))+"\n                    "),t.online_exam?e("span",{staticClass:"card-subtitle d-none d-sm-inline"},[t._v(t._s(t.online_exam.name))]):t._e()])]),t._v(" "),e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"action-buttons pull-right"},[e("router-link",{staticClass:"btn btn-info btn-sm",attrs:{to:"/online-exam"}},[e("i",{staticClass:"fas fa-list"}),t._v(" "),e("span",{staticClass:"d-none d-sm-inline"},[t._v(t._s(t.trans("exam.online_exam")))])]),t._v(" "),e("router-link",{staticClass:"btn btn-info btn-sm",attrs:{to:"/online-exam/".concat(t.online_exam.uuid,"/records")}},[e("i",{staticClass:"fas fa-list"}),t._v(" "),e("span",{staticClass:"d-none d-sm-inline"},[t._v(t._s(t.trans("exam.online_exam_record")))])])],1)])])]),t._v(" "),e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-4"},[e("online-exam-detail",{attrs:{onlineExam:t.online_exam},on:{updateExam:t.getOnlineExam}})],1),t._v(" "),e("div",{staticClass:"col-12 col-sm-8 p-0"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-boy"},[e("h4",{staticClass:"card-title m-3"},[t._v(t._s(t.trans("exam.online_exam_instructions"))+"\n                            "),e("div",{staticClass:"action-buttons pull-right mr-2"},[t.online_exam.is_editable?e("button",{staticClass:"btn btn-info btn-sm",on:{click:t.addQuestion}},[e("i",{staticClass:"fas fa-plus"}),t._v(" "),e("span",{staticClass:"d-none d-sm-inline"},[t._v(t._s(t.trans("exam.add_new_question")))])]):t._e()])]),t._v(" "),e("div",{staticClass:"border-top",staticStyle:{"font-size":"90%","padding-top":"10px"},domProps:{innerHTML:t._s(t.online_exam.instructions)}}),t._v(" "),e("hr"),t._v(" "),e("h4",{staticClass:"card-title m-3"},[t._v(t._s(t.trans("exam.online_exam_questions")))]),t._v(" "),t._l(t.online_exam.questions,(function(n,s){return e("div",{staticClass:"border-bottom my-2",staticStyle:{"font-size":"90%","margin-right":"20px",padding:"10px","background-color":"rgb(241, 243, 244)","border-radius":"5px",color:"#000"}},[e("p",[t._v("\n                                ("+t._s(s+1)+") "+t._s(n.question)+" \n                                "),e("span",{staticClass:"pull-right"},[t._v("("+t._s(n.mark)+")")])]),t._v(" "),n.image?e("div",{staticStyle:{padding:"10px"}},[e("center",[e("img",{staticStyle:{"max-width":"250px"},attrs:{src:"/"+n.image}})])],1):t._e(),t._v(" "),"mcq"==n.question_type?e("div",{staticClass:"row",staticStyle:{"padding-left":"20px"}},t._l(n.answers,(function(n,s){return e("div",{staticClass:"col-6"},[e("p",[t._v("\n                                        ("+t._s(s+1)+") "+t._s(n.title)+"\n                                        "),n.is_correct_answer?e("i",{staticClass:"fas fa-check-circle text-success"}):t._e()]),n.image?e("div",{staticStyle:{padding:"10px"}},[e("center",[e("img",{staticStyle:{"max-width":"150px"},attrs:{src:"/"+n.image}})])],1):t._e(),t._v(" "),e("p")])})),0):t._e(),t._v(" "),t.online_exam.is_editable?e("div",{staticClass:"pull-right"},[e("button",{staticClass:"btn btn-sm btn-info m-r-5",attrs:{type:"button"},on:{click:function(e){return t.editQuestion(n)}}},[e("i",{staticClass:"fas fa-edit"})]),t._v(" "),e("button",{directives:[{name:"confirm",rawName:"v-confirm",value:{ok:t.confirmDelete(n)},expression:"{ok: confirmDelete(question)}"}],key:n.id,staticClass:"btn btn-sm btn-danger",attrs:{type:"button"}},[e("i",{staticClass:"fas fa-times"})])]):t._e(),t._v(" "),e("div",{staticClass:"clearfix"})])}))],2)])])])]),t._v(" "),t.hasPermission("edit-online-exam")&&t.showQuestionModal?e("transition",{attrs:{name:"modal"}},[e("div",{staticClass:"modal-mask"},[e("div",{staticClass:"modal-wrapper"},[e("div",{staticClass:"modal-container modal-lg"},[e("div",{staticClass:"modal-header"},[t._t("header",(function(){return[t._v("\n                            "+t._s(t.trans("exam.add_new_question"))+"\n                            "),e("span",{staticClass:"float-right pointer",on:{click:function(e){t.showQuestionModal=!1}}},[t._v("x")])]}))],2),t._v(" "),e("div",{staticClass:"modal-body"},[t._t("body",(function(){return[e("question-form",{attrs:{id:t.question.id,question:t.question,onlineExam:t.online_exam},on:{completed:t.getOnlineExam,cancel:function(e){t.showQuestionModal=!t.showQuestionModal}}})]}))],2)])])])]):t._e()],1)}),[],!1,null,null,null).exports}}]);