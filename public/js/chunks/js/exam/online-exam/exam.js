"use strict";(self.webpackChunkInstiKit=self.webpackChunkInstiKit||[]).push([[8627],{31321:(t,e,n)=>{function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function i(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===s(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(e),n.d(e,{default:()=>u});function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==l(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var s=n.call(t,e||"default");if("object"!==l(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===l(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}const c={data:function(){return{uuid:this.$route.params.uuid,online_exam:{batch:{course:{}},subject:{}},is_final_submitted:!1,online_exam_record:{},onlineExamForm:new Form({answers:[]},!1),exam_started:!1,questions:[],countdown:0}},mounted:function(){this.getOnlineExam(),this.hasRole("student")&&"upcoming"==this.online_exam.status&&this.$router.push("/online-exam"),this.hasRole("parent")&&"expired"!=this.online_exam.status&&this.$router.push("/online-exam")},methods:{hasRole:function(t){return helper.hasRole(t)},getOnlineExam:function(){var t=this,e=this.$loading.show();this.onlineExamForm.answers=[],axios.get("/api/online-exam/"+this.uuid+"/exam").then((function(n){t.online_exam=n.online_exam,t.questions=n.questions,t.countdown=n.countdown,t.online_exam_record=n.online_exam_record,t.is_final_submitted=n.is_final_submitted,t.questions.forEach((function(e){var n="";if(t.online_exam_record){var s=t.online_exam_record.answers.find((function(t){return t.question_id==e.id}));void 0!==l(s)&&(n=s.answer)}t.onlineExamForm.answers.push(r(r({},e),{},{answer:n}))})),t.exam_started=!!n.online_exam_record,e.hide()})).catch((function(n){helper.showErrorMsg(Error),e.hide(),t.$router.push("/online-exam")}))},getAnswerName:function(t){return"answer_"+t},submit:function(){var t=this.$loading.show();this.onlineExamForm.post("/api/online-exam/"+this.uuid+"/exam").then((function(e){toastr.success(e.message),t.hide()})).catch((function(e){helper.showErrorMsg(e),t.hide()}))},finalSubmit:function(){var t=this,e=this.$loading.show();this.onlineExamForm.post("/api/online-exam/"+this.uuid+"/exam?is_final=1").then((function(n){toastr.success(n.message),e.hide(),t.getOnlineExam()})).catch((function(t){helper.showErrorMsg(t),e.hide()}))},startExam:function(){var t=this,e=this.$loading.show();this.onlineExamForm.post("/api/online-exam/"+this.uuid+"/exam").then((function(n){t.getOnlineExam(),e.hide()})).catch((function(t){helper.showErrorMsg(t),e.hide()}))}},filters:{moment:function(t){return helper.formatDate(t)},momentTime:function(t){return helper.formatTime(t)},momentDateTime:function(t){return helper.formatDateTime(t)}}};const u=(0,n(51900).Z)(c,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"page-titles"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-6"},[e("h3",{staticClass:"text-themecolor"},[t._v(t._s(t.trans("exam.online_exam"))+"\n                        "),t.online_exam?e("span",{staticClass:"card-subtitle d-none d-sm-inline"},[t._v(t._s(t.online_exam.name)+" ("+t._s(t.trans("exam.online_exam_type_"+t.online_exam.exam_type))+")")]):t._e()])]),t._v(" "),e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"action-buttons pull-right"},[e("router-link",{staticClass:"btn btn-info btn-sm",attrs:{to:"/online-exam"}},[e("i",{staticClass:"fas fa-list"}),t._v(" "),e("span",{staticClass:"d-none d-sm-inline"},[t._v(t._s(t.trans("exam.online_exam")))])])],1)])])]),t._v(" "),e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"card"},[t.online_exam?e("div",{staticClass:"card-boy"},[e("h4",{staticClass:"card-title m-3 text-center"},[t._v("\n\t\t\t                    "+t._s(t.online_exam.batch.course.name+" "+t.online_exam.batch.name)+"\n\t\t\t                    "+t._s(t.online_exam.subject.name+" ("+t.online_exam.subject.code+")")+"\n\t\t\t                ")]),t._v(" "),e("h4",{staticClass:"card-title m-3 text-center"},[e("small",[t._v(t._s(t._f("moment")(t.online_exam.date))+" "+t._s(t._f("momentTime")(t.online_exam.start_time))+" "+t._s(t.trans("general.to"))+" "+t._s(t._f("momentTime")(t.online_exam.end_time))+" ")]),t._v(" "),e("br")]),t._v(" "),e("div",{staticClass:"border-top"},[e("h4",{staticClass:"card-title m-3 text-center"},[e("small",[t._v(t._s(t.trans("exam.online_exam_instructions")))])]),t._v(" "),e("div",{staticClass:"p-4",staticStyle:{"font-size":"90%"},domProps:{innerHTML:t._s(t.online_exam.instructions)}})]),t._v(" "),e("hr"),t._v(" "),t.exam_started?e("div",[e("h4",{staticClass:"card-title m-3"},[t._v(t._s(t.trans("exam.online_exam_questions"))+"\n\t\t\t\t                    "),t.is_final_submitted?t._e():e("span",{staticClass:"pull-right m-r-5"},[e("countdown",{attrs:{time:t.countdown,interval:100,tag:"p"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.hours)+" "+t._s(t.trans("list.hour"))+", "+t._s(e.minutes)+" "+t._s(t.trans("list.minute"))+", "+t._s(e.seconds)+"."+t._s(Math.floor(e.milliseconds/100))+" "+t._s(t.trans("list.second")))]}}],null,!1,555607460)})],1)]),t._v(" "),e("form",{on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)},keydown:function(e){return t.onlineExamForm.errors.clear(e.target.name)}}},[e("div",{staticClass:"p-4"},t._l(t.onlineExamForm.answers,(function(n,s){return e("div",{staticClass:"border-bottom my-2",staticStyle:{"font-size":"90%",padding:"10px","background-color":"rgb(241, 243, 244)","border-radius":"5px",color:"#000"}},[e("p",[t._v("\n\t\t\t\t\t                            ("+t._s(s+1)+") "+t._s(n.question)+" \n\t\t\t\t\t                            "),e("span",{staticClass:"pull-right"},[t._v("("+t._s(n.mark)+")")])]),t._v(" "),n.image?e("div",{staticStyle:{padding:"10px"}},[e("center",[e("img",{staticStyle:{"max-width":"250px"},attrs:{src:"/"+n.image}})])],1):t._e(),t._v(" "),"mcq"==n.question_type?e("div",{staticClass:"row",staticStyle:{"padding-left":"20px"}},t._l(n.answers,(function(a,r){return e("div",{staticClass:"col-6"},[e("div",{staticClass:"radio radio-info"},[e("div",{staticClass:"form-check form-check-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.answer,expression:"question.answer"}],staticClass:"form-check-input",attrs:{disabled:!!t.is_final_submitted,type:"radio",id:"".concat(n.id,"_option_").concat(a.title),name:t.getAnswerName(s)},domProps:i({value:a.title,checked:n.answer==a.title},"checked",t._q(n.answer,a.title)),on:{click:function(t){},change:function(e){return t.$set(n,"answer",a.title)}}}),t._v(" "),e("label",{staticClass:"form-check-label",attrs:{for:"".concat(n.id,"_option_").concat(a.title)}},[t._v(" ("+t._s(r+1)+") "+t._s(a.title))]),t._v(" "),"expired"==t.online_exam.status&&a.is_correct_answer?e("span",{staticStyle:{"margin-left":"10px"}},[e("i",{staticClass:"fas fa-check-circle text-success"})]):t._e()])]),t._v(" "),a.image?e("div",{staticStyle:{padding:"10px"}},[e("center",[e("img",{staticStyle:{"max-width":"150px"},attrs:{src:"/"+a.image}})])],1):t._e()])})),0):t._e(),t._v(" "),"single_line"==n.question_type?e("div",{staticClass:"row",staticStyle:{"padding-left":"20px"}},[e("div",{staticClass:"col-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.answer,expression:"question.answer"}],staticClass:"form-control",attrs:{type:"text",disabled:!!t.is_final_submitted,name:t.getAnswerName(s),placeholder:t.trans("exam.online_exam_answer")},domProps:{value:n.answer},on:{input:function(e){e.target.composing||t.$set(n,"answer",e.target.value)}}})])]):t._e(),t._v(" "),"multiple_line"==n.question_type?e("div",{staticClass:"row",staticStyle:{"padding-left":"20px"}},[e("div",{staticClass:"col-12"},[e("autosize-textarea",{attrs:{disabled:!!t.is_final_submitted,rows:"2",name:t.getAnswerName(s),placeholder:t.trans("exam.online_exam_answer")},model:{value:n.answer,callback:function(e){t.$set(n,"answer",e)},expression:"question.answer"}})],1)]):t._e(),t._v(" "),t.is_final_submitted?t._e():e("button",{staticClass:"btn btn-sm btn-info waves-effect waves-light pull-right",attrs:{type:"button"},on:{click:t.submit}},[t._v(t._s(t.trans("general.save")))]),t._v(" "),e("div",{staticClass:"clearfix"})])})),0),t._v(" "),t.is_final_submitted?t._e():e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 p-5"},[e("button",{staticClass:"btn btn-danger waves-effect waves-light",attrs:{type:"button"},on:{click:function(e){return t.$router.push("/online-exam")}}},[t._v(t._s(t.trans("general.cancel")))]),t._v(" "),e("button",{staticClass:"btn btn-success waves-effect waves-light",attrs:{type:"button"},on:{click:t.finalSubmit}},[t._v(t._s(t.trans("exam.online_exam_final_submission")))]),t._v(" "),e("div",{staticClass:"clearfix"})])])])]):e("div",{staticClass:"mx-4"},[e("button",{staticClass:"btn btn-success btn-block",attrs:{type:"button"},on:{click:t.startExam}},[t._v(t._s(t.trans("exam.online_exam_start_button")))])])]):t._e()])])])])])}),[],!1,null,null,null).exports}}]);