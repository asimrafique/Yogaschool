"use strict";(self.webpackChunkInstiKit=self.webpackChunkInstiKit||[]).push([[277],{94815:(r,t,o)=>{o.d(t,{Z:()=>l});var n=o(94015),e=o.n(n),s=o(23645),a=o.n(s)()(e());a.push([r.id,".list-group-item .active{color:#fff}","",{version:3,sources:["webpack://./resources/js/views/configuration/locale/show.vue"],names:[],mappings:"AAyJA,yBAAA,UAAA",sourcesContent:['<template>\r\n    <div>\r\n        <div class="page-titles">\r\n            <div class="row">\r\n                <div class="col-12 col-sm-6">\r\n                    <h3 class="text-themecolor">{{trans(\'configuration.translation\')}} ({{locale.name}}) </h3>\r\n                </div>\r\n                <div class="col-12 col-sm-6">\r\n                    <div class="action-buttons pull-right">\r\n                        <button class="btn btn-info btn-sm" @click="$router.push(\'/configuration/locale\')"><i class="fas fa-globe"></i> <span class="d-none d-sm-inline">{{trans(\'configuration.locale\')}}</span></button>\r\n                        <div class="btn-group">\r\n                            <button type="button" style="margin-top:-5px;" class="btn btn-info btn-sm" href="#" role="button" id="moduleLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\r\n                                <i class="fas fa-boxes"></i> <span class="d-none d-sm-inline">{{trans(\'configuration.locale_module\')}} <span>({{toWord(module)}})</span> <i class="fas fa-chevron-down"></i> </span>\r\n                            </button>\r\n                            <div :class="[\'dropdown-menu\',getConfig(\'direction\') == \'ltr\' ? \'dropdown-menu-right\' : \'\']" aria-labelledby="moduleLink">\r\n                                <button style="cursor:pointer;" class="dropdown-item" v-for="mod in modules" @click="$router.push(\'/configuration/locale/\'+locale.locale+\'/\'+mod)">\r\n                                    {{toWord(mod)}} <span v-if="mod == module" class="pull-right"><i class="fas fa-check"></i></span> \r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                        <help-button @clicked="help_topic = \'configuration.locale.translation\'"></help-button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="container-fluid">\r\n            <div class="card">\r\n                <div class="card-body p-4">\r\n                    <div v-if="getWordCount">\r\n                        <div class="row">\r\n                            <template v-for="(word,index) in words">\r\n                                <template v-if="typeof word === \'object\'">\r\n                                    <div class="col-12 col-sm-4" v-for="(wrd,i) in word">\r\n                                        <div class="form-group">\r\n                                            <label for="" style="color:red;">{{trans(module+\'.\'+index+\'.\'+i)}}</label>\r\n                                            \x3c!-- <label for="">{{index}}_{{i}}</label> --\x3e\r\n                                            <input class="form-control" type="text" v-model="words[index][i]" :name="`${index}_${i}`">\r\n                                        </div>\r\n                                    </div>\r\n                                </template>\r\n                                <template v-else>\r\n                                    <div class="col-12 col-sm-4">\r\n                                        <div class="form-group">\r\n                                            <label for="" class="font-weight-bold">{{trans(module+\'.\'+index)}}</label>\r\n                                            \x3c!-- <label for="">{{index}}</label> --\x3e\r\n                                            <input class="form-control" type="text" v-model="words[index]" :name="index">\r\n                                        </div>\r\n                                    </div>\r\n                                </template>\r\n                            </template>\r\n                        </div>\r\n                        <div class="form-group">\r\n                            <button class="btn btn-info btn-sm pull-right" @click="saveTranslation">{{trans(\'general.save\')}}</button>\r\n                        </div>\r\n                    </div>\r\n                    <div v-if="!getWordCount">\r\n                        <p class="alert alert-danger">{{trans(\'general.no_result_found\')}}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <right-panel :topic="help_topic"></right-panel>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                modules: {},\r\n                words: {},\r\n                locale: {},\r\n                module: (this.$route.params.module) ? this.$route.params.module : \'auth\',\r\n                help_topic: \'\'\r\n            };\r\n        },\r\n        mounted(){\r\n            if(!helper.hasPermission(\'access-configuration\')){\r\n                helper.notAccessibleMsg();\r\n                this.$router.push(\'/dashboard\');\r\n            }\r\n\r\n            if(!helper.featureAvailable(\'multilingual\')){\r\n                helper.featureNotAvailableMsg();\r\n                this.$router.push(\'/dashboard\');\r\n            }\r\n\r\n            this.fetchWords();\r\n        },\r\n        methods: {\r\n            fetchWords(){\r\n                let loader = this.$loading.show();\r\n                axios.post(\'/api/locale/fetch\',{\r\n                    locale: this.$route.params.locale,\r\n                    module: this.module\r\n                    })\r\n                    .then(response => {\r\n                        this.modules = response.modules;\r\n                        this.words = response.words;\r\n                        this.locale = response.locale;\r\n                        loader.hide();\r\n                    }).catch(error => {\r\n                        loader.hide();\r\n                        helper.showErrorMsg(error);\r\n                        this.$router.push(\'/configuration/locale\');\r\n                    });\r\n            },\r\n            getName(name){\r\n                name = helper.ucword(name);\r\n                return name.replace(/_/g, \' \');\r\n            },\r\n            getModuleLink(module){\r\n                return \'/configuration/locale/\'+this.$route.params.locale+\'/\'+module\r\n            },\r\n            saveTranslation(){\r\n                let loader = this.$loading.show();\r\n                axios.post(\'/api/locale/translate\',{\r\n                    locale: this.$route.params.locale,\r\n                    module: this.module,\r\n                    words: this.words\r\n                }).then(response => {\r\n                    toastr.success(response.message);\r\n                    loader.hide();\r\n                }).catch(error => {\r\n                    loader.hide();\r\n                    helper.showErrorMsg(error);\r\n                });\r\n            },\r\n            getConfig(config){\r\n                return helper.getConfig(config);\r\n            },\r\n            toWord(word){\r\n                return helper.toWord(word);\r\n            }\r\n        },\r\n        watch: {\r\n            \'$route.params.module\'(newModule, oldModule) {\r\n                this.module = newModule;\r\n                this.fetchWords();\r\n            }\r\n        },\r\n        computed: {\r\n            getWordCount(){\r\n                return _size(this.words);\r\n            }\r\n        }\r\n    }\r\n<\/script>\r\n<style>\r\n    .list-group-item .active {color:#ffffff;}\r\n</style>\r\n'],sourceRoot:""}]);const l=a},26509:(r,t,o)=>{function n(r){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},n(r)}o.r(t),o.d(t,{default:()=>c});const e={data:function(){return{modules:{},words:{},locale:{},module:this.$route.params.module?this.$route.params.module:"auth",help_topic:""}},mounted:function(){helper.hasPermission("access-configuration")||(helper.notAccessibleMsg(),this.$router.push("/dashboard")),helper.featureAvailable("multilingual")||(helper.featureNotAvailableMsg(),this.$router.push("/dashboard")),this.fetchWords()},methods:{fetchWords:function(){var r=this,t=this.$loading.show();axios.post("/api/locale/fetch",{locale:this.$route.params.locale,module:this.module}).then((function(o){r.modules=o.modules,r.words=o.words,r.locale=o.locale,t.hide()})).catch((function(o){t.hide(),helper.showErrorMsg(o),r.$router.push("/configuration/locale")}))},getName:function(r){return(r=helper.ucword(r)).replace(/_/g," ")},getModuleLink:function(r){return"/configuration/locale/"+this.$route.params.locale+"/"+r},saveTranslation:function(){var r=this.$loading.show();axios.post("/api/locale/translate",{locale:this.$route.params.locale,module:this.module,words:this.words}).then((function(t){toastr.success(t.message),r.hide()})).catch((function(t){r.hide(),helper.showErrorMsg(t)}))},getConfig:function(r){return helper.getConfig(r)},toWord:function(r){return helper.toWord(r)}},watch:{"$route.params.module":function(r,t){this.module=r,this.fetchWords()}},computed:{getWordCount:function(){return _size(this.words)}}};var s=o(93379),a=o.n(s),l=o(94815),i={insert:"head",singleton:!1};a()(l.Z,i);l.Z.locals;const c=(0,o(51900).Z)(e,(function(){var r=this,t=r._self._c;return t("div",[t("div",{staticClass:"page-titles"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 col-sm-6"},[t("h3",{staticClass:"text-themecolor"},[r._v(r._s(r.trans("configuration.translation"))+" ("+r._s(r.locale.name)+") ")])]),r._v(" "),t("div",{staticClass:"col-12 col-sm-6"},[t("div",{staticClass:"action-buttons pull-right"},[t("button",{staticClass:"btn btn-info btn-sm",on:{click:function(t){return r.$router.push("/configuration/locale")}}},[t("i",{staticClass:"fas fa-globe"}),r._v(" "),t("span",{staticClass:"d-none d-sm-inline"},[r._v(r._s(r.trans("configuration.locale")))])]),r._v(" "),t("div",{staticClass:"btn-group"},[t("button",{staticClass:"btn btn-info btn-sm",staticStyle:{"margin-top":"-5px"},attrs:{type:"button",href:"#",role:"button",id:"moduleLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t("i",{staticClass:"fas fa-boxes"}),r._v(" "),t("span",{staticClass:"d-none d-sm-inline"},[r._v(r._s(r.trans("configuration.locale_module"))+" "),t("span",[r._v("("+r._s(r.toWord(r.module))+")")]),r._v(" "),t("i",{staticClass:"fas fa-chevron-down"})])]),r._v(" "),t("div",{class:["dropdown-menu","ltr"==r.getConfig("direction")?"dropdown-menu-right":""],attrs:{"aria-labelledby":"moduleLink"}},r._l(r.modules,(function(o){return t("button",{staticClass:"dropdown-item",staticStyle:{cursor:"pointer"},on:{click:function(t){return r.$router.push("/configuration/locale/"+r.locale.locale+"/"+o)}}},[r._v("\n                                "+r._s(r.toWord(o))+" "),o==r.module?t("span",{staticClass:"pull-right"},[t("i",{staticClass:"fas fa-check"})]):r._e()])})),0)]),r._v(" "),t("help-button",{on:{clicked:function(t){r.help_topic="configuration.locale.translation"}}})],1)])])]),r._v(" "),t("div",{staticClass:"container-fluid"},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-body p-4"},[r.getWordCount?t("div",[t("div",{staticClass:"row"},[r._l(r.words,(function(o,e){return["object"===n(o)?r._l(o,(function(o,n){return t("div",{staticClass:"col-12 col-sm-4"},[t("div",{staticClass:"form-group"},[t("label",{staticStyle:{color:"red"},attrs:{for:""}},[r._v(r._s(r.trans(r.module+"."+e+"."+n)))]),r._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:r.words[e][n],expression:"words[index][i]"}],staticClass:"form-control",attrs:{type:"text",name:"".concat(e,"_").concat(n)},domProps:{value:r.words[e][n]},on:{input:function(t){t.target.composing||r.$set(r.words[e],n,t.target.value)}}})])])})):[t("div",{staticClass:"col-12 col-sm-4"},[t("div",{staticClass:"form-group"},[t("label",{staticClass:"font-weight-bold",attrs:{for:""}},[r._v(r._s(r.trans(r.module+"."+e)))]),r._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:r.words[e],expression:"words[index]"}],staticClass:"form-control",attrs:{type:"text",name:e},domProps:{value:r.words[e]},on:{input:function(t){t.target.composing||r.$set(r.words,e,t.target.value)}}})])])]]}))],2),r._v(" "),t("div",{staticClass:"form-group"},[t("button",{staticClass:"btn btn-info btn-sm pull-right",on:{click:r.saveTranslation}},[r._v(r._s(r.trans("general.save")))])])]):r._e(),r._v(" "),r.getWordCount?r._e():t("div",[t("p",{staticClass:"alert alert-danger"},[r._v(r._s(r.trans("general.no_result_found")))])])])])]),r._v(" "),t("right-panel",{attrs:{topic:r.help_topic}})],1)}),[],!1,null,null,null).exports}}]);