"use strict";(self.webpackChunkInstiKit=self.webpackChunkInstiKit||[]).push([[3917],{36500:(i,t,s)=>{s.d(t,{Z:()=>n});const e={props:{setupWizard:{default:!1},configurations:{required:!1}},components:{},data:function(){return{configForm:new Form({config_type:"menu",modules:[]},!1),menus:[],help_topic:""}},mounted:function(){helper.hasPermission("access-configuration")||(helper.notAccessibleMsg(),this.$router.push("/home")),this.getPreRequisite()},methods:{getPreRequisite:function(){var i=this,t=this.$loading.show();axios.get("/api/configuration/variable?type=menu").then((function(s){i.configForm.modules=s.modules,i.menus=s.menus,i.configForm.modules.forEach((function(i){s.menus.findIndex((function(t){return t===i.menu.name}))>=0?i.menu.visibility=!0:i.menu.visibility=!1,i.menu.submenu.forEach((function(i){s.menus.findIndex((function(t){return t===i.name}))>=0?i.visibility=!0:i.visibility=!1}))})),t.hide()})).catch((function(i){t.hide(),helper.showErrorMsg(i)}))},getMenuName:function(i){return"show_"+i+"_menu"},updateSubMenu:function(i){i.visibility?i.submenu.forEach((function(i){i.visibility=!0})):i.submenu.forEach((function(i){i.visibility=!1}))},submit:function(){var i=this,t=this.$loading.show();return this.configForm.post("/api/configuration").then((function(s){return t.hide(),i.$store.dispatch("setConfig",{loaded:!1}),toastr.success(s.message),!0})).catch((function(i){return t.hide(),helper.showErrorMsg(i),!1}))}}};const n=(0,s(51900).Z)(e,(function(){var i=this,t=i._self._c;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-body p-4"},[t("form",{on:{submit:function(t){return t.preventDefault(),i.submit.apply(null,arguments)},keydown:function(t){return i.configForm.errors.clear(t.target.name)}}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 offset-md-1"},[i._l(i.configForm.modules,(function(s){return[t("h4",{staticClass:"card-title"},[i._v(i._s(i.trans(s.translation)))]),i._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"custom-control custom-checkbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.menu.visibility,expression:"module.menu.visibility"}],staticClass:"custom-control-input",attrs:{type:"checkbox",value:"1",name:i.getMenuName(s.menu.name)},domProps:{checked:Array.isArray(s.menu.visibility)?i._i(s.menu.visibility,"1")>-1:s.menu.visibility},on:{change:[function(t){var e=s.menu.visibility,n=t.target,o=!!n.checked;if(Array.isArray(e)){var a=i._i(e,"1");n.checked?a<0&&i.$set(s.menu,"visibility",e.concat(["1"])):a>-1&&i.$set(s.menu,"visibility",e.slice(0,a).concat(e.slice(a+1)))}else i.$set(s.menu,"visibility",o)},function(t){return i.updateSubMenu(s.menu)}]}}),i._v(" "),t("span",{staticClass:"custom-control-label"},[i._v(i._s(i.trans(s.menu.translation)))])])]),i._v(" "),i._l(s.menu.submenu,(function(e){return t("div",{directives:[{name:"show",rawName:"v-show",value:s.menu.visibility,expression:"module.menu.visibility"}],staticClass:"form-group",staticStyle:{"padding-left":"40px"}},[t("label",{staticClass:"custom-control custom-checkbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.visibility,expression:"submenu.visibility"}],staticClass:"custom-control-input",attrs:{type:"checkbox",value:"1",name:i.getMenuName(e.name)},domProps:{checked:Array.isArray(e.visibility)?i._i(e.visibility,"1")>-1:e.visibility},on:{change:function(t){var s=e.visibility,n=t.target,o=!!n.checked;if(Array.isArray(s)){var a=i._i(s,"1");n.checked?a<0&&i.$set(e,"visibility",s.concat(["1"])):a>-1&&i.$set(e,"visibility",s.slice(0,a).concat(s.slice(a+1)))}else i.$set(e,"visibility",o)}}}),i._v(" "),t("span",{staticClass:"custom-control-label"},[i._v(i._s(i.trans(e.translation)))])])])}))]}))],2)]),i._v(" "),i.setupWizard?i._e():t("button",{staticClass:"btn btn-info waves-effect waves-light pull-right m-t-10",attrs:{type:"submit"}},[i._v(i._s(i.trans("general.save")))])])])])])])}),[],!1,null,null,null).exports},93117:(i,t,s)=>{s.r(t),s.d(t,{default:()=>n});const e={components:{menuForm:s(36500).Z},data:function(){return{help_topic:""}}};const n=(0,s(51900).Z)(e,(function(){var i=this,t=i._self._c;return t("div",[t("div",{staticClass:"page-titles"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 col-sm-6"},[t("h3",{staticClass:"text-themecolor"},[i._v(i._s(i.trans("configuration.menu_configuration")))])]),i._v(" "),t("div",{staticClass:"col-12 col-sm-6"},[t("div",{staticClass:"action-buttons pull-right"},[t("button",{staticClass:"btn btn-info btn-sm",on:{click:function(t){return i.$router.push("/dashboard")}}},[t("i",{staticClass:"fas fa-home"}),i._v(" "),t("span",{staticClass:"d-none d-sm-inline"},[i._v(i._s(i.trans("general.home")))])]),i._v(" "),t("help-button",{on:{clicked:function(t){i.help_topic="configuration.menu"}}})],1)])])]),i._v(" "),t("div",{staticClass:"container-fluid"},[t("menu-form")],1),i._v(" "),t("right-panel",{attrs:{topic:i.help_topic}})],1)}),[],!1,null,null,null).exports}}]);