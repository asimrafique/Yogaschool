{"version":3,"file":"js/chunks/js/configuration/menu/index.js?id=73bd0be7dd7e35a6","mappings":";;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA;AACA;AACA;;AACA;AACA;AAAA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACnGA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACjCA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAGA;AAAA;AAGA;AACA;AAAA;AAIA;AAAA;AAGA;AAAA;AAGA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AAQA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAIA;AAAA;AAYA;AAGA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAKA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAAA;AAWA;AAEA;AAUA;AAEA;AAAA;AAAA;AACA;AAUA;AACA;AACA;;;;;;;;;;;;;;;;AC7NA;AACA;AACA;AACA;AAGA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAKA;AAAA;AAGA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAEA;AAAA;AAOA;AACA;AACA;AACA;AACA;AACA;AAQA;AAAA;AAEA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;;;;;;;;;;;;;;;;;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAkBA;AACA;;;;;;;;;;;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAkBA;AACA;;;;;;;;;;;;;;;ACtCA;;;;;;;;;;;;;;;ACAA","sources":["webpack://InstiKit/resources/js/views/configuration/menu/form.vue","webpack://InstiKit/resources/js/views/configuration/menu/index.vue","webpack://InstiKit/./resources/js/views/configuration/menu/form.vue","webpack://InstiKit/./resources/js/views/configuration/menu/index.vue","webpack://InstiKit/./resources/js/views/configuration/menu/form.vue?2f43","webpack://InstiKit/./resources/js/views/configuration/menu/index.vue?7034","webpack://InstiKit/./resources/js/views/configuration/menu/form.vue?0be4","webpack://InstiKit/./resources/js/views/configuration/menu/index.vue?d7b7","webpack://InstiKit/./resources/js/views/configuration/menu/index.vue?8974"],"sourcesContent":["<template>\r\n    <div class=\"row\">\r\n        <div class=\"col-12\">\r\n            <div class=\"card\">\r\n                <div class=\"card-body p-4\">\r\n                    <form @submit.prevent=\"submit\" @keydown=\"configForm.errors.clear($event.target.name)\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-12 offset-md-1\">\r\n                                <template v-for=\"module in configForm.modules\">\r\n                                    <h4 class=\"card-title\">{{trans(module.translation)}}</h4>\r\n                                    <div class=\"form-group\">\r\n                                        <label class=\"custom-control custom-checkbox\">\r\n                                            <input type=\"checkbox\" class=\"custom-control-input\" value=\"1\" v-model=\"module.menu.visibility\" :name=\"getMenuName(module.menu.name)\" @change=\"updateSubMenu(module.menu)\">\r\n                                            <span class=\"custom-control-label\">{{trans(module.menu.translation)}}</span>\r\n                                        </label>\r\n                                    </div>\r\n                                    <div v-show=\"module.menu.visibility\" class=\"form-group\" style=\"padding-left: 40px;\" v-for=\"submenu in module.menu.submenu\">\r\n                                        <label class=\"custom-control custom-checkbox\">\r\n                                            <input type=\"checkbox\" class=\"custom-control-input\" value=\"1\" v-model=\"submenu.visibility\" :name=\"getMenuName(submenu.name)\">\r\n                                            <span class=\"custom-control-label\">{{trans(submenu.translation)}}</span>\r\n                                        </label>\r\n                                    </div>\r\n                                </template>\r\n                            </div>\r\n                        </div>\r\n                        <button type=\"submit\" v-if=\"!setupWizard\" class=\"btn btn-info waves-effect waves-light pull-right m-t-10\">{{trans('general.save')}}</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n        props: {\r\n            setupWizard: {\r\n                default: false\r\n            },\r\n            configurations: {\r\n                required: false\r\n            }\r\n        },\r\n        components : { },\r\n        data() {\r\n            return {\r\n                configForm: new Form({\r\n                    config_type: 'menu',\r\n                    modules: []\r\n                },false),\r\n                menus: [],\r\n                help_topic: ''\r\n            }\r\n        },\r\n        mounted(){\r\n            if(!helper.hasPermission('access-configuration')){\r\n                helper.notAccessibleMsg();\r\n                this.$router.push('/home');\r\n            }\r\n\r\n            this.getPreRequisite();\r\n\r\n            // if(!this.setupWizard)\r\n            //     this.getConfiguration();\r\n        },\r\n        methods: {\r\n            getPreRequisite(){\r\n                let loader = this.$loading.show();\r\n                axios.get('/api/configuration/variable?type=menu')\r\n                    .then(response => {\r\n                        this.configForm.modules = response.modules;\r\n                        \r\n                        this.menus = response.menus;\r\n                        this.configForm.modules.forEach(module => {\r\n                            if (response.menus.findIndex(o => o === module.menu.name) >= 0) {\r\n                                module.menu.visibility = true;\r\n                            } else {\r\n                                module.menu.visibility = false;\r\n                            }\r\n\r\n                            module.menu.submenu.forEach(sbmenu => {\r\n                                if (response.menus.findIndex(o => o === sbmenu.name) >= 0) {\r\n                                    sbmenu.visibility = true;\r\n                                } else {\r\n                                    sbmenu.visibility = false;\r\n                                }\r\n                            })\r\n                        });\r\n                        loader.hide();\r\n                    }).catch(error => {\r\n                        loader.hide();\r\n                        helper.showErrorMsg(error);\r\n                    });\r\n            },\r\n            getMenuName(name) {\r\n                return 'show_'+name+'_menu';\r\n            },\r\n            updateSubMenu(menu){\r\n                if (! menu.visibility) {\r\n                    menu.submenu.forEach(sbmenu => {\r\n                        sbmenu.visibility = false;\r\n                    });\r\n                } else {\r\n                    menu.submenu.forEach(sbmenu => {\r\n                        sbmenu.visibility = true;\r\n                    });\r\n                }\r\n            },\r\n            submit(){\r\n                let loader = this.$loading.show();\r\n                return this.configForm.post('/api/configuration')\r\n                    .then(response => {\r\n                        loader.hide();\r\n                        this.$store.dispatch('setConfig',{loaded: false});\r\n                        toastr.success(response.message);\r\n                        return true;\r\n                    }).catch(error => {\r\n                        loader.hide();\r\n                        helper.showErrorMsg(error);\r\n                        return false;\r\n                    });\r\n            }\r\n        }\r\n\t}\r\n</script>","<template>\r\n    <div>\r\n        <div class=\"page-titles\">\r\n            <div class=\"row\">\r\n                <div class=\"col-12 col-sm-6\">\r\n                    <h3 class=\"text-themecolor\">{{trans('configuration.menu_configuration')}}</h3>\r\n                </div>\r\n                <div class=\"col-12 col-sm-6\">\r\n                    <div class=\"action-buttons pull-right\">\r\n                        <button class=\"btn btn-info btn-sm\" @click=\"$router.push('/dashboard')\"><i class=\"fas fa-home\"></i> <span class=\"d-none d-sm-inline\">{{trans('general.home')}}</span></button>\r\n                        <help-button @clicked=\"help_topic = 'configuration.menu'\"></help-button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"container-fluid\">\r\n            <menu-form></menu-form>\r\n        </div>\r\n        <right-panel :topic=\"help_topic\"></right-panel>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\n    import menuForm from './form'\r\n\r\n    export default {\r\n        components: {menuForm},\r\n        data(){\r\n            return {\r\n                help_topic: ''\r\n            }\r\n        }\r\n    }\r\n</script>\r\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\"div\", { staticClass: \"row\" }, [\n    _c(\"div\", { staticClass: \"col-12\" }, [\n      _c(\"div\", { staticClass: \"card\" }, [\n        _c(\"div\", { staticClass: \"card-body p-4\" }, [\n          _c(\n            \"form\",\n            {\n              on: {\n                submit: function ($event) {\n                  $event.preventDefault()\n                  return _vm.submit.apply(null, arguments)\n                },\n                keydown: function ($event) {\n                  return _vm.configForm.errors.clear($event.target.name)\n                },\n              },\n            },\n            [\n              _c(\"div\", { staticClass: \"row\" }, [\n                _c(\n                  \"div\",\n                  { staticClass: \"col-12 offset-md-1\" },\n                  [\n                    _vm._l(_vm.configForm.modules, function (module) {\n                      return [\n                        _c(\"h4\", { staticClass: \"card-title\" }, [\n                          _vm._v(_vm._s(_vm.trans(module.translation))),\n                        ]),\n                        _vm._v(\" \"),\n                        _c(\"div\", { staticClass: \"form-group\" }, [\n                          _c(\n                            \"label\",\n                            { staticClass: \"custom-control custom-checkbox\" },\n                            [\n                              _c(\"input\", {\n                                directives: [\n                                  {\n                                    name: \"model\",\n                                    rawName: \"v-model\",\n                                    value: module.menu.visibility,\n                                    expression: \"module.menu.visibility\",\n                                  },\n                                ],\n                                staticClass: \"custom-control-input\",\n                                attrs: {\n                                  type: \"checkbox\",\n                                  value: \"1\",\n                                  name: _vm.getMenuName(module.menu.name),\n                                },\n                                domProps: {\n                                  checked: Array.isArray(module.menu.visibility)\n                                    ? _vm._i(module.menu.visibility, \"1\") > -1\n                                    : module.menu.visibility,\n                                },\n                                on: {\n                                  change: [\n                                    function ($event) {\n                                      var $$a = module.menu.visibility,\n                                        $$el = $event.target,\n                                        $$c = $$el.checked ? true : false\n                                      if (Array.isArray($$a)) {\n                                        var $$v = \"1\",\n                                          $$i = _vm._i($$a, $$v)\n                                        if ($$el.checked) {\n                                          $$i < 0 &&\n                                            _vm.$set(\n                                              module.menu,\n                                              \"visibility\",\n                                              $$a.concat([$$v])\n                                            )\n                                        } else {\n                                          $$i > -1 &&\n                                            _vm.$set(\n                                              module.menu,\n                                              \"visibility\",\n                                              $$a\n                                                .slice(0, $$i)\n                                                .concat($$a.slice($$i + 1))\n                                            )\n                                        }\n                                      } else {\n                                        _vm.$set(module.menu, \"visibility\", $$c)\n                                      }\n                                    },\n                                    function ($event) {\n                                      return _vm.updateSubMenu(module.menu)\n                                    },\n                                  ],\n                                },\n                              }),\n                              _vm._v(\" \"),\n                              _c(\n                                \"span\",\n                                { staticClass: \"custom-control-label\" },\n                                [\n                                  _vm._v(\n                                    _vm._s(_vm.trans(module.menu.translation))\n                                  ),\n                                ]\n                              ),\n                            ]\n                          ),\n                        ]),\n                        _vm._v(\" \"),\n                        _vm._l(module.menu.submenu, function (submenu) {\n                          return _c(\n                            \"div\",\n                            {\n                              directives: [\n                                {\n                                  name: \"show\",\n                                  rawName: \"v-show\",\n                                  value: module.menu.visibility,\n                                  expression: \"module.menu.visibility\",\n                                },\n                              ],\n                              staticClass: \"form-group\",\n                              staticStyle: { \"padding-left\": \"40px\" },\n                            },\n                            [\n                              _c(\n                                \"label\",\n                                {\n                                  staticClass: \"custom-control custom-checkbox\",\n                                },\n                                [\n                                  _c(\"input\", {\n                                    directives: [\n                                      {\n                                        name: \"model\",\n                                        rawName: \"v-model\",\n                                        value: submenu.visibility,\n                                        expression: \"submenu.visibility\",\n                                      },\n                                    ],\n                                    staticClass: \"custom-control-input\",\n                                    attrs: {\n                                      type: \"checkbox\",\n                                      value: \"1\",\n                                      name: _vm.getMenuName(submenu.name),\n                                    },\n                                    domProps: {\n                                      checked: Array.isArray(submenu.visibility)\n                                        ? _vm._i(submenu.visibility, \"1\") > -1\n                                        : submenu.visibility,\n                                    },\n                                    on: {\n                                      change: function ($event) {\n                                        var $$a = submenu.visibility,\n                                          $$el = $event.target,\n                                          $$c = $$el.checked ? true : false\n                                        if (Array.isArray($$a)) {\n                                          var $$v = \"1\",\n                                            $$i = _vm._i($$a, $$v)\n                                          if ($$el.checked) {\n                                            $$i < 0 &&\n                                              _vm.$set(\n                                                submenu,\n                                                \"visibility\",\n                                                $$a.concat([$$v])\n                                              )\n                                          } else {\n                                            $$i > -1 &&\n                                              _vm.$set(\n                                                submenu,\n                                                \"visibility\",\n                                                $$a\n                                                  .slice(0, $$i)\n                                                  .concat($$a.slice($$i + 1))\n                                              )\n                                          }\n                                        } else {\n                                          _vm.$set(submenu, \"visibility\", $$c)\n                                        }\n                                      },\n                                    },\n                                  }),\n                                  _vm._v(\" \"),\n                                  _c(\n                                    \"span\",\n                                    { staticClass: \"custom-control-label\" },\n                                    [\n                                      _vm._v(\n                                        _vm._s(_vm.trans(submenu.translation))\n                                      ),\n                                    ]\n                                  ),\n                                ]\n                              ),\n                            ]\n                          )\n                        }),\n                      ]\n                    }),\n                  ],\n                  2\n                ),\n              ]),\n              _vm._v(\" \"),\n              !_vm.setupWizard\n                ? _c(\n                    \"button\",\n                    {\n                      staticClass:\n                        \"btn btn-info waves-effect waves-light pull-right m-t-10\",\n                      attrs: { type: \"submit\" },\n                    },\n                    [_vm._v(_vm._s(_vm.trans(\"general.save\")))]\n                  )\n                : _vm._e(),\n            ]\n          ),\n        ]),\n      ]),\n    ]),\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"div\",\n    [\n      _c(\"div\", { staticClass: \"page-titles\" }, [\n        _c(\"div\", { staticClass: \"row\" }, [\n          _c(\"div\", { staticClass: \"col-12 col-sm-6\" }, [\n            _c(\"h3\", { staticClass: \"text-themecolor\" }, [\n              _vm._v(_vm._s(_vm.trans(\"configuration.menu_configuration\"))),\n            ]),\n          ]),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"col-12 col-sm-6\" }, [\n            _c(\n              \"div\",\n              { staticClass: \"action-buttons pull-right\" },\n              [\n                _c(\n                  \"button\",\n                  {\n                    staticClass: \"btn btn-info btn-sm\",\n                    on: {\n                      click: function ($event) {\n                        return _vm.$router.push(\"/dashboard\")\n                      },\n                    },\n                  },\n                  [\n                    _c(\"i\", { staticClass: \"fas fa-home\" }),\n                    _vm._v(\" \"),\n                    _c(\"span\", { staticClass: \"d-none d-sm-inline\" }, [\n                      _vm._v(_vm._s(_vm.trans(\"general.home\"))),\n                    ]),\n                  ]\n                ),\n                _vm._v(\" \"),\n                _c(\"help-button\", {\n                  on: {\n                    clicked: function ($event) {\n                      _vm.help_topic = \"configuration.menu\"\n                    },\n                  },\n                }),\n              ],\n              1\n            ),\n          ]),\n        ]),\n      ]),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"container-fluid\" }, [_c(\"menu-form\")], 1),\n      _vm._v(\" \"),\n      _c(\"right-panel\", { attrs: { topic: _vm.help_topic } }),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./form.vue?vue&type=template&id=4911de6c&\"\nimport script from \"./form.vue?vue&type=script&lang=js&\"\nexport * from \"./form.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\Work_shop\\\\Php_Labs\\\\laragon\\\\www\\\\Yogaschool\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('4911de6c')) {\n      api.createRecord('4911de6c', component.options)\n    } else {\n      api.reload('4911de6c', component.options)\n    }\n    module.hot.accept(\"./form.vue?vue&type=template&id=4911de6c&\", function () {\n      api.rerender('4911de6c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/views/configuration/menu/form.vue\"\nexport default component.exports","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3fca235a&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\Work_shop\\\\Php_Labs\\\\laragon\\\\www\\\\Yogaschool\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('3fca235a')) {\n      api.createRecord('3fca235a', component.options)\n    } else {\n      api.reload('3fca235a', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=3fca235a&\", function () {\n      api.rerender('3fca235a', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/views/configuration/menu/index.vue\"\nexport default component.exports","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./form.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./form.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ruleSet[1].rules[2]!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=template&id=3fca235a&\""],"names":[],"sourceRoot":""}