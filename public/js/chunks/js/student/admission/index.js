"use strict";(self.webpackChunkInstiKit=self.webpackChunkInstiKit||[]).push([[6261],{57722:(t,e,s)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function a(t,e,s){return(e=function(t){var e=function(t,e){if("object"!==n(t)||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var a=s.call(t,e||"default");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===n(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}s.r(e),s.d(e,{default:()=>o});const i={components:{},data:function(){return{student_records:{total:0,data:[]},selectAll:!1,studentGroupForm:new Form({ids:[],student_group_id:"",action:"attach"}),student_groups:[],selected_group:null,filter:{sort_by:"first_name",order:"asc",batch_id:[],blood_group_id:[],religion_id:[],caste_id:[],gender:[],category_id:[],student_group_id:[],first_name:"",last_name:"",first_guardian_name:"",second_guardian_name:"",date_of_admission_start_date:"",date_of_birth_end_date:"",date_of_admission_end_date:"",date_of_birth_start_date:"",columns:["first_guardian_name","date_of_admission","admission_number","contact_number"],page_length:helper.getConfig("page_length")},orderByOptions:[{value:"first_name",translation:i18n.student.first_name},{value:"last_name",translation:i18n.student.last_name},{value:"first_guardian_name",translation:i18n.student.first_guardian_name},{value:"second_guardian_name",translation:i18n.student.second_guardian_name},{value:"date_of_birth",translation:i18n.student.date_of_birth}],columns:[{text:i18n.student.admission_number,value:"admission_number"},{text:i18n.student.roll_number,value:"roll_number"},{text:i18n.student.middle_name,value:"middle_name"},{text:i18n.student.first_guardian_name,value:"first_guardian_name"},{text:i18n.student.second_guardian_name,value:"second_guardian_name"},{text:i18n.student.date_of_birth,value:"date_of_birth"},{text:i18n.student.date_of_admission,value:"date_of_admission"},{text:i18n.student.date_of_promotion,value:"date_of_promotion"},{text:i18n.student.contact_number,value:"contact_number"},{text:i18n.student.gender,value:"gender"},{text:i18n.student.nationality,value:"nationality"},{text:i18n.misc.blood_group,value:"blood_group"},{text:i18n.misc.religion,value:"religion"},{text:i18n.misc.caste,value:"caste"},{text:i18n.misc.category,value:"category"},{text:i18n.student.unique_identification_number,value:"unique_identification_number"},{text:i18n.student.first_guardian_contact_number_1,value:"first_guardian_contact_number_1"},{text:i18n.student.second_guardian_contact_number_1,value:"second_guardian_contact_number_1"},{text:i18n.student.emergency_contact_name,value:"emergency_contact_name"},{text:i18n.student.emergency_contact_number,value:"emergency_contact_number"},{text:i18n.student.present_address,value:"present_address"},{text:i18n.student.permanent_address,value:"permanent_address"}],batches:[],selected_batches:null,blood_groups:[],selected_blood_groups:null,castes:[],genders:[],selected_genders:null,selected_castes:null,religions:[],selected_religions:null,categories:[],selected_categories:null,showFilterPanel:!1,showColumnPanel:!1,selected_student_groups:null,help_topic:""}},mounted:function(){helper.hasPermission("list-student")||helper.hasPermission("list-class-teacher-wise-student")||(helper.notAccessibleMsg(),this.$router.push("/dashboard")),this.getStudents(),helper.showDemoNotification(["student_admission"])},methods:{hasPermission:function(t){return helper.hasPermission(t)},hasNotAnyRole:function(t){return helper.hasNotAnyRole(t)},getConfig:function(t){return helper.getConfig(t)},getStudents:function(t){var e=this,s=this.$loading.show();"number"!=typeof t&&(t=1),this.selectAll=!1,this.filter.date_of_admission_start_date=helper.toDate(this.filter.date_of_admission_start_date),this.filter.date_of_admission_end_date=helper.toDate(this.filter.date_of_admission_end_date),this.filter.date_of_birth_start_date=helper.toDate(this.filter.date_of_birth_start_date),this.filter.date_of_birth_end_date=helper.toDate(this.filter.date_of_birth_end_date);var n=helper.getFilterURL(this.filter);axios.get("/api/student?page="+t+n).then((function(t){e.student_records=t.student_records,e.batches=t.filters.batches,e.blood_groups=t.filters.blood_groups,e.religions=t.filters.religions,e.castes=t.filters.castes,e.genders=t.filters.genders,e.categories=t.filters.categories,e.student_groups=t.filters.student_groups;var n=[];e.student_records.data.forEach((function(t){n.push(t.student.id)})),e.selectAll=n.every((function(t){return e.studentGroupForm.ids.indexOf(t)>-1}))?1:0,s.hide()})).catch((function(t){s.hide(),helper.showErrorMsg(t)}))},toggleSelectAll:function(){var t=this;this.selectAll?this.student_records.data.forEach((function(e){t.studentGroupForm.ids.indexOf(e.student.id)<0&&t.studentGroupForm.ids.push(e.student.id)})):this.student_records.data.forEach((function(e){var s=t.studentGroupForm.ids.indexOf(e.student.id);s>=0&&t.studentGroupForm.ids.splice(s,1)}))},getStudentName:function(t){return helper.getStudentName(t)},print:function(){var t=this.$loading.show();if(this.filter.columns.length>6)return toastr.error(i18n.student.print_max_column),void t.hide();axios.post("/api/student/print",{filter:this.filter}).then((function(e){window.open("/print").document.write(e),t.hide()})).catch((function(e){t.hide(),helper.showErrorMsg(e)}))},pdf:function(){var t=this,e=this.$loading.show();if(this.filter.columns.length>6)return toastr.error(i18n.student.print_max_column),void e.hide();axios.post("/api/student/pdf",{filter:this.filter}).then((function(s){e.hide(),window.open("/download/report/"+s+"?token="+t.authToken)})).catch((function(t){e.hide(),helper.showErrorMsg(t)}))},exportExcel:function(){return"/api/student?action=excel"+helper.getFilterURL(this.filter)+"&token="+this.authToken},onBatchSelect:function(t){this.filter.batch_id.push(t.id)},onBatchRemove:function(t){this.filter.batch_id.splice(this.filter.batch_id.indexOf(t.id),1)},onBloodGroupSelect:function(t){this.filter.blood_group_id.push(t.id)},onBloodGroupRemove:function(t){this.filter.blood_group_id.splice(this.filter.blood_group_id.indexOf(t.id),1)},onReligionSelect:function(t){this.filter.religion_id.push(t.id)},onReligionRemove:function(t){this.filter.religion_id.splice(this.filter.religion_id.indexOf(t.id),1)},onCasteSelect:function(t){this.filter.caste_id.push(t.id)},onCasteRemove:function(t){this.filter.caste_id.splice(this.filter.caste_id.indexOf(t.id),1)},onGenderSelect:function(t){this.filter.gender.push(t.id)},onGenderRemove:function(t){this.filter.gender.splice(this.filter.gender.indexOf(t.id),1)},onCategorySelect:function(t){this.filter.category_id.push(t.id)},onCategoryRemove:function(t){this.filter.category_id.splice(this.filter.category_id.indexOf(t.id),1)},isColumnVisible:function(t){return this.filter.columns.indexOf(t)>-1},getRollNumber:function(t){return helper.getRollNumber(t)},getCourse:function(t){return t.batch.course.name},getBatch:function(t){return t.batch.name},onStudentGroupSelect:function(t){this.filter.student_group_id.push(t.id)},onStudentGroupRemove:function(t){this.filter.student_group_id.splice(this.filter.student_group_id.indexOf(t.id),1)},onGroupSelect:function(t){this.studentGroupForm.student_group_id=t.id},confirmGroupAction:function(){var t=this;return function(e){return t.groupAction()}},groupAction:function(){var t=this,e=this.$loading.show();this.studentGroupForm.post("/api/student/action/group").then((function(s){toastr.success(s.message),t.getStudents(),t.studentGroupForm.action="attach",t.selected_group=null,t.studentGroupForm.ids=[],e.hide()})).catch((function(t){e.hide(),helper.showErrorMsg(t)}))}},computed:{authToken:function(){return helper.getAuthToken()}},filters:{moment:function(t){return helper.formatDate(t)},momentDateTime:function(t){return helper.formatDateTime(t)}},watch:{"filter.sort_by":function(t){this.getStudents()},"filter.order":function(t){this.getStudents()},"filter.page_length":function(t){this.getStudents()}}};const o=(0,s(51900).Z)(i,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"page-titles"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-6"},[e("h3",{staticClass:"text-themecolor"},[t._v(t._s(t.trans("student.student_list"))+" \n                    "),t.student_records.total?e("span",{staticClass:"card-subtitle d-none d-sm-inline"},[t._v(t._s(t.trans("general.total_result_found",{count:t.student_records.total,from:t.student_records.from,to:t.student_records.to})))]):e("span",{staticClass:"card-subtitle d-none d-sm-inline"},[t._v(t._s(t.trans("general.no_result_found")))])])]),t._v(" "),e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"action-buttons pull-right"},[t.hasNotAnyRole(["student","parent"])?[e("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.trans("general.card_view"),expression:"trans('general.card_view')"}],staticClass:"btn btn-info btn-sm",on:{click:function(e){return t.$router.push("/student/card-view")}}},[e("i",{staticClass:"fas fa-th"}),t._v(" "),e("span",{staticClass:"d-none d-sm-inline"},[t._v(t._s(t.trans("general.card_view")))])]),t._v(" "),t.student_records.total&&t.hasPermission("list-registration")?e("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.trans("general.add_new"),expression:"trans('general.add_new')"}],staticClass:"btn btn-info btn-sm",on:{click:function(e){return t.$router.push("/student/registration")}}},[e("i",{staticClass:"fas fa-plus"}),t._v(" "),e("span",{staticClass:"d-none d-sm-inline"},[t._v(t._s(t.trans("student.add_new_student")))])]):t._e(),t._v(" "),t.showFilterPanel?t._e():e("button",{staticClass:"btn btn-info btn-sm",on:{click:function(e){t.showFilterPanel=!t.showFilterPanel}}},[e("i",{staticClass:"fas fa-filter"}),t._v(" "),e("span",{staticClass:"d-none d-sm-inline"},[t._v(t._s(t.trans("general.filter")))])]),t._v(" "),t.showColumnPanel?t._e():e("button",{staticClass:"btn btn-info btn-sm",on:{click:function(e){t.showColumnPanel=!t.showColumnPanel}}},[e("i",{staticClass:"fas fa-columns"}),t._v(" "+t._s(t.trans("general.column")))]),t._v(" "),e("sort-by",{attrs:{"order-by-options":t.orderByOptions,"sort-by":t.filter.sort_by,order:t.filter.order},on:{updateSortBy:function(e){t.filter.sort_by=e},updateOrder:function(e){t.filter.order=e}}}),t._v(" "),e("div",{staticClass:"btn-group"},[e("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.trans("general.more_option"),expression:"trans('general.more_option')"}],staticClass:"btn btn-info btn-sm dropdown-toggle no-caret",attrs:{type:"button",role:"menu",id:"moreOption","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-ellipsis-h"}),t._v(" "),e("span",{staticClass:"d-none d-sm-inline"})]),t._v(" "),e("div",{class:["dropdown-menu","ltr"==t.getConfig("direction")?"dropdown-menu-right":""],attrs:{"aria-labelledby":"moreOption"}},[e("button",{staticClass:"dropdown-item custom-dropdown",on:{click:t.print}},[e("i",{staticClass:"fas fa-print"}),t._v(" "+t._s(t.trans("general.print")))]),t._v(" "),e("button",{staticClass:"dropdown-item custom-dropdown",on:{click:t.pdf}},[e("i",{staticClass:"fas fa-file-pdf"}),t._v(" "+t._s(t.trans("general.generate_pdf")))]),t._v(" "),e("a",{staticClass:"dropdown-item custom-dropdown",attrs:{href:t.exportExcel()}},[e("i",{staticClass:"fas fa-file-excel"}),t._v(" "+t._s(t.trans("general.generate_excel")))]),t._v(" "),e("button",{staticClass:"dropdown-item custom-dropdown",on:{click:function(e){return t.$router.go(-1)}}},[e("i",{staticClass:"fas fa-undo"}),t._v(" "+t._s(t.trans("general.back")))])])]),t._v(" "),e("help-button",{on:{clicked:function(e){t.help_topic="admission"}}})]:t._e()],2)])])]),t._v(" "),e("div",{staticClass:"container-fluid"},[e("transition",{attrs:{name:"fade"}},[t.showColumnPanel?e("div",{staticClass:"card card-form"},[e("div",{staticClass:"card-body"},[e("h4",{staticClass:"card-title"},[t._v(t._s(t.trans("general.column")))]),t._v(" "),e("div",{staticClass:"row"},t._l(t.columns,(function(s){return e("div",{staticClass:"col-12 col-sm-2"},[e("label",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.columns,expression:"filter.columns"}],staticClass:"custom-control-input",attrs:{type:"checkbox"},domProps:{value:s.value,checked:Array.isArray(t.filter.columns)?t._i(t.filter.columns,s.value)>-1:t.filter.columns},on:{change:function(e){var n=t.filter.columns,a=e.target,i=!!a.checked;if(Array.isArray(n)){var o=s.value,r=t._i(n,o);a.checked?r<0&&t.$set(t.filter,"columns",n.concat([o])):r>-1&&t.$set(t.filter,"columns",n.slice(0,r).concat(n.slice(r+1)))}else t.$set(t.filter,"columns",i)}}}),t._v(" "),e("span",{staticClass:"custom-control-label"},[t._v(t._s(s.text))])])])})),0),t._v(" "),e("div",{staticClass:"card-footer text-right"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){t.showColumnPanel=!1}}},[t._v(t._s(t.trans("general.cancel")))])])])]):t._e()]),t._v(" "),e("transition",{attrs:{name:"fade"}},[t.showFilterPanel?e("div",{staticClass:"card card-form"},[e("div",{staticClass:"card-body"},[e("h4",{staticClass:"card-title"},[t._v(t._s(t.trans("general.filter"))+"\n                    ")]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-2"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("student.first_name")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.first_name,expression:"filter.first_name"}],staticClass:"form-control",attrs:{name:"first_name"},domProps:{value:t.filter.first_name},on:{input:function(e){e.target.composing||t.$set(t.filter,"first_name",e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-12 col-sm-2"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("student.last_name")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.last_name,expression:"filter.last_name"}],staticClass:"form-control",attrs:{name:"last_name"},domProps:{value:t.filter.last_name},on:{input:function(e){e.target.composing||t.$set(t.filter,"last_name",e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-12 col-sm-2"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("student.first_guardian_name")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.first_guardian_name,expression:"filter.first_guardian_name"}],staticClass:"form-control",attrs:{name:"first_guardian_name"},domProps:{value:t.filter.first_guardian_name},on:{input:function(e){e.target.composing||t.$set(t.filter,"first_guardian_name",e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-12 col-sm-2"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("student.second_guardian_name")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.second_guardian_name,expression:"filter.second_guardian_name"}],staticClass:"form-control",attrs:{name:"second_guardian_name"},domProps:{value:t.filter.second_guardian_name},on:{input:function(e){e.target.composing||t.$set(t.filter,"second_guardian_name",e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-12 col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("academic.batch")))]),t._v(" "),e("v-select",{attrs:{label:"name","track-by":"id","group-values":"batches","group-label":"course_group","group-select":!1,name:"batch_id",id:"batch_id",options:t.batches,placeholder:t.trans("academic.select_batch"),multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,selected:t.selected_batches},on:{select:t.onBatchSelect,remove:t.onBatchRemove},model:{value:t.selected_batches,callback:function(e){t.selected_batches=e},expression:"selected_batches"}},[t.batches.length?t._e():e("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[t._v("\n                                        "+t._s(t.trans("general.no_option_found"))+"\n                                    ")])])],1)]),t._v(" "),e("div",{staticClass:"col-12 col-sm-6"},[e("date-range-picker",{attrs:{"start-date":t.filter.date_of_birth_start_date,"end-date":t.filter.date_of_birth_end_date,label:t.trans("student.date_of_birth_between")},on:{"update:startDate":function(e){return t.$set(t.filter,"date_of_birth_start_date",e)},"update:start-date":function(e){return t.$set(t.filter,"date_of_birth_start_date",e)},"update:endDate":function(e){return t.$set(t.filter,"date_of_birth_end_date",e)},"update:end-date":function(e){return t.$set(t.filter,"date_of_birth_end_date",e)}}})],1),t._v(" "),e("div",{staticClass:"col-12 col-sm-6"},[e("date-range-picker",{attrs:{"start-date":t.filter.date_of_admission_start_date,"end-date":t.filter.date_of_admission_end_date,label:t.trans("student.date_of_admission_between")},on:{"update:startDate":function(e){return t.$set(t.filter,"date_of_admission_start_date",e)},"update:start-date":function(e){return t.$set(t.filter,"date_of_admission_start_date",e)},"update:endDate":function(e){return t.$set(t.filter,"date_of_admission_end_date",e)},"update:end-date":function(e){return t.$set(t.filter,"date_of_admission_end_date",e)}}})],1),t._v(" "),e("div",{staticClass:"col-12 col-sm-2"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("student.student_group")))]),t._v(" "),e("v-select",{attrs:{label:"name","track-by":"id",name:"student_group_id",id:"student_group_id",options:t.student_groups,placeholder:t.trans("student.select_student_group"),multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,selected:t.selected_student_groups},on:{select:t.onStudentGroupSelect,remove:t.onStudentGroupRemove},model:{value:t.selected_student_groups,callback:function(e){t.selected_student_groups=e},expression:"selected_student_groups"}},[t.student_groups.length?t._e():e("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[t._v("\n                                        "+t._s(t.trans("general.no_option_found"))+"\n                                    ")])])],1)]),t._v(" "),e("div",{staticClass:"col-12 col-sm-2"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("student.gender")))]),t._v(" "),e("v-select",{attrs:{label:"name","track-by":"id",name:"gender",id:"gender",options:t.genders,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,selected:t.selected_genders},on:{select:t.onGenderSelect,remove:t.onGenderRemove},model:{value:t.selected_genders,callback:function(e){t.selected_genders=e},expression:"selected_genders"}},[t.genders.length?t._e():e("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[t._v("\n                                        "+t._s(t.trans("general.no_option_found"))+"\n                                    ")])])],1)]),t._v(" "),e("div",{staticClass:"col-12 col-sm-2"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("misc.blood_group")))]),t._v(" "),e("v-select",{attrs:{label:"name","track-by":"id",name:"blood_group_id",id:"blood_group_id",options:t.blood_groups,placeholder:t.trans("misc.select_blood_group"),multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,selected:t.selected_blood_groups},on:{select:t.onBloodGroupSelect,remove:t.onBloodGroupRemove},model:{value:t.selected_blood_groups,callback:function(e){t.selected_blood_groups=e},expression:"selected_blood_groups"}},[t.blood_groups.length?t._e():e("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[t._v("\n                                        "+t._s(t.trans("general.no_option_found"))+"\n                                    ")])])],1)]),t._v(" "),e("div",{staticClass:"col-12 col-sm-2"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("misc.religion")))]),t._v(" "),e("v-select",{attrs:{label:"name","track-by":"id",name:"religion_id",id:"religion_id",options:t.religions,placeholder:t.trans("misc.select_religion"),multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,selected:t.selected_religions},on:{select:t.onReligionSelect,remove:t.onReligionRemove},model:{value:t.selected_religions,callback:function(e){t.selected_religions=e},expression:"selected_religions"}},[t.religions.length?t._e():e("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[t._v("\n                                        "+t._s(t.trans("general.no_option_found"))+"\n                                    ")])])],1)]),t._v(" "),e("div",{staticClass:"col-12 col-sm-2"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("misc.caste")))]),t._v(" "),e("v-select",{attrs:{label:"name","track-by":"id",name:"caste_id",id:"caste_id",options:t.castes,placeholder:t.trans("misc.select_caste"),multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,selected:t.selected_castes},on:{select:t.onCasteSelect,remove:t.onCasteRemove},model:{value:t.selected_castes,callback:function(e){t.selected_castes=e},expression:"selected_castes"}},[t.castes.length?t._e():e("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[t._v("\n                                        "+t._s(t.trans("general.no_option_found"))+"\n                                    ")])])],1)]),t._v(" "),e("div",{staticClass:"col-12 col-sm-2"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("misc.category")))]),t._v(" "),e("v-select",{attrs:{label:"name","track-by":"id",name:"category_id",id:"category_id",options:t.categories,placeholder:t.trans("misc.select_category"),multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,selected:t.selected_categories},on:{select:t.onCategorySelect,remove:t.onCategoryRemove},model:{value:t.selected_categories,callback:function(e){t.selected_categories=e},expression:"selected_categories"}},[t.categories.length?t._e():e("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[t._v("\n                                        "+t._s(t.trans("general.no_option_found"))+"\n                                    ")])])],1)])]),t._v(" "),e("div",{staticClass:"card-footer text-right"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){t.showFilterPanel=!1}}},[t._v(t._s(t.trans("general.cancel")))]),t._v(" "),e("button",{staticClass:"btn btn-info waves-effect waves-light",attrs:{type:"button"},on:{click:t.getStudents}},[t._v(t._s(t.trans("general.filter")))])])])]):t._e()]),t._v(" "),e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[t.student_records.total?e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-sm"},[e("thead",[e("tr",[t.hasPermission("edit-student")?e("th",{staticClass:"select-all"},[e("label",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{type:"checkbox",value:"1"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,"1")>-1:t.selectAll},on:{change:[function(e){var s=t.selectAll,n=e.target,a=!!n.checked;if(Array.isArray(s)){var i=t._i(s,"1");n.checked?i<0&&(t.selectAll=s.concat(["1"])):i>-1&&(t.selectAll=s.slice(0,i).concat(s.slice(i+1)))}else t.selectAll=a},t.toggleSelectAll]}}),t._v(" "),e("span",{staticClass:"custom-control-label"})])]):t._e(),t._v(" "),t.isColumnVisible("admission_number")?e("th",[t._v(t._s(t.trans("student.admission_number_short")))]):t._e(),t._v(" "),t.isColumnVisible("roll_number")?e("th",[t._v(t._s(t.trans("student.roll_number")))]):t._e(),t._v(" "),e("th",[t._v(t._s(t.trans("student.first_name")))]),t._v(" "),t.isColumnVisible("middle_name")?e("th",[t._v(t._s(t.trans("student.middle_name")))]):t._e(),t._v(" "),e("th",[t._v(t._s(t.trans("student.last_name")))]),t._v(" "),t.isColumnVisible("gender")?e("th",[t._v(t._s(t.trans("student.gender")))]):t._e(),t._v(" "),t.isColumnVisible("first_guardian_name")?e("th",[t._v(t._s(t.trans("student.first_guardian_name")))]):t._e(),t._v(" "),t.isColumnVisible("second_guardian_name")?e("th",[t._v(t._s(t.trans("student.second_guardian_name")))]):t._e(),t._v(" "),t.isColumnVisible("date_of_birth")?e("th",[t._v(t._s(t.trans("student.date_of_birth")))]):t._e(),t._v(" "),t.isColumnVisible("date_of_admission")?e("th",[t._v(t._s(t.trans("student.date_of_admission")))]):t._e(),t._v(" "),t.isColumnVisible("date_of_promotion")?e("th",[t._v(t._s(t.trans("student.date_of_promotion")))]):t._e(),t._v(" "),t.isColumnVisible("contact_number")?e("th",[t._v(t._s(t.trans("student.contact_number")))]):t._e(),t._v(" "),e("th",[t._v(t._s(t.trans("academic.course")))]),t._v(" "),e("th",[t._v(t._s(t.trans("academic.batch")))]),t._v(" "),t.isColumnVisible("nationality")?e("th",[t._v(t._s(t.trans("student.nationality")))]):t._e(),t._v(" "),t.isColumnVisible("blood_group")?e("th",[t._v(t._s(t.trans("misc.blood_group")))]):t._e(),t._v(" "),t.isColumnVisible("religion")?e("th",[t._v(t._s(t.trans("misc.religion")))]):t._e(),t._v(" "),t.isColumnVisible("caste")?e("th",[t._v(t._s(t.trans("misc.caste")))]):t._e(),t._v(" "),t.isColumnVisible("category")?e("th",[t._v(t._s(t.trans("misc.category")))]):t._e(),t._v(" "),t.isColumnVisible("unique_identification_number")?e("th",[t._v(t._s(t.trans("student.unique_identification_number")))]):t._e(),t._v(" "),t.isColumnVisible("first_guardian_contact_number_1")?e("th",[t._v(t._s(t.trans("student.first_guardian_contact_number_1")))]):t._e(),t._v(" "),t.isColumnVisible("second_guardian_contact_number_1")?e("th",[t._v(t._s(t.trans("student.second_guardian_contact_number_1")))]):t._e(),t._v(" "),t.isColumnVisible("emergency_contact_name")?e("th",[t._v(t._s(t.trans("student.emergency_contact_name")))]):t._e(),t._v(" "),t.isColumnVisible("emergency_contact_number")?e("th",[t._v(t._s(t.trans("student.emergency_contact_number")))]):t._e(),t._v(" "),t.isColumnVisible("present_address")?e("th",[t._v(t._s(t.trans("student.present_address")))]):t._e(),t._v(" "),t.isColumnVisible("permanent_address")?e("th",[t._v(t._s(t.trans("student.permanent_address")))]):t._e(),t._v(" "),e("th",{staticClass:"table-option"},[t._v(t._s(t.trans("general.action")))])])]),t._v(" "),e("tbody",t._l(t.student_records.data,(function(s){return e("tr",[t.hasPermission("edit-student")?e("td",{staticClass:"select-all"},[e("label",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.studentGroupForm.ids,expression:"studentGroupForm.ids"}],staticClass:"custom-control-input",attrs:{type:"checkbox"},domProps:{value:s.student.id,checked:Array.isArray(t.studentGroupForm.ids)?t._i(t.studentGroupForm.ids,s.student.id)>-1:t.studentGroupForm.ids},on:{change:function(e){var n=t.studentGroupForm.ids,a=e.target,i=!!a.checked;if(Array.isArray(n)){var o=s.student.id,r=t._i(n,o);a.checked?r<0&&t.$set(t.studentGroupForm,"ids",n.concat([o])):r>-1&&t.$set(t.studentGroupForm,"ids",n.slice(0,r).concat(n.slice(r+1)))}else t.$set(t.studentGroupForm,"ids",i)}}}),t._v(" "),e("span",{staticClass:"custom-control-label"})])]):t._e(),t._v(" "),t.isColumnVisible("admission_number")?e("td",{domProps:{textContent:t._s(s.admission.admission_number)}}):t._e(),t._v(" "),t.isColumnVisible("roll_number")?e("td",{domProps:{textContent:t._s(t.getRollNumber(s))}}):t._e(),t._v(" "),e("td",{domProps:{textContent:t._s(s.student.first_name)}}),t._v(" "),t.isColumnVisible("middle_name")?e("td",{domProps:{textContent:t._s(s.student.middle_name)}}):t._e(),t._v(" "),e("td",[t._v(t._s(s.student.last_name||""))]),t._v(" "),t.isColumnVisible("gender")?e("td",[t._v(t._s(t.trans("list."+s.student.gender)))]):t._e(),t._v(" "),t.isColumnVisible("first_guardian_name")?e("td",{domProps:{textContent:t._s(s.student.parent?s.student.parent.first_guardian_name:"")}}):t._e(),t._v(" "),t.isColumnVisible("second_guardian_name")?e("td",{domProps:{textContent:t._s(s.student.parent?s.student.parent.second_guardian_name:"")}}):t._e(),t._v(" "),t.isColumnVisible("date_of_birth")?e("td",[t._v(t._s(t._f("moment")(s.student.date_of_birth)))]):t._e(),t._v(" "),t.isColumnVisible("date_of_admission")?e("td",[t._v(t._s(t._f("moment")(s.admission.date_of_admission)))]):t._e(),t._v(" "),t.isColumnVisible("date_of_promotion")?e("td",[t._v(t._s(t._f("moment")(s.date_of_entry)))]):t._e(),t._v(" "),t.isColumnVisible("contact_number")?e("td",{domProps:{textContent:t._s(s.student.contact_number)}}):t._e(),t._v(" "),e("td",{domProps:{textContent:t._s(t.getCourse(s))}}),t._v(" "),e("td",{domProps:{textContent:t._s(t.getBatch(s))}}),t._v(" "),t.isColumnVisible("nationality")?e("td",{domProps:{textContent:t._s(s.student.nationality)}}):t._e(),t._v(" "),t.isColumnVisible("blood_group")?e("td",{domProps:{textContent:t._s(s.student.blood_group?s.student.blood_group.name:"")}}):t._e(),t._v(" "),t.isColumnVisible("religion")?e("td",{domProps:{textContent:t._s(s.student.religion?s.student.religion.name:"")}}):t._e(),t._v(" "),t.isColumnVisible("caste")?e("td",{domProps:{textContent:t._s(s.student.caste?s.student.caste.name:"")}}):t._e(),t._v(" "),t.isColumnVisible("category")?e("td",{domProps:{textContent:t._s(s.student.category?s.student.category.name:"")}}):t._e(),t._v(" "),t.isColumnVisible("unique_identification_number")?e("td",{domProps:{textContent:t._s(s.student.unique_identification_number)}}):t._e(),t._v(" "),t.isColumnVisible("first_guardian_contact_number_1")?e("td",{domProps:{textContent:t._s(s.student.parent.first_guardian_contact_number_1)}}):t._e(),t._v(" "),t.isColumnVisible("second_guardian_contact_number_1")?e("td",{domProps:{textContent:t._s(s.student.parent.second_guardian_contact_number_1)}}):t._e(),t._v(" "),t.isColumnVisible("emergency_contact_name")?e("td",{domProps:{textContent:t._s(s.student.emergency_contact_name)}}):t._e(),t._v(" "),t.isColumnVisible("emergency_contact_number")?e("td",{domProps:{textContent:t._s(s.student.emergency_contact_number)}}):t._e(),t._v(" "),t.isColumnVisible("present_address")?e("td",[t._v("\n                                    "+t._s(s.student.present_address_line_1)+"\n                                    "),s.student.present_address_line_2?e("span",[t._v(", "+t._s(s.student.present_address_line_2))]):t._e(),t._v(" "),s.student.present_city?e("span",[e("br"),t._v(" "+t._s(s.student.present_city))]):t._e(),t._v(" "),s.student.present_state?e("span",[t._v(", "+t._s(s.student.present_state))]):t._e(),t._v(" "),s.student.present_zipcode?e("span",[t._v(", "+t._s(s.student.present_zipcode))]):t._e(),t._v(" "),s.student.present_country?e("span",[e("br"),t._v(" "+t._s(s.student.present_country))]):t._e()]):t._e(),t._v(" "),t.isColumnVisible("permanent_address")?e("td",[s.student.same_as_present_address?[t._v(t._s(t.trans("student.same_as_present_address")))]:[t._v("\n                                        "+t._s(s.student.permanent_address_line_1)+"\n                                        "),s.student.permanent_address_line_2?e("span",[t._v(", "+t._s(s.student.permanent_address_line_2))]):t._e(),t._v(" "),s.student.permanent_city?e("span",[e("br"),t._v(" "+t._s(s.student.permanent_city))]):t._e(),t._v(" "),s.student.permanent_state?e("span",[t._v(", "+t._s(s.student.permanent_state))]):t._e(),t._v(" "),s.student.permanent_zipcode?e("span",[t._v(", "+t._s(s.student.permanent_zipcode))]):t._e(),t._v(" "),s.student.permanent_country?e("span",[e("br"),t._v(" "+t._s(s.student.permanent_country))]):t._e()]],2):t._e(),t._v(" "),e("td",{staticClass:"table-option"},[t.hasNotAnyRole(["student","parent"])?e("div",{staticClass:"btn-group"},[e("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.trans("student.view_student_detail"),expression:"trans('student.view_student_detail')"}],staticClass:"btn btn-info btn-sm",on:{click:function(e){return t.$router.push("/student/"+s.student.uuid)}}},[e("i",{staticClass:"fas fa-arrow-circle-right"}),t._v(" "+t._s(t.trans("general.view"))+"\n                                        ")]),t._v(" "),t.hasPermission("list-student-fee")?[t._m(0,!0),t._v(" "),e("div",{staticClass:"dropdown-menu"},[e("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.trans("student.view_student_fee"),expression:"trans('student.view_student_fee')"}],staticClass:"dropdown-item custom-dropdown-menu",on:{click:function(e){return t.$router.push("/student/"+s.student.uuid+"/fee/"+s.id)}}},[e("i",{staticClass:"fas fa-file"}),t._v(" "+t._s(t.trans("finance.view_fee_allocation"))+"\n                                                ")])])]:t._e()],2):e("div",[e("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.trans("student.view_student_fee"),expression:"trans('student.view_student_fee')"}],staticClass:"btn btn-info btn-sm",on:{click:function(e){return t.$router.push("/student/"+s.student.uuid+"/fee/"+s.id)}}},[e("i",{staticClass:"fas fa-arrow-circle-right"}),t._v(" "+t._s(t.trans("finance.view_fee_allocation"))+"\n                                        ")])])])])})),0)])]):t._e(),t._v(" "),t.student_records.total?t._e():e("module-info",{attrs:{module:"student",title:"admission_module_title",description:"admission_module_description",icon:"list"}}),t._v(" "),e("pagination-record",{attrs:{"page-length":t.filter.page_length,records:t.student_records},on:{"update:pageLength":function(e){return t.$set(t.filter,"page_length",e)},"update:page-length":function(e){return t.$set(t.filter,"page_length",e)},updateRecords:t.getStudents}})],1),t._v(" "),t.studentGroupForm.ids.length&&t.hasPermission("edit-student")?e("div",{staticClass:"m-t-10 card-body border-top p-4"},[e("h4",{staticClass:"card-title"}),t._v(" "),e("form",{on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)},keydown:function(e){return t.studentGroupForm.errors.clear(e.target.name)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("student.student_group")))]),t._v(" "),e("v-select",{attrs:{label:"name","track-by":"id",name:"group_id",id:"group_id",options:t.student_groups,placeholder:t.trans("student.select_student_group")},on:{select:t.onGroupSelect,remove:function(e){t.studentGroupForm.student_group_id=""}},model:{value:t.selected_group,callback:function(e){t.selected_group=e},expression:"selected_group"}},[t.student_groups.length?t._e():e("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[t._v("\n                                        "+t._s(t.trans("general.no_option_found"))+"\n                                    ")])]),t._v(" "),e("show-error",{attrs:{"form-name":t.studentGroupForm,"prop-name":"group_id"}})],1)]),t._v(" "),e("div",{staticClass:"col-12 col-md-6"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"radio radio-success m-t-20"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.studentGroupForm.action,expression:"studentGroupForm.action"}],attrs:{type:"radio",value:"attach",id:"type_attach",name:"action"},domProps:a({checked:"attach"==t.studentGroupForm.action},"checked",t._q(t.studentGroupForm.action,"attach")),on:{click:function(e){return t.studentGroupForm.errors.clear("action")},change:function(e){return t.$set(t.studentGroupForm,"action","attach")}}}),t._v(" "),e("label",{attrs:{for:"type_attach"}},[t._v(t._s(t.trans("general.add")))])]),t._v(" "),e("div",{staticClass:"radio radio-success"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.studentGroupForm.action,expression:"studentGroupForm.action"}],attrs:{type:"radio",value:"detach",id:"type_detach",name:"action"},domProps:a({checked:"detach"==t.studentGroupForm.action},"checked",t._q(t.studentGroupForm.action,"detach")),on:{click:function(e){return t.studentGroupForm.errors.clear("action")},change:function(e){return t.$set(t.studentGroupForm,"action","detach")}}}),t._v(" "),e("label",{attrs:{for:"type_detach"}},[t._v(t._s(t.trans("general.remove")))])]),t._v(" "),e("show-error",{attrs:{"form-name":t.studentGroupForm,"prop-name":"action"}})],1)])]),t._v(" "),e("button",{directives:[{name:"confirm",rawName:"v-confirm",value:{ok:t.confirmGroupAction()},expression:"{ok: confirmGroupAction()}"}],key:"group-action",staticClass:"btn btn-info waves-effect waves-light",attrs:{type:"button"}},[t._v(t._s(t.trans("general.save")))])])]):t._e()])],1),t._v(" "),e("right-panel",{attrs:{topic:t.help_topic}})],1)}),[function(){var t=this._self._c;return t("button",{staticClass:"btn btn-sm btn-info dropdown-toggle dropdown-toggle-split",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t("span",{staticClass:"sr-only"},[this._v("Toggle Dropdown")])])}],!1,null,null,null).exports}}]);