"use strict";(self.webpackChunkInstiKit=self.webpackChunkInstiKit||[]).push([[4121],{68254:(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});const n={components:{studentSummary:s(22846).Z},data:function(){return{uuid:this.$route.params.uuid,record_id:this.$route.params.record_id,transport_circles:[],fee_concessions:[],student_record:{},studentFeeRecordForm:new Form({transport_circle_id:null,fee_concession_id:null},!1)}},mounted:function(){helper.hasPermission("set-fee")||(helper.notAccessibleMsg(),this.$router.push("/dashboard")),this.getRecord()},methods:{hasPermission:function(t){return helper.hasPermission(t)},getConfig:function(t){return helper.getConfig(t)},getStudentName:function(t){return helper.getStudentName(t)},getRecord:function(){var t=this;axios.get("/api/student/"+this.uuid+"/record/"+this.record_id).then((function(e){t.student_record=e.student_record,t.fee_concessions=e.fee_concessions,t.transport_circles=e.transport_circles,t.student_record.fee_allocation_id&&(toastr.error(i18n.student.fee_already_allocated),t.$router("/student/"+t.uuid+"/fee/"+t.record_id))})).catch((function(e){helper.showErrorMsg(e),t.$router.push("/student/"+t.uuid)}))},submit:function(){var t=this;this.studentFeeRecordForm.post("/api/student/"+this.uuid+"/fee/"+this.record_id).then((function(e){toastr.success(e.message),t.$router.push("/student/"+t.uuid+"/fee/"+t.record_id)})).catch((function(t){helper.showErrorMsg(t)}))}}};const r=(0,s(51900).Z)(n,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"page-titles"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-6"},[e("h3",{staticClass:"text-themecolor"},[t._v(t._s(t.trans("student.set_fee"))+" "),t.student_record.student?e("small",[t._v(t._s(t.getStudentName(t.student_record.student))+"  ("+t._s(t.student_record.academic_session.name)+")")]):t._e()])]),t._v(" "),e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"action-buttons pull-right"},[e("router-link",{staticClass:"btn btn-info btn-sm",attrs:{to:"/student/list"}},[e("i",{staticClass:"fas fa-list"}),t._v(" "),e("span",{staticClass:"d-none d-sm-inline"},[t._v(t._s(t.trans("student.student")))])]),t._v(" "),e("div",{staticClass:"btn-group"},[e("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.trans("general.more_option"),expression:"trans('general.more_option')"}],staticClass:"btn btn-info btn-sm dropdown-toggle no-caret",attrs:{type:"button",role:"menu",id:"moreOption","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-ellipsis-h"}),t._v(" "),e("span",{staticClass:"d-none d-sm-inline"})]),t._v(" "),e("div",{class:["dropdown-menu","ltr"==t.getConfig("direction")?"dropdown-menu-right":""],attrs:{"aria-labelledby":"moreOption"}},[e("button",{staticClass:"dropdown-item custom-dropdown",on:{click:function(e){return t.$router.push("/student/"+t.student_record.student.uuid)}}},[e("i",{staticClass:"fas fa-arrow-circle-right"}),t._v(" "+t._s(t.trans("student.view_detail")))])])])],1)])])]),t._v(" "),e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body py-4"},[e("student-summary",{staticClass:"border-bottom",attrs:{"student-record":t.student_record}})],1),t._v(" "),e("div",{staticClass:"card-body px-4"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)},keydown:function(e){return t.studentFeeRecordForm.errors.clear(e.target.name)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("transport.transport_circle")))]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.studentFeeRecordForm.transport_circle_id,expression:"studentFeeRecordForm.transport_circle_id"}],staticClass:"custom-select col-12",attrs:{name:"transport_circle_id"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.studentFeeRecordForm,"transport_circle_id",e.target.multiple?s:s[0])},function(t){}]}},[e("option",{domProps:{value:null}},[t._v(t._s(t.trans("transport.no_transport")))]),t._v(" "),t._l(t.transport_circles,(function(s){return e("option",{domProps:{value:s.id}},[t._v("\n                                                "+t._s(s.name)+"\n                                            ")])}))],2),t._v(" "),e("show-error",{attrs:{"form-name":t.studentFeeRecordForm,"prop-name":"transport_circle_id"}})],1)]),t._v(" "),e("div",{staticClass:"col-12 col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("finance.fee_concession")))]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.studentFeeRecordForm.fee_concession_id,expression:"studentFeeRecordForm.fee_concession_id"}],staticClass:"custom-select col-12",attrs:{name:"fee_concession_id"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.studentFeeRecordForm,"fee_concession_id",e.target.multiple?s:s[0])},function(t){}]}},[e("option",{domProps:{value:null}},[t._v(t._s(t.trans("finance.no_fee_concession")))]),t._v(" "),t._l(t.fee_concessions,(function(s){return e("option",{domProps:{value:s.id}},[t._v("\n                                                "+t._s(s.name)+"\n                                            ")])}))],2),t._v(" "),e("show-error",{attrs:{"form-name":t.studentFeeRecordForm,"prop-name":"fee_concession_id"}})],1)])]),t._v(" "),e("button",{staticClass:"btn btn-info waves-effect waves-light",attrs:{type:"submit"}},[t._v(t._s(t.trans("general.save")))])])])])])])])])}),[],!1,null,null,null).exports},22846:(t,e,s)=>{s.d(e,{Z:()=>r});const n={props:["studentRecord"],data:function(){return{student_record:{}}},mounted:function(){},methods:{getStudentName:function(t){return helper.getStudentName(t)},getAdmissionNumber:function(t){return helper.getAdmissionNumber(t)}},filters:{moment:function(t){return helper.formatDate(t)},momentDateTime:function(t){return helper.formatDateTime(t)}},computed:{getImage:function(){return this.student_record.student.student_photo?"/"+this.student_record.student.student_photo:"female"==this.student_record.student.gender?"/images/female.png":"/images/male.png"}},watch:{studentRecord:function(t){this.student_record=t}}};const r=(0,s(51900).Z)(n,(function(){var t=this,e=t._self._c;return t.student_record.student?e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-3"},[e("div",{staticClass:"form-group text-center"},[e("img",{staticClass:"img-fluid",staticStyle:{"max-width":"200px"},attrs:{src:t.getImage}})])]),t._v(" "),e("div",{staticClass:"col-12 col-sm-4"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-borderless custom-show-table"},[e("tbody",[e("tr",[e("td",{staticClass:"font-weight-bold"},[t._v(t._s(t.trans("student.name")))]),t._v(" "),e("td",[t._v(t._s(t.getStudentName(t.student_record.student)))])]),t._v(" "),e("tr",[e("td",{staticClass:"font-weight-bold"},[t._v(t._s(t.trans("student.admission_number")))]),t._v(" "),e("td",[t._v(t._s(t.getAdmissionNumber(t.student_record.admission)))])]),t._v(" "),e("tr",[e("td",{staticClass:"font-weight-bold"},[t._v(t._s(t.trans("student.date_of_admission")))]),t._v(" "),e("td",[t._v(t._s(t._f("moment")(t.student_record.admission.date_of_admission)))])]),t._v(" "),e("tr",[e("td",{staticClass:"font-weight-bold"},[t._v(t._s(t.trans("academic.course")))]),t._v(" "),e("td",[t._v(t._s(t.student_record.batch.course.name+" ("+t.student_record.batch.course.course_group.name+")"))])]),t._v(" "),e("tr",[e("td",{staticClass:"font-weight-bold"},[t._v(t._s(t.trans("academic.batch")))]),t._v(" "),e("td",[t._v(t._s(t.student_record.batch.name))])]),t._v(" "),e("tr",[e("td",{staticClass:"font-weight-bold"},[t._v(t._s(t.trans("student.date_of_birth")))]),t._v(" "),e("td",[t._v(t._s(t._f("moment")(t.student_record.student.date_of_birth)))])])])])])]),t._v(" "),e("div",{staticClass:"col-12 col-sm-4"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-borderless custom-show-table"},[e("tbody",[e("tr",[e("td",{staticClass:"font-weight-bold"},[t._v(t._s(t.trans("student.father_name")))]),t._v(" "),e("td",[t._v(t._s(t.student_record.student.parent?t.student_record.student.parent.father_name:""))])]),t._v(" "),e("tr",[e("td",{staticClass:"font-weight-bold"},[t._v(t._s(t.trans("student.mother_name")))]),t._v(" "),e("td",[t._v(t._s(t.student_record.student.parent?t.student_record.student.parent.mother_name:""))])]),t._v(" "),e("tr",[e("td",{staticClass:"font-weight-bold"},[t._v(t._s(t.trans("student.contact_number")))]),t._v(" "),e("td",[t._v(t._s(t.student_record.student.contact_number))])]),t._v(" "),e("tr",[e("td",{staticClass:"font-weight-bold"},[t._v(t._s(t.trans("student.present_address")))]),t._v(" "),e("td",[t._v("\n\t                            "+t._s(t.student_record.student.present_address_line_1)+"\n\t                            "),t.student_record.student.present_address_line_2?e("span",[t._v(", "+t._s(t.student_record.student.present_address_line_2))]):t._e(),t._v(" "),t.student_record.student.present_city?e("span",[e("br"),t._v(" "+t._s(t.student_record.student.present_city))]):t._e(),t._v(" "),t.student_record.student.present_state?e("span",[t._v(", "+t._s(t.student_record.student.present_state))]):t._e(),t._v(" "),t.student_record.student.present_zipcode?e("span",[t._v(", "+t._s(t.student_record.student.present_zipcode))]):t._e(),t._v(" "),t.student_record.student.present_country?e("span",[e("br"),t._v(" "+t._s(t.student_record.student.present_country))]):t._e()])])])])])])]):t._e()}),[],!1,null,null,null).exports}}]);