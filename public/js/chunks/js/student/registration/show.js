"use strict";(self.webpackChunkInstiKit=self.webpackChunkInstiKit||[]).push([[4935],{4564:(t,e,r)=>{r.d(e,{Z:()=>o});var n=r(94015),s=r.n(n),a=r(23645),i=r.n(a)()(s());i.push([t.id,".loading-overlay.is-full-page{z-index:1060}","",{version:3,sources:["webpack://./resources/js/views/student/registration/show.vue"],names:[],mappings:"AAgcA,8BACA,YACA",sourcesContent:['<template>\r\n    <div>\r\n        <div class="page-titles">\r\n            <div class="row">\r\n                <div class="col-12 col-sm-6">\r\n                    <h3 class="text-themecolor">{{trans(\'student.registration\')}}\r\n                        <span class="card-subtitle d-none d-sm-inline" v-if="registration.student">({{getStudentName(registration.student)+\' - \'+trans(\'student.registration_no\')+\': \'+registration.id}}) </span>\r\n                    </h3>\r\n                </div>\r\n                <div class="col-12 col-sm-6">\r\n                    <div class="action-buttons pull-right">\r\n                        <router-link to="/student/registration/card-view" class="btn btn-info btn-sm"><i class="fas fa-list"></i> <span class="d-none d-sm-inline">{{trans(\'student.registration\')}}</span></router-link>\r\n                        <router-link :to="`/student/${registration.student.uuid}`" class="btn btn-info btn-sm"><i class="fas fa-user"></i> <span class="d-none d-sm-inline">{{trans(\'student.student_detail\')}}</span></router-link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="container-fluid">\r\n            <div class="row">\r\n                <div class="col-12 col-sm-6">\r\n                \t<div class="card border-right">\r\n                \t\t<div class="card-body">\r\n                \t\t\t<h4 class="card-title m-3"><span class="d-none d-sm-inline">{{trans(\'student.registration_detail\')}}</span>\r\n                                <div class="dropdown pull-right" v-if="registration.registration_fee && registration.registration_fee_status == \'paid\' && registration.transactions.length">\r\n                                    <button type="button" class="btn btn-info btn-xs" href="#" role="button" id="moreOption" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" v-tooltip="trans(\'general.more_option\')">\r\n                                        <i class="fas fa-ellipsis-h"></i> <span class="d-none d-sm-inline">{{trans(\'finance.receipt\')}}</span>\r\n                                    </button>\r\n                                    <div class="dropdown-menu">\r\n                                        <button class="dropdown-item custom-dropdown-menu" @click="showReceiptModal = true"><i class="fas fa-arrow-circle-right"></i> {{trans(\'finance.receipt_detail\')}}</button>\r\n                                        <button class="dropdown-item custom-dropdown-menu" @click="printReceipt"><i class="fas fa-print"></i> {{trans(\'finance.print_receipt\')}}</button>\r\n                                    </div>\r\n                                </div>\r\n                                <button type="button" class="btn btn-info btn-xs pull-right " v-if="registration.status == \'pending\'" @click="editModal = true"><i class="fas fa-edit"></i> <span class="d-none d-sm-inline">{{trans(\'general.edit\')}}</span></button>\r\n                                <button type="button" class="btn btn-danger btn-xs pull-right " v-if="registration.status == \'pending\' && hasPermission(\'delete-registration\')" :key="registration.id" v-confirm="{ok: confirmDelete(registration)}" v-tooltip="trans(\'student.delete_registartion\')"><i class="fas fa-trash"></i> <span class="d-none d-sm-inline">{{trans(\'general.delete\')}}</span></button>\r\n                \t\t\t</h4>\r\n                            <div class="table-responsive">\r\n                                <table class="table table-sm custom-show-table">\r\n                                    <tbody>\r\n                                        <tr>\r\n                                        \t<td>{{trans(\'student.name\')}}</td>\r\n                                        \t<td>\r\n                                                {{getStudentName(registration.student)}}\r\n                                                <span v-if="registration.is_online">\r\n                                                    <span class="label label-info">{{trans(\'student.online_registration\')}}</span>\r\n                                                </span>\r\n                                            </td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td>{{trans(\'student.registration_status\')}}</td>\r\n                                            <td>\r\n                                                <span v-for="status in getRegistrationStatus(registration)" :class="[\'label\',\'label-\'+status.color,\'m-r-5\']">{{status.label}}</span>\r\n                                            </td>\r\n                                        </tr>\r\n                                        <tr v-if="registration.rejection_remarks && registration.status == \'rejected\'">\r\n                                            <td>{{trans(\'student.rejection_remarks\')}}</td>\r\n                                            <td class="text-danger">{{registration.rejection_remarks}}</td>\r\n                                        </tr>\r\n                                        <tr @mouseover="show_edit = true" @mouseout="show_edit = false">\r\n                                        \t<td>{{trans(\'academic.course\')}}</td>\r\n                                        \t<td>\r\n                                                {{registration.course.name+\' \'+getSession}}\r\n                                            </td>\r\n                                        </tr>\r\n                                        <tr v-if="registration.status == \'allotted\'">\r\n                                            <td>{{trans(\'academic.batch\')}}</td>\r\n                                            <td>{{registration.admission.batch.name}}\r\n                                            </td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                        \t<td>{{trans(\'student.father_name\')}}</td>\r\n                                        \t<td>{{registration.student.parent ? registration.student.parent.father_name : \'\'}}</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                        \t<td>{{trans(\'student.mother_name\')}}</td>\r\n                                        \t<td>{{registration.student.parent ? registration.student.parent.mother_name : \'\'}}</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                        \t<td>{{trans(\'student.contact_number\')}}</td>\r\n                                        \t<td>{{registration.student.contact_number}}</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                        \t<td>{{trans(\'student.email\')}}</td>\r\n                                        \t<td>{{registration.student.email}}</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                        \t<td>{{trans(\'student.gender\')}}</td>\r\n                                        \t<td>{{trans(\'list.\'+registration.student.gender)}}</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                        \t<td>{{trans(\'student.date_of_birth\')}}</td>\r\n                                        \t<td>{{registration.student.date_of_birth | moment}}</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                        \t<td>{{trans(\'student.date_of_registration\')}}</td>\r\n                                        \t<td>{{registration.date_of_registration | moment}}</td>\r\n                                        </tr>\r\n                                        <tr v-if="registration.previous_institute_id">\r\n                                            <td>{{trans(\'student.previous_institute\')}}</td>\r\n                                            <td>{{registration.previous_institute.name}}</td>\r\n                                        </tr>\r\n                                        <tr @mouseover="show_edit = true" @mouseout="show_edit = false">\r\n                                        \t<td>{{trans(\'student.registration_fee\')}}</td>\r\n                                        \t<td>\r\n                                                <span v-if="registration.registration_fee">\r\n                                                    {{formatCurrency(registration.registration_fee)}}\r\n                                                    <span v-if="registration.registration_fee_status == \'paid\'">\r\n                                                        <span class="label label-success">{{trans(\'student.registration_fee_status_paid\')}}\r\n                                                            {{trans(\'general.on\')}}\r\n                                                            <span v-if="registration.transactions.length">\r\n                                                                {{transaction.date | moment}}\r\n                                                            </span>\r\n                                                        </span>\r\n                                                    </span>\r\n                                                    <span v-else class="label label-danger">{{trans(\'student.registration_fee_status_unpaid\')}}</span>\r\n                                                </span>\r\n                                                <span v-else>-</span>\r\n                                        \t</td>\r\n                                        </tr>\r\n                                        <tr v-if="registration.registration_remarks">\r\n                                        \t<td>{{trans(\'student.registration_remarks\')}}</td>\r\n                                        \t<td>{{registration.registration_remarks}}</td>\r\n                                        </tr>\r\n\r\n\r\n                                        <tr v-if="registration.course_location">\r\n                                        \t<td>Course Location</td>\r\n                                        \t<td>{{registration.course_location}}</td>\r\n                                        </tr>\r\n                                        <tr v-if="registration.student.accommodation">\r\n                                        \t<td>Accommodation</td>\r\n                                        \t<td>{{registration.student.accommodation}}</td>\r\n                                        </tr>\r\n\r\n                                        <tr v-if="registration.student.occupation">\r\n                                        \t<td>Occupation</td>\r\n                                        \t<td>{{registration.student.occupation}}</td>\r\n                                        </tr>\r\n\r\n                                        <tr v-if="registration.student.how_long_yoga">\r\n                                        \t<td>How long have you been practicing Yoga?</td>\r\n                                        \t<td>{{registration.student.how_long_yoga}}</td>\r\n                                        </tr>\r\n\r\n                                        <tr v-if="registration.student.teaching_experience">\r\n                                        \t<td>Do you have any experience teaching yoga?</td>\r\n                                        \t<td>{{registration.student.teaching_experience}}</td>\r\n                                        </tr>\r\n\r\n                                        <tr v-if="registration.student.joining_reason">\r\n                                        \t<td>What is your primary reason to join the course?</td>\r\n                                        \t<td>{{registration.student.joining_reason}}</td>\r\n                                        </tr>\r\n\r\n                                        <tr v-if="registration.student.important_to_life">\r\n                                        \t<td>What is important to you in life?</td>\r\n                                        \t<td>{{registration.student.important_to_life}}</td>\r\n                                        </tr>\r\n\r\n                                        <tr v-if="registration.student.why_choose_us">\r\n                                        \t<td>Why did you choose Arhanta Yoga?</td>\r\n                                        \t<td>{{registration.student.why_choose_us}}</td>\r\n                                        </tr>\r\n\r\n                                        <tr v-if="registration.student.how_hear_about_us">\r\n                                        \t<td>How did you hear about us?</td>\r\n                                        \t<td>{{registration.student.how_hear_about_us}}</td>\r\n                                        </tr>\r\n\r\n                                        <tr v-if="registration.student.allergies_dietary_needs">\r\n                                        \t<td>Please mention in case you have any allergies or special dietary needs:</td>\r\n                                        \t<td>{{registration.student.allergies_dietary_needs}}</td>\r\n                                        </tr>\r\n\r\n                                        <tr v-if="registration.student.use_drugs">\r\n                                        \t<td>Have you in the last 12 months used tobacco, alcohol, recreational drugs, or illicit substances?</td>\r\n                                        \t<td>{{registration.student.use_drugs}}</td>\r\n                                        </tr>\r\n\r\n\r\n                                        <tr v-if="registration.student.substance_frequency_of_use">\r\n                                        \t<td>Please list substance and frequency of use</td>\r\n                                        \t<td>{{registration.student.substance_frequency_of_use}}</td>\r\n                                        </tr>\r\n\r\n                                        <tr>\r\n                                        \t<td>{{trans(\'general.created_at\')}}</td>\r\n                                        \t<td>{{registration.student.created_at | momentDateTime}}</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                        \t<td>{{trans(\'general.updated_at\')}}</td>\r\n                                        \t<td>{{registration.student.updated_at | momentDateTime}}</td>\r\n                                        </tr>\r\n                                        <tr v-if="registration.is_online" v-for="custom_field in online_registration_custom_fields">\r\n                                            <td>{{custom_field.name}}</td>\r\n                                            <td>{{getCustomFieldValue(custom_field)}}</td>\r\n                                        </tr>\r\n                                        <tr v-for="custom_field in registration_custom_fields">\r\n                                            <td>{{custom_field.name}}</td>\r\n                                            <td>{{getCustomFieldValue(custom_field)}}</td>\r\n                                        </tr>\r\n                                   \t</tbody>\r\n                                </table>\r\n                            </div>\r\n                \t\t</div>\r\n                \t</div>\r\n                </div>\r\n                <div class="col-12 col-sm-6 p-0">\r\n                    <template v-if="registration.registration_fee">\r\n                        <fee-form v-if="registration.registration_fee_status == \'unpaid\' && hasPermission(\'make-registration-fee-payment\')" :registration="registration" @completed="getRegistration"></fee-form>\r\n                    </template>\r\n                    <template v-if="(!registration.registration_fee || (registration.registration_fee && registration.registration_fee_status == \'paid\')) && registration.status != \'allotted\' && hasPermission(\'change-registration-status\')">\r\n                        <action-form :registration="registration" @completed="getRegistration"></action-form>\r\n                    </template>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <transition name="modal" v-if="editModal">\r\n            <div class="modal-mask">\r\n                <div class="modal-wrapper">\r\n                    <div class="modal-container modal-lg">\r\n                        <div class="modal-header">\r\n                            <slot name="header">\r\n                                {{trans(\'student.edit_registration\')}}\r\n                                <span class="float-right pointer" @click="editModal = false">x</span>\r\n                            </slot>\r\n                        </div>\r\n                        <div class="modal-body">\r\n                            <slot name="body">\r\n                                <edit-registration-form :registration="registration" @completed="getRegistration" @close="editModal = false"></edit-registration-form>\r\n                                <div class="clearfix"></div>\r\n                            </slot>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </transition>\r\n\r\n        <transition name="modal" v-if="showReceiptModal && registration.registration_fee && registration.registration_fee_status == \'paid\' && registration.transactions.length">\r\n            <div class="modal-mask">\r\n                <div class="modal-wrapper">\r\n                    <div class="modal-container modal-lg">\r\n                        <div class="modal-header">\r\n                            <slot name="header">\r\n                                {{trans(\'finance.receipt_detail\')}}\r\n                                <span class="float-right pointer" @click="showReceiptModal = false">x</span>\r\n                            </slot>\r\n                        </div>\r\n                        <div class="modal-body">\r\n                            <slot name="body">\r\n                                <div class="table-responsive">\r\n                                    <table class="table table-bordered">\r\n                                        <tbody>\r\n                                            <tr>\r\n                                                <td>{{trans(\'finance.receipt_no\')}}</td>\r\n                                                <td>#{{transaction.prefix+transaction.number}}</td>\r\n                                                <td>{{trans(\'finance.account\')}}</td>\r\n                                                <td>{{transaction.account.name}}</td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>{{trans(\'finance.amount\')}}</td>\r\n                                                <td>{{formatCurrency(transaction.amount)}}</td>\r\n                                                <td>{{trans(\'finance.date\')}}</td>\r\n                                                <td>{{transaction.date | moment}}</td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>{{trans(\'finance.payment_method\')}}</td>\r\n                                                <td>\r\n                                                    {{transaction.payment_method.name}}\r\n                                                    <span v-if="transaction.instrument_number"><br />{{trans(\'finance.instrument_number\')}}: {{transaction.instrument_number}}</span>\r\n                                                    <span v-if="transaction.instrument_date"><br />{{trans(\'finance.instrument_date\')}}: <span>{{transaction.instrument_date | moment}}</span></span>\r\n                                                    <span v-if="transaction.instrument_clearing_date"><br />{{trans(\'finance.instrument_clearing_date\')}}: <span>{{transaction.instrument_clearing_date | moment}}</span></span>\r\n                                                    <span v-if="transaction.instrument_bank_detail"><br />{{trans(\'finance.instrument_bank_detail\')}}: {{transaction.instrument_bank_detail}}</span>\r\n                                                    <span v-if="transaction.reference_number"><br />{{trans(\'finance.reference_number\')}}: {{transaction.reference_number}}</span>\r\n                                                </td>\r\n                                                <td>{{trans(\'finance.remarks\')}}</td>\r\n                                                <td>{{transaction.remarks}}</td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>{{trans(\'finance.date_of_entry\')}}</td>\r\n                                                <td>{{transaction.created_at | momentDateTime}}</td>\r\n                                                <td>{{trans(\'finance.entry_by\')}}</td>\r\n                                                <td>{{getEmployeeName(transaction.user.employee)}}</td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                                <button type="button" class="btn btn-block btn-danger" v-if="registration.status == \'pending\'" @click="cancel_fee_payment = true">{{trans(\'student.cancel_fee_payment\')}}</button>\r\n                                <template v-if="cancel_fee_payment">\r\n                                    <form @submit.prevent="cancelPayment" class="m-t-20" @keydown="cancelPaymentForm.errors.clear($event.target.name)" v-if="registration.status == \'pending\'">\r\n                                        <div class="row">\r\n                                            <div class="col-12">\r\n                                                <div class="form-group">\r\n                                                    <autosize-textarea v-model="cancelPaymentForm.cancellation_remarks" rows="2" name="cancellation_remarks" :placeholder="trans(\'student.cancellation_remarks\')"></autosize-textarea>\r\n                                                    <show-error :form-name="cancelPaymentForm" prop-name="cancellation_remarks"></show-error>\r\n                                                </div>\r\n                                                <button type="submit" class="btn btn-info waves-effect waves-light">{{trans(\'general.save\')}}</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </form>\r\n                                </template>\r\n                                <div class="clearfix"></div>\r\n                            </slot>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </transition>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import editRegistrationForm from \'./edit\'\r\n    import feeForm from \'./fee-form\'\r\n    import actionForm from \'./action-form\'\r\n\r\n\texport default {\r\n        components : { feeForm,actionForm,editRegistrationForm },\r\n        data() {\r\n            return {\r\n                id:this.$route.params.id,\r\n                registration: {\r\n                \tstudent: {\r\n\r\n                \t},\r\n                \tcourse: {\r\n\r\n                \t},\r\n                    transaction: null\r\n                },\r\n                transaction: {},\r\n                show_edit: false,\r\n                cancel_fee_payment: false,\r\n                cancelPaymentForm: new Form({\r\n                    cancellation_remarks: \'\'\r\n                }),\r\n                registration_custom_fields: [],\r\n                online_registration_custom_fields: [],\r\n                editModal: false,\r\n                showReceiptModal: false,\r\n\r\n            }\r\n        },\r\n        mounted(){\r\n            if(!helper.hasPermission(\'list-registration\')){\r\n                helper.notAccessibleMsg();\r\n                this.$router.push(\'/dashboard\');\r\n            }\r\n\r\n            this.getRegistration();\r\n        },\r\n        methods: {\r\n        \tgetRegistration(){\r\n                let loader = this.$loading.show();\r\n        \t\taxios.get(\'/api/registration/\'+this.id)\r\n        \t\t\t.then(response => {\r\n        \t\t\t\tthis.registration_custom_fields = response.registration_custom_fields;\r\n                        this.online_registration_custom_fields = response.online_registration_custom_fields;\r\n                        this.registration = response.registration;\r\n                        this.transaction = (response.registration.transactions.length) ? response.registration.transactions[0] : null;\r\n                        loader.hide();\r\n        \t\t\t})\r\n        \t\t\t.catch(error => {\r\n                        loader.hide();\r\n        \t\t\t\thelper.showErrorMsg(error);\r\n        \t\t\t\tthis.$router.push(\'/dashboard\');\r\n        \t\t\t})\r\n        \t},\r\n            hasPermission(permission){\r\n                return helper.hasPermission(permission);\r\n            },\r\n            getStudentName(student){\r\n                return helper.getStudentName(student);\r\n            },\r\n            formatCurrency(amount){\r\n            \treturn helper.formatCurrency(amount);\r\n            },\r\n            getRegistrationStatus(registration){\r\n            \treturn helper.getRegistrationStatus(registration);\r\n            },\r\n            hasPermission(permission){\r\n                return helper.hasPermission(permission);\r\n            },\r\n            getEmployeeName(employee){\r\n                return helper.getEmployeeName(employee);\r\n            },\r\n            getCustomFieldValue(custom_field) {\r\n                return helper.getCustomFieldValue(this.registration.options.custom_values, custom_field.id);\r\n            },\r\n            cancelPayment(){\r\n                let loader = this.$loading.show();\r\n                this.cancelPaymentForm.post(\'/api/registration/\'+this.id+\'/transaction/\'+this.transaction.id+\'/cancel\')\r\n                    .then(response => {\r\n                        toastr.success(response.message);\r\n                        this.getRegistration();\r\n                        loader.hide();\r\n                    })\r\n                    .catch(error => {\r\n                        loader.hide();\r\n                        helper.showErrorMsg(error);\r\n                    })\r\n            },\r\n            confirmDelete(registration){\r\n                return dialog => this.deleteRegistration(registration);\r\n            },\r\n            deleteRegistration(registration){\r\n                let loader = this.$loading.show();\r\n                axios.delete(\'/api/registration/\'+registration.id)\r\n                    .then(response => {\r\n                        toastr.success(response.message);\r\n                        loader.hide();\r\n                        this.$router.push(\'/student/registration\');\r\n                    }).catch(error => {\r\n                        loader.hide();\r\n                        helper.showErrorMsg(error);\r\n                    });\r\n            },\r\n            printReceipt(){\r\n                let loader = this.$loading.show();\r\n                axios.post(\'/api/registration/\'+this.id+\'/fee/\'+this.transaction.id+\'/print\')\r\n                    .then(response => {\r\n                        let print = window.open("/print");\r\n                        loader.hide();\r\n                        print.document.write(response);\r\n                    })\r\n                    .catch(error => {\r\n                        loader.hide();\r\n                        helper.showErrorMsg(error);\r\n                    });\r\n            }\r\n        },\r\n        computed:{\r\n        \tgetSession(){\r\n        \t\treturn helper.getDefaultAcademicSession().name;\r\n        \t}\r\n        },\r\n        filters: {\r\n          moment(date) {\r\n            return helper.formatDate(date);\r\n          },\r\n          momentDateTime(date) {\r\n            return helper.formatDateTime(date);\r\n          }\r\n        }\r\n\t}\r\n<\/script>\r\n\r\n<style>\r\n.loading-overlay.is-full-page{\r\n    z-index: 1060;\r\n}\r\n</style>'],sourceRoot:""}]);const o=i},7824:(t,e,r)=>{r.r(e),r.d(e,{default:()=>v});const n={props:["registration"],components:{},data:function(){return{registrationForm:new Form({course_id:"",date_of_registration:"",registration_remarks:"",previous_institute_id:"",registration_fee:0,custom_values:[]}),courses:[],course_details:[],previous_institutes:[],selected_course:null,selected_previous_institute:null,default_currency:helper.getConfig("default_currency"),registration_fee:0,enable_registration_fee:0,custom_fields:[],custom_values:[],clearCustomField:!1,customFieldFormErrors:{}}},mounted:function(){this.getPreRequisite(),this.registrationForm.course_id=this.registration.course_id,this.registrationForm.previous_institute_id=this.registration.previous_institute_id,this.selected_course={id:this.registration.course_id,name:this.registration.course.name},this.selected_previous_institute=this.registration.previous_institute_id?{id:this.registration.previous_institute_id,name:this.registration.previous_institute.name}:null,this.registrationForm.date_of_registration=this.registration.date_of_registration,this.registrationForm.registration_remarks=this.registration.registration_remarks,this.registrationForm.registration_fee=this.registration.registration_fee,this.custom_values=this.registration.options&&this.registration.options.hasOwnProperty("custom_values")?this.registration.options.custom_values:[]},methods:{getPreRequisite:function(){var t=this,e=this.$loading.show();axios.get("/api/registration/pre-requisite").then((function(r){t.courses=r.courses,t.course_details=r.course_details,t.previous_institutes=r.previous_institutes,t.custom_fields=r.custom_fields,e.hide()})).catch((function(t){e.hide(),helper.showErrorMsg(t)}))},updateCustomValues:function(t){this.registrationForm.custom_values=t},submit:function(){var t=this,e=this.$loading.show();this.registrationForm.patch("/api/registration/"+this.registration.id).then((function(r){toastr.success(r.message),t.$emit("completed"),t.$emit("close"),e.hide()})).catch((function(r){e.hide(),t.customFieldFormErrors=r,helper.showErrorMsg(r)}))},onCourseSelect:function(t){this.registrationForm.course_id=t.id,this.setRegistration(t.id),this.registrationForm.registration_fee=this.registration_fee},onPreviousInstituteSelect:function(t){this.registrationForm.previous_institute_id=t.id},setRegistration:function(t){var e=this.course_details.find((function(e){return e.course_id==t}));this.enable_registration_fee="undefined"!=e?e.enable_registration_fee:0,this.registration_fee=this.enable_registration_fee?e.registration_fee:0},formatCurrency:function(t){return helper.formatCurrency(t)}}};var s=r(51900);const a=(0,s.Z)(n,(function(){var t=this,e=t._self._c;return e("form",{on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)},keydown:function(e){return t.registrationForm.errors.clear(e.target.name)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("academic.course")))]),t._v(" "),e("v-select",{attrs:{label:"name","group-values":"courses","group-label":"course_group","group-select":!1,name:"course_id",id:"course_id",options:t.courses,placeholder:t.trans("academic.select_course")},on:{select:t.onCourseSelect,close:function(e){return t.registrationForm.errors.clear("course_id")},remove:function(e){t.registrationForm.course_id=""}},model:{value:t.selected_course,callback:function(e){t.selected_course=e},expression:"selected_course"}},[t.courses.length?t._e():e("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[t._v("\n                        "+t._s(t.trans("general.no_option_found"))+"\n                    ")])]),t._v(" "),t.enable_registration_fee&&t.registration_fee>=0?e("span",{staticClass:"help-block"},[t._v(t._s(t.trans("student.registration_fee"))+" "+t._s(t.formatCurrency(t.registration_fee)))]):t._e(),t._v(" "),e("show-error",{attrs:{"form-name":t.registrationForm,"prop-name":"course_id"}})],1)]),t._v(" "),e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("student.date_of_registration")))]),t._v(" "),e("datepicker",{attrs:{bootstrapStyling:!0,placeholder:t.trans("student.date_of_registration")},on:{selected:function(e){return t.registrationForm.errors.clear("date_of_registration")}},model:{value:t.registrationForm.date_of_registration,callback:function(e){t.$set(t.registrationForm,"date_of_registration",e)},expression:"registrationForm.date_of_registration"}}),t._v(" "),e("show-error",{attrs:{"form-name":t.registrationForm,"prop-name":"date_of_registration"}})],1)]),t._v(" "),"unpaid"==t.registration.registration_fee_status||null==t.registration.registration_fee_status?e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("student.registration_fee")))]),t._v(" "),e("currency-input",{attrs:{position:t.default_currency.position,symbol:t.default_currency.symbol,name:"registration_fee",placeholder:t.trans("stduent.registration_fee")},nativeOn:{input:function(e){return t.registrationForm.errors.clear("registration_fee")}},model:{value:t.registrationForm.registration_fee,callback:function(e){t.$set(t.registrationForm,"registration_fee",e)},expression:"registrationForm.registration_fee"}}),t._v(" "),e("show-error",{attrs:{"form-name":t.registrationForm,"prop-name":"registration_fee"}})],1)]):t._e(),t._v(" "),e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("student.previous_institute")))]),t._v(" "),e("v-select",{attrs:{label:"name",name:"previous_institute_id",id:"previous_institute_id",options:t.previous_institutes,placeholder:t.trans("academic.select_institute")},on:{select:t.onPreviousInstituteSelect,close:function(e){return t.registrationForm.errors.clear("previous_institute_id")},remove:function(e){t.registrationForm.previous_institute_id=""}},model:{value:t.selected_previous_institute,callback:function(e){t.selected_previous_institute=e},expression:"selected_previous_institute"}},[t.previous_institutes.length?t._e():e("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[t._v("\n                        "+t._s(t.trans("general.no_option_found"))+"\n                    ")])]),t._v(" "),e("show-error",{attrs:{"form-name":t.registrationForm,"prop-name":"previous_institute_id"}})],1)]),t._v(" "),e("div",{staticClass:"col-12 col-sm-12"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("student.registration_remarks")))]),t._v(" "),e("autosize-textarea",{attrs:{rows:"2",name:"registration_remarks",placeholder:t.trans("student.registration_remarks")},model:{value:t.registrationForm.registration_remarks,callback:function(e){t.$set(t.registrationForm,"registration_remarks",e)},expression:"registrationForm.registration_remarks"}}),t._v(" "),e("show-error",{attrs:{"form-name":t.registrationForm,"prop-name":"registration_remarks"}})],1)])]),t._v(" "),e("custom-field",{attrs:{fields:t.custom_fields,customValues:t.custom_values,clear:t.clearCustomField,formErrors:t.customFieldFormErrors},on:{updateCustomValues:t.updateCustomValues}}),t._v(" "),e("div",{staticClass:"card-footer text-right"},[e("button",{staticClass:"btn btn-info waves-effect waves-light",attrs:{type:"submit"}},[t._v(t._s(t.trans("general.save")))])])],1)}),[],!1,null,null,null).exports;const i={components:{},props:["registration"],data:function(){return{feeSubmissionForRole:!0,payment_gateway:"",registrationFeeForm:new Form({account_id:"",payment_method_id:"",date:"",instrument_date:"",instrument_number:"",instrument_clearing_date:"",instrument_bank_detail:"",reference_number:"",remarks:""}),stripe:{card_number:"",month:"",year:"",cvc:""},stripeButton:!0,selected_account:null,accounts:[],payment_methods:[],selected_payment_method:null,payment_method_details:[],payment_method_detail:{}}},mounted:function(){helper.hasRole("admin")?this.feeSubmissionForRole=!0:this.feeSubmissionForRole=!1,this.getPreRequisite()},methods:{getConfig:function(t){return helper.getConfig(t)},setPaymentGateway:function(t){this.payment_gateway=t},stripeCheckout:function(){var t=this.$loading.show();this.stripeButton=!1,Stripe.setPublishableKey(this.getConfig("stripe_publishable_key")),Stripe.card.createToken({number:this.stripe.card_number,cvc:this.stripe.cvc,exp_month:this.stripe.month,exp_year:this.stripe.year},this.stripeResponseHandler),t.hide()},stripeCheckout1:function(t){var e=this,r=this.$loading.show();this.registrationFeeForm.account_id=1,this.registrationFeeForm.instrument_bank_detail="",this.registrationFeeForm.instrument_clearing_date="",this.registrationFeeForm.instrument_date="",this.registrationFeeForm.instrument_number="",this.registrationFeeForm.payment_method_id=1,this.registrationFeeForm.reference_number="",this.registrationFeeForm.remarks="",this.registrationFeeForm.post("/api/registration/"+this.registration.id+"/fee/payment").then((function(t){toastr.success(t.message),e.selected_account=null,e.$emit("completed"),e.stripeButton=!0,r.hide()})).catch((function(t){r.hide(),helper.showErrorMsg(t)}))},stripeResponseHandler:function(t,e){var r=this;if(200==t){var n=this.$loading.show();axios.post("/api/student/"+this.uuid+"/payment/"+this.id+"/stripe",{stripeToken:e.id,amount:100*this.total,fee:this.feePaymentForm.amount,handling_fee:this.handlingFee,fee_installment_id:this.feePaymentForm.installment_id,installments:this.feePaymentForm.installments}).then((function(t){n.hide(),toastr.success(t.message),r.$emit("completed"),r.stripeButton=!0})).catch((function(t){n.hide(),helper.showErrorMsg(t),r.stripeButton=!0}))}else toastr.error(e.error.message),this.stripeButton=!0},getPreRequisite:function(){var t=this,e=this.$loading.show();axios.get("/api/registration/fee/pre-requisite").then((function(r){t.accounts=r.accounts,t.payment_methods=r.payment_methods,t.payment_method_details=r.payment_method_details,e.hide()})).catch((function(t){e.hide(),helper.showErrorMsg(t)}))},getPaymentMethodDetail:function(t){return helper.getPaymentMethodDetail(this.payment_method_detail,t)},onAccountSelect:function(t){this.registrationFeeForm.account_id=t.id},onPaymentMethodSelect:function(t){this.registrationFeeForm.payment_method_id=t.id,this.payment_method_detail=this.payment_method_details.find((function(e){return e.id==t.id}))},onPaymentMethodRemove:function(t){this.registrationFeeForm.payment_method_id="",this.payment_method_detail=null},formatCurrency:function(t){return helper.formatCurrency(t)},submit:function(){var t=this,e=this.$loading.show();this.registrationFeeForm.post("/api/registration/"+this.registration.id+"/fee/payment").then((function(r){toastr.success(r.message),t.selected_account=null,t.$emit("completed"),e.hide()})).catch((function(t){e.hide(),helper.showErrorMsg(t)}))}}};const o={components:{},props:["registration"],data:function(){return{showPendingForm:!0,actionForm:new Form({status:"",room_id:"",batch_id:null,admission_number_prefix:"",admission_number:"",date_of_admission:"",rejection_remarks:"",admission_remarks:"",transport_circle_id:null,fee_concession_id:null}),admission_numbers:[],rooms:[],batch_current_strength:0,options:[{value:"pending",text:i18n.student.registration_status_pending},{value:"rejected",text:i18n.student.registration_status_rejected},{value:"allotted",text:i18n.student.registration_status_allotted}],transport_circles:[],fee_concessions:[],batches:[],accommodations:[]}},mounted:function(){this.actionForm.status=this.registration.status,this.actionForm.date_of_admission=moment().format(),this.getPreRequisite(),helper.hasRole("admin")?this.showPendingForm=!0:this.showPendingForm=!1},methods:{getAvailableRoom:function(t){var e=this,r=this.$loading.show();axios.post("/api/registration/get-available-room",{accommodation:t.target.value,gender:this.registration.student.gender}).then((function(t){e.rooms=t.rooms,r.hide()})).catch((function(t){r.hide(),helper.showErrorMsg(t)}))},getPreRequisite:function(){var t=this,e=this.$loading.show();axios.get("/api/registration/status/pre-requisite").then((function(r){t.rooms=r.rooms,t.transport_circles=r.transport_circles,t.fee_concessions=r.fee_concessions,t.admission_numbers=r.admission_numbers,t.accommodations=r.accommodations,t.actionForm.admission_number_prefix=helper.getConfig("admission_number_prefix"),e.hide()})).catch((function(t){e.hide(),helper.showErrorMsg(t)}))},onRoomSelect:function(t){this.actionForm.room_id=t.id},submit:function(){var t=this,e=this.$loading.show();this.actionForm.gender=this.registration.student.gender,this.actionForm.post("/api/registration/"+this.registration.id+"/update/status").then((function(r){toastr.success(r.message),t.$emit("completed"),e.hide()})).catch((function(t){e.hide(),helper.showErrorMsg(t)}))},fetchStrength:function(){var t=this,e=this.$loading.show();if(!this.actionForm.batch_id)return this.batch_current_strength=0,void e.hide();this.actionForm.errors.clear("batch_id"),axios.post("/api/batch/"+this.actionForm.batch_id+"/strength").then((function(r){t.batch_current_strength=r,e.hide()})).catch((function(t){e.hide(),helper.showErrorMsg(t)}))}},watch:{registration:function(t){this.actionForm.status=t.status},"actionForm.admission_number_prefix":function(t){var e=this.admission_numbers.find((function(e){return e.prefix==t}));this.actionForm.admission_number=void 0===e?helper.formatWithPadding(1,helper.getConfig("admission_number_digit")):helper.formatWithPadding(e.number+1,helper.getConfig("admission_number_digit"))}}};var c;function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function d(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==l(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===l(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const _={components:{feeForm:(0,s.Z)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"card card-form"},[e("div",{staticClass:"card-body"},[e("h4",{staticClass:"card-title"},[t._v(t._s(t.trans("student.pay_registration_fee"))+" "+t._s(t.formatCurrency(t.registration.registration_fee)))]),t._v(" "),0==t.feeSubmissionForRole?e("form",{staticStyle:{padding:"1%"},on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)},keydown:function(t){}}},[e("div",{staticClass:"table-responsive p-2"},[e("table",{staticClass:"table table-bordered"},[e("thead",[e("tr",[e("th",[t._v(t._s(t.trans("finance.fee_installment")))]),t._v(" "),e("th",{staticClass:"text-right"},[t._v(t._s(t.trans("finance.installment_total")))]),t._v(" "),e("th",{staticClass:"text-right"},[t._v(t._s(t.trans("finance.late_fee")))]),t._v(" "),e("th",{staticClass:"text-right"},[t._v(t._s(t.trans("general.total")))])])]),t._v(" "),e("tbody",[e("tr",[e("td",{},[t._v("Course Registration Fee")]),t._v(" "),e("td",{staticClass:"text-right"},[t._v(t._s(t.formatCurrency(t.registration.registration_fee)))]),t._v(" "),e("td",{staticClass:"text-right"},[t._v("\n                                                        0\n                                                    ")]),t._v(" "),e("td",{staticClass:"text-right",domProps:{textContent:t._s(t.formatCurrency(t.registration.registration_fee))}})])]),t._v(" "),e("tfoot",[e("tr",[e("th",[t._v(t._s(t.trans("general.total")))]),t._v(" "),e("th",{attrs:{colspan:"2"}}),t._v(" "),e("th",{staticClass:"text-right"},[t._v(t._s(t.formatCurrency(t.registration.registration_fee)))])])])])]),t._v(" "),e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("finance.date_of_payment")))]),t._v(" "),e("datepicker",{attrs:{bootstrapStyling:!0,placeholder:t.trans("student.date_of_payment")},on:{selected:function(e){return t.registrationFeeForm.errors.clear("date")}},model:{value:t.registrationFeeForm.date,callback:function(e){t.$set(t.registrationFeeForm,"date",e)},expression:"registrationFeeForm.date"}}),t._v(" "),e("show-error",{attrs:{"form-name":t.registrationFeeForm,"prop-name":"date"}})],1)]),t._v(" "),e("div",[e("h4",{staticClass:"card-title"},[t._v(t._s(t.trans("finance.choose_payment_gateway")))]),t._v(" "),t.getConfig("razorpay")&&t.razorpay_loaded?e("div",{staticClass:"radio radio-success"},[e("input",{attrs:{type:"radio",name:"payment_gateway",id:"razorpay",value:"razorpay"},on:{change:function(e){return t.setPaymentGateway("razorpay")}}}),t._v(" "),e("label",{attrs:{for:"razorpay"}},[t._v(" \n                                                Razorpay \n                                            ")])]):t._e(),t._v(" "),t.getConfig("billdesk")?e("div",{staticClass:"radio radio-success"},[e("input",{attrs:{type:"radio",name:"payment_gateway",id:"billdesk",value:"billdesk"},on:{change:function(e){return t.setPaymentGateway("billdesk")}}}),t._v(" "),e("label",{attrs:{for:"billdesk"}},[t._v(" Billdesk ")])]):t._e(),t._v(" "),t.getConfig("stripe")?e("div",{staticClass:"radio radio-success"},[e("input",{attrs:{type:"radio",name:"payment_gateway",id:"stripe",value:"stripe"},on:{change:function(e){return t.setPaymentGateway("stripe")}}}),t._v(" "),e("label",{attrs:{for:"stripe"}},[t._v(" Stripe ")])]):t._e(),t._v(" "),t.getConfig("paystack")?e("div",{staticClass:"radio radio-success"},[e("input",{attrs:{type:"radio",name:"payment_gateway",id:"paystack",value:"paystack"},on:{change:function(e){return t.setPaymentGateway("paystack")}}}),t._v(" "),e("label",{attrs:{for:"paystack"}},[t._v(" Paystack ")])]):t._e(),t._v(" "),t.getConfig("paypal")?e("div",{staticClass:"radio radio-success"},[e("input",{attrs:{type:"radio",name:"payment_gateway",id:"paypal",value:"paypal"},on:{change:function(e){return t.setPaymentGateway("paypal")}}}),t._v(" "),e("label",{attrs:{for:"paypal"}},[t._v(" Paypal ")])]):t._e(),t._v(" "),"billdesk"==t.payment_gateway?[e("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:t.callBillDesk}},[t._v(t._s(t.trans("general.proceed")))])]:t._e(),t._v(" "),"razorpay"==t.payment_gateway?[e("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:t.callRazorpay}},[t._v(t._s(t.trans("general.proceed")))])]:t._e(),t._v(" "),"paystack"==t.payment_gateway?[e("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:t.payWithPaystack}},[t._v(t._s(t.trans("general.proceed")))])]:t._e(),t._v(" "),"paypal"==t.payment_gateway?[t.paypalButton?e("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:t.callPaypal}},[t._v(t._s(t.trans("general.proceed")))]):t._e()]:t._e(),t._v(" "),"stripe"==t.payment_gateway?[e("div",{staticClass:"row m-t-40"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.stripe.card_number,expression:"stripe.card_number"}],staticClass:"form-control",attrs:{type:"number",maxlength:"16",value:"",placeholder:t.trans("finance.card_number")},domProps:{value:t.stripe.card_number},on:{input:function(e){e.target.composing||t.$set(t.stripe,"card_number",e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-3"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.stripe.month,expression:"stripe.month"}],staticClass:"form-control",attrs:{type:"number",value:"",placeholder:t.trans("finance.card_expiry_month")},domProps:{value:t.stripe.month},on:{input:function(e){e.target.composing||t.$set(t.stripe,"month",e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-4"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.stripe.year,expression:"stripe.year"}],staticClass:"form-control",attrs:{type:"number",value:"",placeholder:t.trans("finance.card_expiry_year")},domProps:{value:t.stripe.year},on:{input:function(e){e.target.composing||t.$set(t.stripe,"year",e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-1"}),t._v(" "),e("div",{staticClass:"col-4"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.stripe.cvc,expression:"stripe.cvc"}],staticClass:"form-control",attrs:{type:"number",value:"",placeholder:t.trans("finance.card_cvc")},domProps:{value:t.stripe.cvc},on:{input:function(e){e.target.composing||t.$set(t.stripe,"cvc",e.target.value)}}})])])]),t._v(" "),t.stripeButton?e("button",{staticClass:"btn btn-info waves-effect waves-light pull-right",staticStyle:{"margin-right":"2%"},attrs:{type:"button"},on:{click:t.stripeCheckout1}},[e("span",[t._v(t._s(t.trans("general.proceed")))])]):t._e()]:t._e()],2)]):t._e(),t._v(" "),1==t.feeSubmissionForRole?e("form",{on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)},keydown:function(e){return t.registrationFeeForm.errors.clear(e.target.name)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("finance.account")))]),t._v(" "),e("v-select",{attrs:{label:"name",name:"account_id",id:"account_id",options:t.accounts,placeholder:t.trans("account.select_account")},on:{select:t.onAccountSelect,close:function(e){return t.registrationFeeForm.errors.clear("account_id")},remove:function(e){t.registrationFeeForm.account_id=""}},model:{value:t.selected_account,callback:function(e){t.selected_account=e},expression:"selected_account"}},[t.accounts.length?t._e():e("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[t._v("\n                                    "+t._s(t.trans("general.no_option_found"))+"\n                                ")])]),t._v(" "),e("show-error",{attrs:{"form-name":t.registrationFeeForm,"prop-name":"account_id"}})],1)]),t._v(" "),e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("finance.date_of_payment")))]),t._v(" "),e("datepicker",{attrs:{bootstrapStyling:!0,placeholder:t.trans("student.date_of_payment")},on:{selected:function(e){return t.registrationFeeForm.errors.clear("date")}},model:{value:t.registrationFeeForm.date,callback:function(e){t.$set(t.registrationFeeForm,"date",e)},expression:"registrationFeeForm.date"}}),t._v(" "),e("show-error",{attrs:{"form-name":t.registrationFeeForm,"prop-name":"date"}})],1)]),t._v(" "),e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("finance.payment_method")))]),t._v(" "),e("v-select",{attrs:{label:"name",name:"payment_method_id",id:"payment_method_id",options:t.payment_methods,placeholder:t.trans("payment_method.select_payment_method")},on:{select:t.onPaymentMethodSelect,close:function(e){return t.registrationFeeForm.errors.clear("payment_method_id")},remove:t.onPaymentMethodRemove},model:{value:t.selected_payment_method,callback:function(e){t.selected_payment_method=e},expression:"selected_payment_method"}},[t.payment_methods.length?t._e():e("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[t._v("\n                                    "+t._s(t.trans("general.no_option_found"))+"\n                                ")])]),t._v(" "),e("show-error",{attrs:{"form-name":t.registrationFeeForm,"prop-name":"payment_method_id"}})],1)]),t._v(" "),t.getPaymentMethodDetail("instrument_number")?e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("finance.instrument_number")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.registrationFeeForm.instrument_number,expression:"registrationFeeForm.instrument_number"}],staticClass:"form-control",attrs:{type:"text",name:"instrument_number",placeholder:t.trans("finance.instrument_number")},domProps:{value:t.registrationFeeForm.instrument_number},on:{input:function(e){e.target.composing||t.$set(t.registrationFeeForm,"instrument_number",e.target.value)}}}),t._v(" "),e("show-error",{attrs:{"form-name":t.registrationFeeForm,"prop-name":"instrument_number"}})],1)]):t._e(),t._v(" "),t.getPaymentMethodDetail("instrument_date")?e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("finance.instrument_date")))]),t._v(" "),e("datepicker",{attrs:{bootstrapStyling:!0,placeholder:t.trans("finance.instrument_date")},on:{selected:function(e){return t.registrationFeeForm.errors.clear("instrument_date")}},model:{value:t.registrationFeeForm.instrument_date,callback:function(e){t.$set(t.registrationFeeForm,"instrument_date",e)},expression:"registrationFeeForm.instrument_date"}}),t._v(" "),e("show-error",{attrs:{"form-name":t.registrationFeeForm,"prop-name":"instrument_date"}})],1)]):t._e(),t._v(" "),t.getPaymentMethodDetail("instrument_bank_detail")?e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("finance.instrument_bank_detail")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.registrationFeeForm.instrument_bank_detail,expression:"registrationFeeForm.instrument_bank_detail"}],staticClass:"form-control",attrs:{type:"text",name:"instrument_bank_detail",placeholder:t.trans("finance.instrument_bank_detail")},domProps:{value:t.registrationFeeForm.instrument_bank_detail},on:{input:function(e){e.target.composing||t.$set(t.registrationFeeForm,"instrument_bank_detail",e.target.value)}}}),t._v(" "),e("show-error",{attrs:{"form-name":t.registrationFeeForm,"prop-name":"instrument_bank_detail"}})],1)]):t._e(),t._v(" "),t.getPaymentMethodDetail("instrument_clearing_date")?e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("finance.instrument_clearing_date")))]),t._v(" "),e("datepicker",{attrs:{bootstrapStyling:!0,placeholder:t.trans("finance.instrument_clearing_date")},on:{selected:function(e){return t.registrationFeeForm.errors.clear("instrument_clearing_date")}},model:{value:t.registrationFeeForm.instrument_clearing_date,callback:function(e){t.$set(t.registrationFeeForm,"instrument_clearing_date",e)},expression:"registrationFeeForm.instrument_clearing_date"}}),t._v(" "),e("show-error",{attrs:{"form-name":t.registrationFeeForm,"prop-name":"instrument_clearing_date"}})],1)]):t._e(),t._v(" "),t.getPaymentMethodDetail("reference_number")?e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("finance.reference_number")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.registrationFeeForm.reference_number,expression:"registrationFeeForm.reference_number"}],staticClass:"form-control",attrs:{type:"text",name:"reference_number",placeholder:t.trans("finance.reference_number")},domProps:{value:t.registrationFeeForm.reference_number},on:{input:function(e){e.target.composing||t.$set(t.registrationFeeForm,"reference_number",e.target.value)}}}),t._v(" "),e("show-error",{attrs:{"form-name":t.registrationFeeForm,"prop-name":"reference_number"}})],1)]):t._e(),t._v(" "),e("div",{staticClass:"col-12 col-sm-12"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("student.registration_fee_remarks")))]),t._v(" "),e("autosize-textarea",{attrs:{rows:"2",name:"remarks",placeholder:t.trans("student.registration_fee_remarks")},model:{value:t.registrationFeeForm.remarks,callback:function(e){t.$set(t.registrationFeeForm,"remarks",e)},expression:"registrationFeeForm.remarks"}}),t._v(" "),e("show-error",{attrs:{"form-name":t.registrationFeeForm,"prop-name":"remarks"}})],1)])]),t._v(" "),e("div",{staticClass:"card-footer text-right"},[e("button",{staticClass:"btn btn-info waves-effect waves-light",attrs:{type:"submit"}},[t._v(t._s(t.trans("general.save")))])])]):t._e()])])}),[],!1,null,null,null).exports,actionForm:(0,s.Z)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"card card-form"},[0==t.showPendingForm&&"pending"==t.registration.status?e("div",{staticClass:"card-body"},[e("h4",{staticClass:"card-title"},[t._v("Waiting for admin approval")])]):t._e(),t._v(" "),0==t.showPendingForm&&"allotted"==t.registration.status?e("div",{staticClass:"card-body"},[e("h4",{staticClass:"card-title"},[t._v("Registration Approved")])]):t._e(),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showPendingForm,expression:"showPendingForm"}],staticClass:"card-body"},[e("h4",{staticClass:"card-title"},[t._v(t._s(t.trans("student.registration_action")))]),t._v(" "),e("form",{on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)},keydown:function(e){return t.actionForm.errors.clear(e.target.name)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("student.registration_status")))]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.actionForm.status,expression:"actionForm.status"}],staticClass:"custom-select col-12",attrs:{placeholder:"Select Mari",name:"status"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.actionForm,"status",e.target.multiple?r:r[0])},function(e){return t.actionForm.errors.clear("status")}]}},t._l(t.options,(function(r){return e("option",{domProps:{value:r.value}},[t._v("\n                                "+t._s(r.text)+"\n                              ")])})),0),t._v(" "),e("show-error",{attrs:{"form-name":t.actionForm,"prop-name":"status"}})],1)])]),t._v(" "),"rejected"==t.actionForm.status?[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-12"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("student.rejection_remarks")))]),t._v(" "),e("autosize-textarea",{attrs:{rows:"2",name:"rejection_remarks",placeholder:t.trans("student.rejection_remarks")},model:{value:t.actionForm.rejection_remarks,callback:function(e){t.$set(t.actionForm,"rejection_remarks",e)},expression:"actionForm.rejection_remarks"}}),t._v(" "),e("show-error",{attrs:{"form-name":t.actionForm,"prop-name":"rejection_remarks"}})],1)])]),t._v(" "),e("div",{staticClass:"card-footer text-right"},[e("button",{staticClass:"btn btn-info waves-effect waves-light",attrs:{type:"submit"}},[t._v(t._s(t.trans("general.save")))])])]:t._e(),t._v(" "),"allotted"==t.actionForm.status?[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("student.admission_number")))]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.actionForm.admission_number_prefix,expression:"actionForm.admission_number_prefix"}],staticClass:"form-control",attrs:{type:"text",name:"admission_number_prefix",placeholder:t.trans("student.admission_number_prefix")},domProps:{value:t.actionForm.admission_number_prefix},on:{input:function(e){e.target.composing||t.$set(t.actionForm,"admission_number_prefix",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-12 col-sm-8"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.actionForm.admission_number,expression:"actionForm.admission_number"}],staticClass:"form-control",attrs:{type:"text",name:"admission_number",placeholder:t.trans("student.admission_number")},domProps:{value:t.actionForm.admission_number},on:{input:function(e){e.target.composing||t.$set(t.actionForm,"admission_number",e.target.value)}}})])]),t._v(" "),e("show-error",{attrs:{"form-name":t.actionForm,"prop-name":"admission_number"}})],1)]),t._v(" "),e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("academic.batch")))]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.actionForm.batch_id,expression:"actionForm.batch_id"}],staticClass:"custom-select col-12",on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.actionForm,"batch_id",e.target.multiple?r:r[0])},t.fetchStrength]}},[e("option",{attrs:{value:"null",selected:""}},[t._v(t._s(t.trans("academic.select_batch")))]),t._v(" "),t._l(t.registration.course.batches,(function(r){return e("option",{domProps:{value:r.id}},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t.registration.course.name+" "+r.name)+"\n\t\t\t\t\t\t\t\t\t")])}))],2),t._v(" "),t.actionForm.batch_id&&t.batch_current_strength>=0?e("div",{staticClass:"help-block"},[t._v(t._s(t.trans("academic.current_strength")+": "+t.batch_current_strength))]):t._e(),t._v(" "),e("show-error",{attrs:{"form-name":t.actionForm,"prop-name":"batch_id"}})],1)]),t._v(" "),e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("transport.circle")))]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.actionForm.transport_circle_id,expression:"actionForm.transport_circle_id"}],staticClass:"custom-select col-12",attrs:{name:"transport_circle_id"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.actionForm,"transport_circle_id",e.target.multiple?r:r[0])},function(e){return t.actionForm.errors.clear("transport_circle_id")}]}},[e("option",{attrs:{value:"null",selected:""}},[t._v(t._s(t.trans("transport.no_transport_circle")))]),t._v(" "),t._l(t.transport_circles,(function(r){return e("option",{domProps:{value:r.id}},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(r.name)+"\n\t\t\t\t\t\t\t\t\t")])}))],2),t._v(" "),e("show-error",{attrs:{"form-name":t.actionForm,"prop-name":"transport_circle_id"}})],1)]),t._v(" "),e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("finance.fee_concession")))]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.actionForm.fee_concession_id,expression:"actionForm.fee_concession_id"}],staticClass:"custom-select col-12",attrs:{name:"fee_concession_id"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.actionForm,"fee_concession_id",e.target.multiple?r:r[0])},function(e){return t.actionForm.errors.clear("fee_concession_id")}]}},[e("option",{attrs:{value:"null",selected:""}},[t._v(t._s(t.trans("finance.no_fee_concession")))]),t._v(" "),t._l(t.fee_concessions,(function(r){return e("option",{domProps:{value:r.id}},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(r.name)+"\n\t\t\t\t\t\t\t\t\t")])}))],2),t._v(" "),e("show-error",{attrs:{"form-name":t.actionForm,"prop-name":"fee_concession_id"}})],1)]),t._v(" "),e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("student.date_of_admission")))]),t._v(" "),e("datepicker",{attrs:{bootstrapStyling:!0,placeholder:t.trans("student.date_of_admission")},on:{selected:function(e){return t.actionForm.errors.clear("date_of_admission")}},model:{value:t.actionForm.date_of_admission,callback:function(e){t.$set(t.actionForm,"date_of_admission",e)},expression:"actionForm.date_of_admission"}}),t._v(" "),e("show-error",{attrs:{"form-name":t.actionForm,"prop-name":"date_of_admission"}})],1)]),t._v(" "),e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("student.admission_remarks")))]),t._v(" "),e("autosize-textarea",{attrs:{rows:"1",name:"admission_remarks",placeholder:t.trans("student.admission_remarks")},model:{value:t.actionForm.admission_remarks,callback:function(e){t.$set(t.actionForm,"admission_remarks",e)},expression:"actionForm.admission_remarks"}}),t._v(" "),e("show-error",{attrs:{"form-name":t.actionForm,"prop-name":"admission_remarks"}})],1)]),t._v(" "),e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Accommodation choice")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.actionForm.accommodation,expression:"actionForm.accommodation"}],staticClass:"custom-select col-12",attrs:{name:"accommodation"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.actionForm,"accommodation",e.target.multiple?r:r[0])},function(e){return t.getAvailableRoom(e)}]}},[e("option",{attrs:{value:""}},[t._v(t._s(t.trans("general.select_one")))]),t._v(" "),t._l(t.accommodations,(function(r){return e("option",{domProps:{value:r.types}},[t._v("\n                      "+t._s(r.type_name)+"\n                    ")])}))],2),t._v(" "),e("show-error",{attrs:{"form-name":t.actionForm,"prop-name":"accommodation"}})],1)]),t._v(" "),e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v(t._s(t.trans("asset.room")))]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.actionForm.room_id,expression:"actionForm.room_id"}],staticClass:"custom-select col-12",attrs:{name:"accommodation"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.actionForm,"room_id",e.target.multiple?r:r[0])}}},[e("option",{attrs:{value:""}},[t._v(t._s(t.trans("general.select_one")))]),t._v(" "),t._l(t.rooms,(function(r){return e("option",{domProps:{value:r.id}},[t._v("\n                      "+t._s(r.name)+"\n                    ")])}))],2),t._v(" "),e("show-error",{attrs:{"form-name":t.actionForm,"prop-name":"room_id"}})],1)])]),t._v(" "),e("div",{staticClass:"card-footer text-right"},[e("button",{staticClass:"btn btn-info waves-effect waves-light",attrs:{type:"submit"}},[t._v(t._s(t.trans("general.save")))])])]:t._e()],2)])])}),[],!1,null,null,null).exports,editRegistrationForm:a},data:function(){return{id:this.$route.params.id,registration:{student:{},course:{},transaction:null},transaction:{},show_edit:!1,cancel_fee_payment:!1,cancelPaymentForm:new Form({cancellation_remarks:""}),registration_custom_fields:[],online_registration_custom_fields:[],editModal:!1,showReceiptModal:!1}},mounted:function(){helper.hasPermission("list-registration")||(helper.notAccessibleMsg(),this.$router.push("/dashboard")),this.getRegistration()},methods:(c={getRegistration:function(){var t=this,e=this.$loading.show();axios.get("/api/registration/"+this.id).then((function(r){t.registration_custom_fields=r.registration_custom_fields,t.online_registration_custom_fields=r.online_registration_custom_fields,t.registration=r.registration,t.transaction=r.registration.transactions.length?r.registration.transactions[0]:null,e.hide()})).catch((function(r){e.hide(),helper.showErrorMsg(r),t.$router.push("/dashboard")}))},hasPermission:function(t){return helper.hasPermission(t)},getStudentName:function(t){return helper.getStudentName(t)},formatCurrency:function(t){return helper.formatCurrency(t)},getRegistrationStatus:function(t){return helper.getRegistrationStatus(t)}},d(c,"hasPermission",(function(t){return helper.hasPermission(t)})),d(c,"getEmployeeName",(function(t){return helper.getEmployeeName(t)})),d(c,"getCustomFieldValue",(function(t){return helper.getCustomFieldValue(this.registration.options.custom_values,t.id)})),d(c,"cancelPayment",(function(){var t=this,e=this.$loading.show();this.cancelPaymentForm.post("/api/registration/"+this.id+"/transaction/"+this.transaction.id+"/cancel").then((function(r){toastr.success(r.message),t.getRegistration(),e.hide()})).catch((function(t){e.hide(),helper.showErrorMsg(t)}))})),d(c,"confirmDelete",(function(t){var e=this;return function(r){return e.deleteRegistration(t)}})),d(c,"deleteRegistration",(function(t){var e=this,r=this.$loading.show();axios.delete("/api/registration/"+t.id).then((function(t){toastr.success(t.message),r.hide(),e.$router.push("/student/registration")})).catch((function(t){r.hide(),helper.showErrorMsg(t)}))})),d(c,"printReceipt",(function(){var t=this.$loading.show();axios.post("/api/registration/"+this.id+"/fee/"+this.transaction.id+"/print").then((function(e){var r=window.open("/print");t.hide(),r.document.write(e)})).catch((function(e){t.hide(),helper.showErrorMsg(e)}))})),c),computed:{getSession:function(){return helper.getDefaultAcademicSession().name}},filters:{moment:function(t){return helper.formatDate(t)},momentDateTime:function(t){return helper.formatDateTime(t)}}};var m=r(93379),u=r.n(m),p=r(4564),g={insert:"head",singleton:!1};u()(p.Z,g);p.Z.locals;const v=(0,s.Z)(_,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"page-titles"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-6"},[e("h3",{staticClass:"text-themecolor"},[t._v(t._s(t.trans("student.registration"))+"\n                    "),t.registration.student?e("span",{staticClass:"card-subtitle d-none d-sm-inline"},[t._v("("+t._s(t.getStudentName(t.registration.student)+" - "+t.trans("student.registration_no")+": "+t.registration.id)+") ")]):t._e()])]),t._v(" "),e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"action-buttons pull-right"},[e("router-link",{staticClass:"btn btn-info btn-sm",attrs:{to:"/student/registration/card-view"}},[e("i",{staticClass:"fas fa-list"}),t._v(" "),e("span",{staticClass:"d-none d-sm-inline"},[t._v(t._s(t.trans("student.registration")))])]),t._v(" "),e("router-link",{staticClass:"btn btn-info btn-sm",attrs:{to:"/student/".concat(t.registration.student.uuid)}},[e("i",{staticClass:"fas fa-user"}),t._v(" "),e("span",{staticClass:"d-none d-sm-inline"},[t._v(t._s(t.trans("student.student_detail")))])])],1)])])]),t._v(" "),e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-6"},[e("div",{staticClass:"card border-right"},[e("div",{staticClass:"card-body"},[e("h4",{staticClass:"card-title m-3"},[e("span",{staticClass:"d-none d-sm-inline"},[t._v(t._s(t.trans("student.registration_detail")))]),t._v(" "),t.registration.registration_fee&&"paid"==t.registration.registration_fee_status&&t.registration.transactions.length?e("div",{staticClass:"dropdown pull-right"},[e("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.trans("general.more_option"),expression:"trans('general.more_option')"}],staticClass:"btn btn-info btn-xs",attrs:{type:"button",href:"#",role:"button",id:"moreOption","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-ellipsis-h"}),t._v(" "),e("span",{staticClass:"d-none d-sm-inline"},[t._v(t._s(t.trans("finance.receipt")))])]),t._v(" "),e("div",{staticClass:"dropdown-menu"},[e("button",{staticClass:"dropdown-item custom-dropdown-menu",on:{click:function(e){t.showReceiptModal=!0}}},[e("i",{staticClass:"fas fa-arrow-circle-right"}),t._v(" "+t._s(t.trans("finance.receipt_detail")))]),t._v(" "),e("button",{staticClass:"dropdown-item custom-dropdown-menu",on:{click:t.printReceipt}},[e("i",{staticClass:"fas fa-print"}),t._v(" "+t._s(t.trans("finance.print_receipt")))])])]):t._e(),t._v(" "),"pending"==t.registration.status?e("button",{staticClass:"btn btn-info btn-xs pull-right",attrs:{type:"button"},on:{click:function(e){t.editModal=!0}}},[e("i",{staticClass:"fas fa-edit"}),t._v(" "),e("span",{staticClass:"d-none d-sm-inline"},[t._v(t._s(t.trans("general.edit")))])]):t._e(),t._v(" "),"pending"==t.registration.status&&t.hasPermission("delete-registration")?e("button",{directives:[{name:"confirm",rawName:"v-confirm",value:{ok:t.confirmDelete(t.registration)},expression:"{ok: confirmDelete(registration)}"},{name:"tooltip",rawName:"v-tooltip",value:t.trans("student.delete_registartion"),expression:"trans('student.delete_registartion')"}],key:t.registration.id,staticClass:"btn btn-danger btn-xs pull-right",attrs:{type:"button"}},[e("i",{staticClass:"fas fa-trash"}),t._v(" "),e("span",{staticClass:"d-none d-sm-inline"},[t._v(t._s(t.trans("general.delete")))])]):t._e()]),t._v(" "),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-sm custom-show-table"},[e("tbody",[e("tr",[e("td",[t._v(t._s(t.trans("student.name")))]),t._v(" "),e("td",[t._v("\n                                            "+t._s(t.getStudentName(t.registration.student))+"\n                                            "),t.registration.is_online?e("span",[e("span",{staticClass:"label label-info"},[t._v(t._s(t.trans("student.online_registration")))])]):t._e()])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.trans("student.registration_status")))]),t._v(" "),e("td",t._l(t.getRegistrationStatus(t.registration),(function(r){return e("span",{class:["label","label-"+r.color,"m-r-5"]},[t._v(t._s(r.label))])})),0)]),t._v(" "),t.registration.rejection_remarks&&"rejected"==t.registration.status?e("tr",[e("td",[t._v(t._s(t.trans("student.rejection_remarks")))]),t._v(" "),e("td",{staticClass:"text-danger"},[t._v(t._s(t.registration.rejection_remarks))])]):t._e(),t._v(" "),e("tr",{on:{mouseover:function(e){t.show_edit=!0},mouseout:function(e){t.show_edit=!1}}},[e("td",[t._v(t._s(t.trans("academic.course")))]),t._v(" "),e("td",[t._v("\n                                            "+t._s(t.registration.course.name+" "+t.getSession)+"\n                                        ")])]),t._v(" "),"allotted"==t.registration.status?e("tr",[e("td",[t._v(t._s(t.trans("academic.batch")))]),t._v(" "),e("td",[t._v(t._s(t.registration.admission.batch.name)+"\n                                        ")])]):t._e(),t._v(" "),e("tr",[e("td",[t._v(t._s(t.trans("student.father_name")))]),t._v(" "),e("td",[t._v(t._s(t.registration.student.parent?t.registration.student.parent.father_name:""))])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.trans("student.mother_name")))]),t._v(" "),e("td",[t._v(t._s(t.registration.student.parent?t.registration.student.parent.mother_name:""))])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.trans("student.contact_number")))]),t._v(" "),e("td",[t._v(t._s(t.registration.student.contact_number))])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.trans("student.email")))]),t._v(" "),e("td",[t._v(t._s(t.registration.student.email))])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.trans("student.gender")))]),t._v(" "),e("td",[t._v(t._s(t.trans("list."+t.registration.student.gender)))])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.trans("student.date_of_birth")))]),t._v(" "),e("td",[t._v(t._s(t._f("moment")(t.registration.student.date_of_birth)))])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.trans("student.date_of_registration")))]),t._v(" "),e("td",[t._v(t._s(t._f("moment")(t.registration.date_of_registration)))])]),t._v(" "),t.registration.previous_institute_id?e("tr",[e("td",[t._v(t._s(t.trans("student.previous_institute")))]),t._v(" "),e("td",[t._v(t._s(t.registration.previous_institute.name))])]):t._e(),t._v(" "),e("tr",{on:{mouseover:function(e){t.show_edit=!0},mouseout:function(e){t.show_edit=!1}}},[e("td",[t._v(t._s(t.trans("student.registration_fee")))]),t._v(" "),e("td",[t.registration.registration_fee?e("span",[t._v("\n                                                "+t._s(t.formatCurrency(t.registration.registration_fee))+"\n                                                "),"paid"==t.registration.registration_fee_status?e("span",[e("span",{staticClass:"label label-success"},[t._v(t._s(t.trans("student.registration_fee_status_paid"))+"\n                                                        "+t._s(t.trans("general.on"))+"\n                                                        "),t.registration.transactions.length?e("span",[t._v("\n                                                            "+t._s(t._f("moment")(t.transaction.date))+"\n                                                        ")]):t._e()])]):e("span",{staticClass:"label label-danger"},[t._v(t._s(t.trans("student.registration_fee_status_unpaid")))])]):e("span",[t._v("-")])])]),t._v(" "),t.registration.registration_remarks?e("tr",[e("td",[t._v(t._s(t.trans("student.registration_remarks")))]),t._v(" "),e("td",[t._v(t._s(t.registration.registration_remarks))])]):t._e(),t._v(" "),t.registration.course_location?e("tr",[e("td",[t._v("Course Location")]),t._v(" "),e("td",[t._v(t._s(t.registration.course_location))])]):t._e(),t._v(" "),t.registration.student.accommodation?e("tr",[e("td",[t._v("Accommodation")]),t._v(" "),e("td",[t._v(t._s(t.registration.student.accommodation))])]):t._e(),t._v(" "),t.registration.student.occupation?e("tr",[e("td",[t._v("Occupation")]),t._v(" "),e("td",[t._v(t._s(t.registration.student.occupation))])]):t._e(),t._v(" "),t.registration.student.how_long_yoga?e("tr",[e("td",[t._v("How long have you been practicing Yoga?")]),t._v(" "),e("td",[t._v(t._s(t.registration.student.how_long_yoga))])]):t._e(),t._v(" "),t.registration.student.teaching_experience?e("tr",[e("td",[t._v("Do you have any experience teaching yoga?")]),t._v(" "),e("td",[t._v(t._s(t.registration.student.teaching_experience))])]):t._e(),t._v(" "),t.registration.student.joining_reason?e("tr",[e("td",[t._v("What is your primary reason to join the course?")]),t._v(" "),e("td",[t._v(t._s(t.registration.student.joining_reason))])]):t._e(),t._v(" "),t.registration.student.important_to_life?e("tr",[e("td",[t._v("What is important to you in life?")]),t._v(" "),e("td",[t._v(t._s(t.registration.student.important_to_life))])]):t._e(),t._v(" "),t.registration.student.why_choose_us?e("tr",[e("td",[t._v("Why did you choose Arhanta Yoga?")]),t._v(" "),e("td",[t._v(t._s(t.registration.student.why_choose_us))])]):t._e(),t._v(" "),t.registration.student.how_hear_about_us?e("tr",[e("td",[t._v("How did you hear about us?")]),t._v(" "),e("td",[t._v(t._s(t.registration.student.how_hear_about_us))])]):t._e(),t._v(" "),t.registration.student.allergies_dietary_needs?e("tr",[e("td",[t._v("Please mention in case you have any allergies or special dietary needs:")]),t._v(" "),e("td",[t._v(t._s(t.registration.student.allergies_dietary_needs))])]):t._e(),t._v(" "),t.registration.student.use_drugs?e("tr",[e("td",[t._v("Have you in the last 12 months used tobacco, alcohol, recreational drugs, or illicit substances?")]),t._v(" "),e("td",[t._v(t._s(t.registration.student.use_drugs))])]):t._e(),t._v(" "),t.registration.student.substance_frequency_of_use?e("tr",[e("td",[t._v("Please list substance and frequency of use")]),t._v(" "),e("td",[t._v(t._s(t.registration.student.substance_frequency_of_use))])]):t._e(),t._v(" "),e("tr",[e("td",[t._v(t._s(t.trans("general.created_at")))]),t._v(" "),e("td",[t._v(t._s(t._f("momentDateTime")(t.registration.student.created_at)))])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.trans("general.updated_at")))]),t._v(" "),e("td",[t._v(t._s(t._f("momentDateTime")(t.registration.student.updated_at)))])]),t._v(" "),t._l(t.online_registration_custom_fields,(function(r){return t.registration.is_online?e("tr",[e("td",[t._v(t._s(r.name))]),t._v(" "),e("td",[t._v(t._s(t.getCustomFieldValue(r)))])]):t._e()})),t._v(" "),t._l(t.registration_custom_fields,(function(r){return e("tr",[e("td",[t._v(t._s(r.name))]),t._v(" "),e("td",[t._v(t._s(t.getCustomFieldValue(r)))])])}))],2)])])])])]),t._v(" "),e("div",{staticClass:"col-12 col-sm-6 p-0"},[t.registration.registration_fee?["unpaid"==t.registration.registration_fee_status&&t.hasPermission("make-registration-fee-payment")?e("fee-form",{attrs:{registration:t.registration},on:{completed:t.getRegistration}}):t._e()]:t._e(),t._v(" "),(!t.registration.registration_fee||t.registration.registration_fee&&"paid"==t.registration.registration_fee_status)&&"allotted"!=t.registration.status&&t.hasPermission("change-registration-status")?[e("action-form",{attrs:{registration:t.registration},on:{completed:t.getRegistration}})]:t._e()],2)])]),t._v(" "),t.editModal?e("transition",{attrs:{name:"modal"}},[e("div",{staticClass:"modal-mask"},[e("div",{staticClass:"modal-wrapper"},[e("div",{staticClass:"modal-container modal-lg"},[e("div",{staticClass:"modal-header"},[t._t("header",(function(){return[t._v("\n                            "+t._s(t.trans("student.edit_registration"))+"\n                            "),e("span",{staticClass:"float-right pointer",on:{click:function(e){t.editModal=!1}}},[t._v("x")])]}))],2),t._v(" "),e("div",{staticClass:"modal-body"},[t._t("body",(function(){return[e("edit-registration-form",{attrs:{registration:t.registration},on:{completed:t.getRegistration,close:function(e){t.editModal=!1}}}),t._v(" "),e("div",{staticClass:"clearfix"})]}))],2)])])])]):t._e(),t._v(" "),t.showReceiptModal&&t.registration.registration_fee&&"paid"==t.registration.registration_fee_status&&t.registration.transactions.length?e("transition",{attrs:{name:"modal"}},[e("div",{staticClass:"modal-mask"},[e("div",{staticClass:"modal-wrapper"},[e("div",{staticClass:"modal-container modal-lg"},[e("div",{staticClass:"modal-header"},[t._t("header",(function(){return[t._v("\n                            "+t._s(t.trans("finance.receipt_detail"))+"\n                            "),e("span",{staticClass:"float-right pointer",on:{click:function(e){t.showReceiptModal=!1}}},[t._v("x")])]}))],2),t._v(" "),e("div",{staticClass:"modal-body"},[t._t("body",(function(){return[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered"},[e("tbody",[e("tr",[e("td",[t._v(t._s(t.trans("finance.receipt_no")))]),t._v(" "),e("td",[t._v("#"+t._s(t.transaction.prefix+t.transaction.number))]),t._v(" "),e("td",[t._v(t._s(t.trans("finance.account")))]),t._v(" "),e("td",[t._v(t._s(t.transaction.account.name))])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.trans("finance.amount")))]),t._v(" "),e("td",[t._v(t._s(t.formatCurrency(t.transaction.amount)))]),t._v(" "),e("td",[t._v(t._s(t.trans("finance.date")))]),t._v(" "),e("td",[t._v(t._s(t._f("moment")(t.transaction.date)))])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.trans("finance.payment_method")))]),t._v(" "),e("td",[t._v("\n                                                "+t._s(t.transaction.payment_method.name)+"\n                                                "),t.transaction.instrument_number?e("span",[e("br"),t._v(t._s(t.trans("finance.instrument_number"))+": "+t._s(t.transaction.instrument_number))]):t._e(),t._v(" "),t.transaction.instrument_date?e("span",[e("br"),t._v(t._s(t.trans("finance.instrument_date"))+": "),e("span",[t._v(t._s(t._f("moment")(t.transaction.instrument_date)))])]):t._e(),t._v(" "),t.transaction.instrument_clearing_date?e("span",[e("br"),t._v(t._s(t.trans("finance.instrument_clearing_date"))+": "),e("span",[t._v(t._s(t._f("moment")(t.transaction.instrument_clearing_date)))])]):t._e(),t._v(" "),t.transaction.instrument_bank_detail?e("span",[e("br"),t._v(t._s(t.trans("finance.instrument_bank_detail"))+": "+t._s(t.transaction.instrument_bank_detail))]):t._e(),t._v(" "),t.transaction.reference_number?e("span",[e("br"),t._v(t._s(t.trans("finance.reference_number"))+": "+t._s(t.transaction.reference_number))]):t._e()]),t._v(" "),e("td",[t._v(t._s(t.trans("finance.remarks")))]),t._v(" "),e("td",[t._v(t._s(t.transaction.remarks))])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.trans("finance.date_of_entry")))]),t._v(" "),e("td",[t._v(t._s(t._f("momentDateTime")(t.transaction.created_at)))]),t._v(" "),e("td",[t._v(t._s(t.trans("finance.entry_by")))]),t._v(" "),e("td",[t._v(t._s(t.getEmployeeName(t.transaction.user.employee)))])])])])]),t._v(" "),"pending"==t.registration.status?e("button",{staticClass:"btn btn-block btn-danger",attrs:{type:"button"},on:{click:function(e){t.cancel_fee_payment=!0}}},[t._v(t._s(t.trans("student.cancel_fee_payment")))]):t._e(),t._v(" "),t.cancel_fee_payment?["pending"==t.registration.status?e("form",{staticClass:"m-t-20",on:{submit:function(e){return e.preventDefault(),t.cancelPayment.apply(null,arguments)},keydown:function(e){return t.cancelPaymentForm.errors.clear(e.target.name)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group"},[e("autosize-textarea",{attrs:{rows:"2",name:"cancellation_remarks",placeholder:t.trans("student.cancellation_remarks")},model:{value:t.cancelPaymentForm.cancellation_remarks,callback:function(e){t.$set(t.cancelPaymentForm,"cancellation_remarks",e)},expression:"cancelPaymentForm.cancellation_remarks"}}),t._v(" "),e("show-error",{attrs:{"form-name":t.cancelPaymentForm,"prop-name":"cancellation_remarks"}})],1),t._v(" "),e("button",{staticClass:"btn btn-info waves-effect waves-light",attrs:{type:"submit"}},[t._v(t._s(t.trans("general.save")))])])])]):t._e()]:t._e(),t._v(" "),e("div",{staticClass:"clearfix"})]}))],2)])])])]):t._e()],1)}),[],!1,null,null,null).exports}}]);