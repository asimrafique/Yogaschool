"use strict";(self.webpackChunkInstiKit=self.webpackChunkInstiKit||[]).push([[8371],{66898:(t,e,r)=>{r.r(e),r.d(e,{default:()=>i});const s={data:function(){return{student_record:{},uuid:this.$route.params.uuid,record_id:this.$route.params.record_id,transfer_certificate_formats:[],transfer_certificate:{},transferCertificateForm:new Form({transfer_certificate_format:"",date_of_application:"",date_of_issue:"",number:"",book_number:"",prefix:"",variables:[],memo:""},!1)}},mounted:function(){helper.hasPermission("terminate-student")||(helper.notAccessibleMsg(),this.$router.push("/dashboard")),this.getPreRequisite()},methods:{getPreRequisite:function(){var t=this,e=this.$loading.show();axios.get("/api/student/"+this.uuid+"/transfer-certificate/"+this.record_id).then((function(r){if(t.student_record=r.student_record,t.transfer_certificate_formats=r.transfer_certificate_formats,t.transferCertificateForm.prefix=helper.getConfig("transfer_certificate_prefix"),t.transfer_certificate=r.student_record.transfer_certificate,t.transfer_certificate){t.transferCertificateForm.date_of_application=t.transfer_certificate.date_of_application,t.transferCertificateForm.date_of_issue=t.transfer_certificate.date_of_issue,t.transferCertificateForm.prefix=t.transfer_certificate.prefix,t.transferCertificateForm.number=t.transfer_certificate.number,t.transferCertificateForm.book_number=t.transfer_certificate.options.hasOwnProperty("book_number")?t.transfer_certificate.options.book_number:"",t.transferCertificateForm.transfer_certificate_format=t.transfer_certificate.format;var s=t.transfer_certificate.format,i=t.transfer_certificate_formats.find((function(t){return t.id==s}));t.selected_transfer_certificate_format=i||null,t.transferCertificateForm.variables=[],t.transferCertificateForm.variables=t.transfer_certificate.options.transfer_certificate}e.hide()})).catch((function(t){e.hide(),helper.showErrorMsg(t)}))},getStudentName:function(t){return helper.getStudentName(t)},getAdmissionNumber:function(t){return helper.getAdmissionNumber(t.admission)},print:function(){var t=this.$loading.show();axios.post("/api/student/"+this.uuid+"/transfer-certificate/"+this.record_id+"/print").then((function(e){var r=window.open("/print");t.hide(),r.document.write(e)})).catch((function(e){t.hide(),helper.showErrorMsg(e)}))}},computed:{getTransferCertificateNumber:function(){return helper.getTransferCertificateNumber(this.transfer_certificate)},getTransferCertificateBookNumber:function(){return this.transferCertificateForm.book_number}},filters:{moment:function(t){return helper.formatDate(t)},momentDateTime:function(t){return helper.formatDateTime(t)}}};const i=(0,r(51900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"page-titles"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-6"},[e("h3",{staticClass:"text-themecolor"},[t._v(t._s(t.trans("student.view_transfer_certificate"))+"\n                        "),e("button",{staticClass:"btn btn-info btn-sm",on:{click:function(e){return t.$router.push("/student/termination")}}},[e("i",{staticClass:"fas fa-list"}),t._v(" "),e("span",{staticClass:"d-none d-sm-inline"},[t._v(t._s(t.trans("student.termination")))])])])])])]),t._v(" "),e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body p-20"},[t.student_record.id?e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-3"},[e("p",[t._v(t._s(t.trans("student.name"))+": "),e("strong",[t._v(t._s(t.getStudentName(t.student_record.student)))])])]),t._v(" "),e("div",{staticClass:"col-12 col-sm-3"},[e("p",[t._v(t._s(t.trans("student.admission_number"))+": "),e("strong",[t._v(t._s(t.getAdmissionNumber(t.student_record)))])])]),t._v(" "),e("div",{staticClass:"col-12 col-sm-3"},[e("p",[t._v(t._s(t.trans("academic.batch"))+": "),e("strong",[t._v(t._s(t.student_record.batch.course.name+" "+t.student_record.batch.name))])])])]):t._e(),t._v(" "),t.transfer_certificate?[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-3"},[e("p",[t._v(t._s(t.trans("academic.transfer_certificate_format"))+": "),e("strong",[t._v(t._s(t.transferCertificateForm.transfer_certificate_format))])])]),t._v(" "),e("div",{staticClass:"col-12 col-sm-3"},[e("p",[t._v(t._s(t.trans("student.transfer_certificate_number"))+": "),e("strong",[t._v(t._s(t.getTransferCertificateNumber))])])]),t._v(" "),e("div",{staticClass:"col-12 col-sm-3"},[e("p",[t._v(t._s(t.trans("student.transfer_certificate_book_number"))+": "),e("strong",[t._v(t._s(t.getTransferCertificateBookNumber))])])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-3"},[e("p",[t._v(t._s(t.trans("student.date_of_application"))+": "),e("strong",[t._v(t._s(t._f("moment")(t.transferCertificateForm.date_of_application)))])])]),t._v(" "),e("div",{staticClass:"col-12 col-sm-3"},[e("p",[t._v(t._s(t.trans("student.date_of_issue"))+": "),e("strong",[t._v(t._s(t._f("moment")(t.transferCertificateForm.date_of_issue)))])])])]),t._v(" "),e("div",{staticClass:"row"},[t._l(t.transferCertificateForm.variables,(function(r){return e("div",{key:r.name,staticClass:"col-12"},[e("p",[t._v(t._s(t.trans("student.tc_props."+r.name))+": "),e("strong",[t._v(t._s(r.value))])])])})),t._v(" "),e("div",{staticClass:"col-12"},[e("p",[t._v(t._s(t.trans("student.transfer_certificate_memo"))+": "),e("strong",[t._v(t._s(t.transferCertificateForm.memo))])])])],2)]:[e("p",{staticClass:"alert alert-danger"},[t._v(t._s(t.trans("student.no_tc_prepared")))])],t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 text-right"},[e("router-link",{staticClass:"btn btn-info waves-effect waves-light",attrs:{to:"/student/termination/".concat(t.uuid,"/").concat(t.record_id,"/edit")}},[t._v(t._s(t.trans("general.edit")))]),t._v(" "),e("button",{staticClass:"btn btn-success waves-effect waves-light",attrs:{type:"button"},on:{click:t.print}},[t._v(t._s(t.trans("general.print")))])],1)])],2)])])])}),[],!1,null,null,null).exports}}]);