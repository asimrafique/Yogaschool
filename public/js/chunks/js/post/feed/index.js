"use strict";(self.webpackChunkInstiKit=self.webpackChunkInstiKit||[]).push([[4995],{73261:(t,e,a)=>{a.d(e,{Z:()=>l});var i=a(94015),r=a.n(i),n=a(23645),s=a.n(n)()(r());s.push([t.id,".card.article-card[data-v-65e907cc]{cursor:pointer;opacity:.9;transition:all .3s ease-in-out}.card.article-card header[data-v-65e907cc]{border-bottom:1px dotted #f1f2f3;margin-bottom:.75rem;padding-bottom:.75rem}.card.article-card header .h5[data-v-65e907cc]{display:block;margin-bottom:.75rem}.card.article-card header .article-meta small+small[data-v-65e907cc]{margin-left:.5rem}.card.article-card .article-content[data-v-65e907cc]{font-size:95%;margin-bottom:1rem}.card.article-card footer[data-v-65e907cc]{border-top:1px dotted #f1f2f3;margin-top:.75rem;padding-top:.75rem}.card.article-card footer .article-author .author-thumb[data-v-65e907cc]{background:#f1f2f3;border-radius:50%;float:left;height:50px;margin-right:10px;text-align:center;width:50px}.card.article-card footer .article-author .author-thumb i[data-v-65e907cc]{padding-top:15px}.card.article-card footer .article-author .author-thumb img[data-v-65e907cc]{width:100%}.card.article-card footer .article-author p[data-v-65e907cc]{margin-bottom:0}.card.article-card footer .article-author p span[data-v-65e907cc]{display:block}.card.article-card footer .article-author p span.author[data-v-65e907cc]{font-weight:500}.card.article-card footer .cta[data-v-65e907cc]{align-items:flex-end;display:flex;height:50px;justify-content:flex-end}","",{version:3,sources:["webpack://./resources/js/widgets/article-card.vue"],names:[],mappings:"AACA,oCAGI,cAAA,CAFA,UAAA,CACA,8BACJ,CAEI,2CAGI,gCAAA,CAFA,oBAAA,CACA,qBACR,CAEQ,+CAEI,aAAA,CADA,oBACZ,CAEQ,qEACI,iBAAZ,CAGI,qDACI,aAAA,CACA,kBADR,CAGI,2CAGI,6BAAA,CAFA,iBAAA,CACA,kBAAR,CAIY,yEAKI,kBAAA,CADA,iBAAA,CAHA,UAAA,CAEA,WAAA,CAGA,iBAAA,CACA,iBAAA,CALA,UAGhB,CAGgB,2EACI,gBADpB,CAGgB,6EACI,UADpB,CAIY,6DACI,eAFhB,CAIgB,kEACI,aAFpB,CAIoB,yEACI,eAFxB,CAQQ,gDAGI,oBAAA,CAFA,YAAA,CAGA,WAAA,CAFA,wBAJZ",sourcesContent:["\n.card.article-card {\n    opacity: 0.9;\n    transition: all 0.3s ease-in-out;\n    cursor: pointer;\n\n    header {\n        margin-bottom: 0.75rem;\n        padding-bottom: 0.75rem;\n        border-bottom: 1px dotted #f1f2f3;\n\n        .h5 {\n            margin-bottom: 0.75rem;\n            display: block;\n        }\n        .article-meta small + small{\n            margin-left: 0.5rem;\n        }\n    }\n    .article-content {\n        font-size: 95%;\n        margin-bottom: 1rem;\n    }\n    footer {\n        margin-top: 0.75rem;\n        padding-top: 0.75rem;\n        border-top: 1px dotted #f1f2f3;\n\n        .article-author {\n            .author-thumb {\n                float: left;\n                width: 50px;\n                height: 50px;\n                border-radius: 50%;\n                background: #f1f2f3;\n                margin-right: 10px;\n                text-align: center;\n                i {\n                    padding-top: 15px;\n                }\n                img {\n                    width: 100%;\n                }\n            }\n            p{\n                margin-bottom: 0;\n\n                span {\n                    display: block;\n\n                    &.author{\n                        font-weight: 500;\n                    }\n                }\n            }\n        }\n\n        .cta {\n            display: flex;\n            justify-content: flex-end;\n            align-items: flex-end;\n            height: 50px;\n        }\n    }\n}\n"],sourceRoot:""}]);const l=s},31149:(t,e,a)=>{a.d(e,{Z:()=>r});const i={components:{},props:["uuid","url"],mounted:function(){this.uuid&&this.get()},data:function(){return{article:[],attachments:[]}},methods:{get:function(){var t=this,e=this.$loading.show(),a=this.url?"/api"+this.url:"/api/article/"+this.uuid;axios.get(a).then((function(a){t.article=a.article,t.attachments=a.attachments,e.hide()})).catch((function(t){e.hide(),helper.showErrorMsg(t)}))},getEmployeeName:function(t){return helper.getEmployeeName(t)},getEmployeeDesignation:function(t,e){return helper.getEmployeeDesignation(t,e)}},computed:{authToken:function(){return helper.getAuthToken()}},filters:{momentDateTime:function(t){return helper.formatDateTime(t)},moment:function(t){return helper.formatDate(t)}}};const r=(0,a(51900).Z)(i,(function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"modal"}},[e("div",{staticClass:"modal-mask"},[e("div",{staticClass:"modal-wrapper"},[e("div",{staticClass:"modal-container modal-lg"},[t.article.id?e("div",{staticClass:"modal-header"},[t._t("header",(function(){return[e("span",[t._v(t._s(t.article.title)+" "),t.article.is_public?e("span",{staticClass:"label label-success"},[t._v(t._s(t.trans("post.article_public")))]):t._e()]),t._v(" "),e("span",{staticClass:"float-right pointer",on:{click:function(e){return t.$emit("close")}}},[t._v("x")])]}))],2):t._e(),t._v(" "),t.article.id?e("div",{staticClass:"modal-body"},[t._t("body",(function(){return[e("h6",{staticClass:"card-title"},[t._v("\n                            "+t._s(t.trans("post.date_of_article"))+": "+t._s(t._f("moment")(t.article.date_of_article))+" \n                            "),t.article.user?e("p",{staticClass:"pull-right"},[e("strong",[t._v(t._s(t.trans("post.article_posted_by"))+":")]),t._v(" "+t._s(t.getEmployeeName(t.article.user.employee))+" "+t._s(t.getEmployeeDesignation(t.article.user.employee,t.article.date_of_article))+"\n                            ")]):t._e()]),t._v(" "),e("div",{staticClass:"m-t-20 html-view",domProps:{innerHTML:t._s(t.article.description)}}),t._v(" "),t.attachments.length?e("div",[e("ul",{staticClass:"m-t-10 upload-file-list"},t._l(t.attachments,(function(a){return e("li",{staticClass:"upload-file-list-item"},[e("a",{staticClass:"no-link-color",attrs:{href:"/post/article/".concat(t.article.uuid,"/attachment/").concat(a.uuid,"/download?token=").concat(t.authToken)}},[e("i",{class:["file-icon","fas","fa-lg",a.file_info.icon]}),t._v(" "),e("span",{staticClass:"upload-file-list-item-size"},[t._v(t._s(a.file_info.size))]),t._v(" "+t._s(a.user_filename))])])})),0)]):t._e(),t._v(" "),e("hr"),t._v(" "),e("p",[e("i",{staticClass:"far fa-clock"}),t._v(" "),e("small",[t._v(t._s(t.trans("general.created_at"))+" "+t._s(t._f("momentDateTime")(t.article.created_at)))]),t._v(" "),e("span",{staticClass:"pull-right"},[e("i",{staticClass:"far fa-clock"}),t._v(" "),e("small",[t._v(t._s(t.trans("general.updated_at"))+" "+t._s(t._f("momentDateTime")(t.article.updated_at)))])])])]}))],2):t._e()])])])])}),[],!1,null,null,null).exports},98562:(t,e,a)=>{a.r(e),a.d(e,{default:()=>s});var i=a(31149),r=a(89428);const n={components:{ArticleDetail:i.Z,ArticleCard:r.Z},data:function(){return{articles:{total:0,data:[]},filter:{sort_by:"date_of_article",order:"desc",keyword:"",article_type_id:[],date_of_article_start_date:"",date_of_article_end_date:"",page_length:helper.getConfig("page_length")},orderByOptions:[{value:"date_of_article",translation:i18n.post.date_of_article},{value:"title",translation:i18n.post.article_title}],article_types:[],selected_article_types:null,help_topic:"",showUuid:"",showModal:!1}},mounted:function(){helper.hasPermission("list-article")||(helper.notAccessibleMsg(),this.$router.push("/dashboard")),this.getArticles()},methods:{hasPermission:function(t){return helper.hasPermission(t)},showArticle:function(t){this.showUuid=t.uuid,this.showModal=!0},getArticles:function(t){var e=this,a=this.$loading.show();"number"!=typeof t&&(t=1),this.filter.date_of_article_start_date=helper.toDate(this.filter.date_of_article_start_date),this.filter.date_of_end_start_date=helper.toDate(this.filter.date_of_end_start_date);var i=helper.getFilterURL(this.filter);axios.get("/api/article?page="+t+i).then((function(t){e.articles=t.articles,e.article_types=t.filters.article_types,a.hide()})).catch((function(t){a.hide(),helper.showErrorMsg(t)}))},getConfig:function(t){return helper.getConfig(t)},onArticleTypeSelect:function(t){this.filter.article_type_id.push(t.id)},onArticleTypeRemove:function(t){this.filter.article_type_id.splice(this.filter.article_type_id.indexOf(t.id),1)}},filters:{moment:function(t){return helper.formatDate(t)},momentDateTime:function(t){return helper.formatDateTime(t)}},watch:{"filter.sort_by":function(t){this.getArticles()},"filter.order":function(t){this.getArticles()},"filter.page_length":function(t){this.getArticles()}},computed:{authToken:function(){return helper.getAuthToken()}}};const s=(0,a(51900).Z)(n,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"page-titles"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-sm-6"},[e("h3",{staticClass:"text-themecolor"},[t._v(t._s(t.trans("post.feed"))+" \n                    "),t.articles.total?e("span",{staticClass:"card-subtitle d-none d-sm-inline"},[t._v(t._s(t.trans("general.total_result_found",{count:t.articles.total,from:t.articles.from,to:t.articles.to})))]):e("span",{staticClass:"card-subtitle d-none d-sm-inline"},[t._v(t._s(t.trans("general.no_result_found")))])])])])]),t._v(" "),e("div",{staticClass:"container-fluid container-body"},[t.articles.total?e("div",{staticClass:"article-feed card-columns"},t._l(t.articles.data,(function(a){return e("div",{staticClass:"article-item",on:{click:function(e){return t.showArticle(a)}}},[e("article-card",{attrs:{article:a}})],1)})),0):t._e(),t._v(" "),e("pagination-record",{attrs:{"page-length":t.filter.page_length,records:t.articles},on:{"update:pageLength":function(e){return t.$set(t.filter,"page_length",e)},"update:page-length":function(e){return t.$set(t.filter,"page_length",e)},updateRecords:t.getArticles}})],1),t._v(" "),t.showModal?e("article-detail",{attrs:{uuid:t.showUuid},on:{close:function(e){t.showModal=!1}}}):t._e(),t._v(" "),e("right-panel",{attrs:{topic:t.help_topic}})],1)}),[],!1,null,null,null).exports},89428:(t,e,a)=>{a.d(e,{Z:()=>o});const i={props:{article:{type:Object,default:function(){return{}}},bodyClass:String},components:{},data:function(){return{}},methods:{getEmployeePhoto:function(t){return"/"+t.photo},getEmployeeName:function(t){return helper.getEmployeeName(t)},getEmployeeDesignationOnly:function(t){return helper.getEmployeeDesignationOnly(t)},getExcerpts:function(t){return helper.getExcerpts(t)},truncateWords:function(t,e,a){return helper.truncateWords(t,e,a)}},filters:{momentDateTime:function(t){return helper.formatDateTime(t)},moment:function(t){return helper.formatDate(t)},momentTime:function(t){return helper.formatTime(t)}}};var r=a(93379),n=a.n(r),s=a(73261),l={insert:"head",singleton:!1};n()(s.Z,l);s.Z.locals;const o=(0,a(51900).Z)(i,(function(){var t=this,e=t._self._c;return e("article",{staticClass:"card card-box with-shadow article-card"},[e("div",{staticClass:"card-body"},[e("header",[e("h5",{staticClass:"h5 card-title"},[t._v(t._s(t.article.title))]),t._v(" "),e("div",{staticClass:"article-meta"},[e("small",{staticClass:"type text-muted"},[e("i",{staticClass:"fas fa-hashtag"}),t._v(" "+t._s(t.article.article_type.name))]),t._v(" "),e("small",{staticClass:"date text-muted"},[e("i",{staticClass:"far fa-clock"}),t._v(" "+t._s(t._f("moment")(t.article.date_of_article)))])])]),t._v(" "),e("div",{staticClass:"article-content"},[e("p",{staticClass:"card-text",domProps:{innerHTML:t._s(t.article.excerpt)}})]),t._v(" "),e("footer",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-8"},[e("div",{staticClass:"article-author"},[e("span",{staticClass:"author-thumb pull-left"},[t.article.user.employee.photo?[e("img",{staticClass:"img-circle",attrs:{src:t.getEmployeePhoto(t.article.user.employee)}})]:[e("i",{staticClass:"fas fa-user"})]],2),t._v(" "),e("p",[e("span",{staticClass:"author"},[t._v(t._s(t.getEmployeeName(t.article.user.employee)))]),t._v(" "),e("span",{staticClass:"designation small text-muted"},[t._v(t._s(t.getEmployeeDesignationOnly(t.article.user.employee)))])])])]),t._v(" "),e("div",{staticClass:"col-4"},[e("div",{staticClass:"cta text-right"},[e("button",{staticClass:"btn btn-info",attrs:{type:"button"}},[t._v(t._s(t.trans("general.read_more")))])])])])])])])}),[],!1,null,"65e907cc",null).exports}}]);