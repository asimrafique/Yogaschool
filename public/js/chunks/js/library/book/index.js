"use strict";(self.webpackChunkInstiKit=self.webpackChunkInstiKit||[]).push([[5190],{68319:(o,t,e)=>{function s(o){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},s(o)}function r(o,t,e){return(t=function(o){var t=function(o,t){if("object"!==s(o)||null===o)return o;var e=o[Symbol.toPrimitive];if(void 0!==e){var r=e.call(o,t||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(o)}(o,"string");return"symbol"===s(t)?t:String(t)}(t))in o?Object.defineProperty(o,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):o[t]=e,o}e.d(t,{Z:()=>i});const a={components:{},data:function(){return{bookForm:new Form({title:"",isbn_number:"",book_author_id:"",book_language_id:"",book_topic_id:"",book_publisher_id:"",edition:"",page:"",price:"",type:"",summary:"",description:""}),book_authors:[],selected_book_author:null,book_languages:[],selected_book_language:null,book_topics:[],selected_book_topic:null,book_publishers:[],selected_book_publisher:null,default_currency:helper.getConfig("default_currency")}},props:["uuid"],mounted:function(){helper.hasPermission("create-book")||helper.hasPermission("edit-book")||(helper.notAccessibleMsg(),this.$router.push("/dashboard")),this.uuid&&this.get(),this.getPreRequisite()},methods:{proceed:function(){this.uuid?this.update():this.store()},getPreRequisite:function(){var o=this,t=this.$loading.show();axios.get("/api/book/pre-requisite").then((function(e){o.book_authors=e.book_authors,o.book_languages=e.book_languages,o.book_topics=e.book_topics,o.book_publishers=e.book_publishers,t.hide()})).catch((function(o){t.hide(),helper.showErrorMsg(o)}))},store:function(){var o=this,t=this.$loading.show();this.bookForm.post("/api/book").then((function(e){toastr.success(e.message),o.selected_book_author=null,o.selected_book_language=null,o.selected_book_topic=null,o.selected_book_publisher=null,o.$emit("completed"),t.hide()})).catch((function(o){t.hide(),helper.showErrorMsg(o)}))},get:function(){var o=this,t=this.$loading.show();axios.get("/api/book/"+this.uuid).then((function(e){o.bookForm.title=e.book.title,o.bookForm.isbn_number=e.book.isbn_number,o.bookForm.edition=e.book.edition,o.bookForm.price=e.book.price,o.bookForm.page=e.book.page,o.bookForm.type=e.book.type,o.bookForm.summary=e.book.summary,o.bookForm.description=e.book.description,o.bookForm.book_author_id=e.book.book_author_id,o.bookForm.book_language_id=e.book.book_language_id,o.bookForm.book_topic_id=e.book.book_topic_id,o.bookForm.book_publisher_id=e.book.book_publisher_id,o.selected_book_author=e.selected_book_author,o.selected_book_language=e.selected_book_language,o.selected_book_topic=e.selected_book_topic,o.selected_book_publisher=e.selected_book_publisher,t.hide()})).catch((function(e){t.hide(),helper.showErrorMsg(e),o.$router.push("/library/book")}))},update:function(){var o=this,t=this.$loading.show();this.bookForm.patch("/api/book/"+this.uuid).then((function(e){toastr.success(e.message),t.hide(),o.$router.push("/library/book")})).catch((function(o){t.hide(),helper.showErrorMsg(o)}))},onBookAuthorSelect:function(o){this.bookForm.book_author_id=o.id},onBookLanguageSelect:function(o){this.bookForm.book_language_id=o.id},onBookTopicSelect:function(o){this.bookForm.book_topic_id=o.id},onBookPublisherSelect:function(o){this.bookForm.book_publisher_id=o.id}}};const i=(0,e(51900).Z)(a,(function(){var o=this,t=o._self._c;return t("form",{on:{submit:function(t){return t.preventDefault(),o.proceed.apply(null,arguments)},keydown:function(t){return o.bookForm.errors.clear(t.target.name)}}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 col-sm-3"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[o._v(o._s(o.trans("library.book_title")))]),o._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:o.bookForm.title,expression:"bookForm.title"}],staticClass:"form-control",attrs:{type:"text",name:"title",placeholder:o.trans("library.book_title")},domProps:{value:o.bookForm.title},on:{input:function(t){t.target.composing||o.$set(o.bookForm,"title",t.target.value)}}}),o._v(" "),t("show-error",{attrs:{"form-name":o.bookForm,"prop-name":"title"}})],1)]),o._v(" "),t("div",{staticClass:"col-12 col-sm-3"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[o._v(o._s(o.trans("library.book_author")))]),o._v(" "),t("v-select",{attrs:{label:"name",name:"book_author_id",id:"book_author_id",options:o.book_authors,placeholder:o.trans("library.select_book_author")},on:{select:o.onBookAuthorSelect,close:function(t){return o.bookForm.errors.clear("book_author_id")},remove:function(t){o.bookForm.book_author_id=""}},model:{value:o.selected_book_author,callback:function(t){o.selected_book_author=t},expression:"selected_book_author"}},[o.book_authors.length?o._e():t("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[o._v("\n                        "+o._s(o.trans("general.no_option_found"))+"\n                    ")])]),o._v(" "),t("show-error",{attrs:{"form-name":o.bookForm,"prop-name":"book_author_id"}})],1)]),o._v(" "),t("div",{staticClass:"col-12 col-sm-3"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[o._v(o._s(o.trans("library.book_language")))]),o._v(" "),t("v-select",{attrs:{label:"name",name:"book_language_id",id:"book_language_id",options:o.book_languages,placeholder:o.trans("library.select_book_language")},on:{select:o.onBookLanguageSelect,close:function(t){return o.bookForm.errors.clear("book_language_id")},remove:function(t){o.bookForm.book_language_id=""}},model:{value:o.selected_book_language,callback:function(t){o.selected_book_language=t},expression:"selected_book_language"}},[o.book_languages.length?o._e():t("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[o._v("\n                        "+o._s(o.trans("general.no_option_found"))+"\n                    ")])]),o._v(" "),t("show-error",{attrs:{"form-name":o.bookForm,"prop-name":"book_language_id"}})],1)]),o._v(" "),t("div",{staticClass:"col-12 col-sm-3"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[o._v(o._s(o.trans("library.book_topic")))]),o._v(" "),t("v-select",{attrs:{label:"name",name:"book_topic_id",id:"book_topic_id",options:o.book_topics,placeholder:o.trans("library.select_book_topic")},on:{select:o.onBookTopicSelect,close:function(t){return o.bookForm.errors.clear("book_topic_id")},remove:function(t){o.bookForm.book_topic_id=""}},model:{value:o.selected_book_topic,callback:function(t){o.selected_book_topic=t},expression:"selected_book_topic"}},[o.book_topics.length?o._e():t("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[o._v("\n                        "+o._s(o.trans("general.no_option_found"))+"\n                    ")])]),o._v(" "),t("show-error",{attrs:{"form-name":o.bookForm,"prop-name":"book_topic_id"}})],1)]),o._v(" "),t("div",{staticClass:"col-12 col-sm-3"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[o._v(o._s(o.trans("library.book_publisher")))]),o._v(" "),t("v-select",{attrs:{label:"name",name:"book_publisher_id",id:"book_publisher_id",options:o.book_publishers,placeholder:o.trans("library.select_book_publisher")},on:{select:o.onBookPublisherSelect,close:function(t){return o.bookForm.errors.clear("book_publisher_id")},remove:function(t){o.bookForm.book_publisher_id=""}},model:{value:o.selected_book_publisher,callback:function(t){o.selected_book_publisher=t},expression:"selected_book_publisher"}},[o.book_publishers.length?o._e():t("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[o._v("\n                        "+o._s(o.trans("general.no_option_found"))+"\n                    ")])]),o._v(" "),t("show-error",{attrs:{"form-name":o.bookForm,"prop-name":"book_publisher_id"}})],1)]),o._v(" "),t("div",{staticClass:"col-12 col-md-3"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[o._v(o._s(o.trans("library.book_type")))]),o._v(" "),t("div",{staticClass:"radio radio-success"},[t("input",{directives:[{name:"model",rawName:"v-model",value:o.bookForm.type,expression:"bookForm.type"}],attrs:{type:"radio",value:"reference",id:"type_reference",name:"type"},domProps:r({checked:"reference"==o.bookForm.type},"checked",o._q(o.bookForm.type,"reference")),on:{click:function(t){return o.bookForm.errors.clear("type")},change:function(t){return o.$set(o.bookForm,"type","reference")}}}),o._v(" "),t("label",{attrs:{for:"type_reference"}},[o._v(o._s(o.trans("library.book_type_reference")))])]),o._v(" "),t("div",{staticClass:"radio radio-success"},[t("input",{directives:[{name:"model",rawName:"v-model",value:o.bookForm.type,expression:"bookForm.type"}],attrs:{type:"radio",value:"text",id:"type_text",name:"type"},domProps:r({checked:"text"==o.bookForm.type},"checked",o._q(o.bookForm.type,"text")),on:{click:function(t){return o.bookForm.errors.clear("type")},change:function(t){return o.$set(o.bookForm,"type","text")}}}),o._v(" "),t("label",{attrs:{for:"type_text"}},[o._v(o._s(o.trans("library.book_type_text")))])]),o._v(" "),t("show-error",{attrs:{"form-name":o.bookForm,"prop-name":"type"}})],1)]),o._v(" "),t("div",{staticClass:"col-12 col-sm-3"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[o._v(o._s(o.trans("library.book_isbn_number")))]),o._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:o.bookForm.isbn_number,expression:"bookForm.isbn_number"}],staticClass:"form-control",attrs:{type:"text",name:"isbn_number",placeholder:o.trans("library.book_isbn_number")},domProps:{value:o.bookForm.isbn_number},on:{input:function(t){t.target.composing||o.$set(o.bookForm,"isbn_number",t.target.value)}}}),o._v(" "),t("show-error",{attrs:{"form-name":o.bookForm,"prop-name":"isbn_number"}})],1)]),o._v(" "),t("div",{staticClass:"col-12 col-sm-3"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[o._v(o._s(o.trans("library.book_edition")))]),o._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:o.bookForm.edition,expression:"bookForm.edition"}],staticClass:"form-control",attrs:{type:"text",name:"edition",placeholder:o.trans("library.book_edition")},domProps:{value:o.bookForm.edition},on:{input:function(t){t.target.composing||o.$set(o.bookForm,"edition",t.target.value)}}}),o._v(" "),t("show-error",{attrs:{"form-name":o.bookForm,"prop-name":"edition"}})],1)]),o._v(" "),t("div",{staticClass:"col-12 col-sm-3"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[o._v(o._s(o.trans("library.book_page")))]),o._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:o.bookForm.page,expression:"bookForm.page"}],staticClass:"form-control",attrs:{type:"text",name:"page",placeholder:o.trans("library.book_page")},domProps:{value:o.bookForm.page},on:{input:function(t){t.target.composing||o.$set(o.bookForm,"page",t.target.value)}}}),o._v(" "),t("show-error",{attrs:{"form-name":o.bookForm,"prop-name":"page"}})],1)]),o._v(" "),t("div",{staticClass:"col-12 col-sm-3"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[o._v(o._s(o.trans("library.book_price")))]),o._v(" "),t("currency-input",{attrs:{position:o.default_currency.position,symbol:o.default_currency.symbol,name:"price",placeholder:o.trans("library.book_price")},nativeOn:{input:function(t){return o.bookForm.errors.clear("price")}},model:{value:o.bookForm.price,callback:function(t){o.$set(o.bookForm,"price",t)},expression:"bookForm.price"}}),o._v(" "),t("show-error",{attrs:{"form-name":o.bookForm,"prop-name":"price"}})],1)]),o._v(" "),t("div",{staticClass:"col-12 col-sm-3"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[o._v(o._s(o.trans("library.book_summary")))]),o._v(" "),t("autosize-textarea",{attrs:{rows:"2",name:"summary",placeholder:o.trans("library.book_summary")},model:{value:o.bookForm.summary,callback:function(t){o.$set(o.bookForm,"summary",t)},expression:"bookForm.summary"}}),o._v(" "),t("show-error",{attrs:{"form-name":o.bookForm,"prop-name":"summary"}})],1)]),o._v(" "),t("div",{staticClass:"col-12 col-sm-3"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[o._v(o._s(o.trans("library.book_description")))]),o._v(" "),t("autosize-textarea",{attrs:{rows:"2",name:"description",placeholder:o.trans("library.book_description")},model:{value:o.bookForm.description,callback:function(t){o.$set(o.bookForm,"description",t)},expression:"bookForm.description"}}),o._v(" "),t("show-error",{attrs:{"form-name":o.bookForm,"prop-name":"description"}})],1)])]),o._v(" "),t("div",{staticClass:"card-footer text-right"},[t("router-link",{directives:[{name:"show",rawName:"v-show",value:o.uuid,expression:"uuid"}],staticClass:"btn btn-danger waves-effect waves-light",attrs:{to:"/library/book"}},[o._v(o._s(o.trans("general.cancel")))]),o._v(" "),o.uuid?o._e():t("button",{staticClass:"btn btn-danger waves-effect waves-light",attrs:{type:"button"},on:{click:function(t){return o.$emit("cancel")}}},[o._v(o._s(o.trans("general.cancel")))]),o._v(" "),t("button",{staticClass:"btn btn-info waves-effect waves-light",attrs:{type:"submit"}},[o.uuid?t("span",[o._v(o._s(o.trans("general.update")))]):t("span",[o._v(o._s(o.trans("general.save")))])])],1)])}),[],!1,null,null,null).exports},75931:(o,t,e)=>{e.r(t),e.d(t,{default:()=>i});const s={components:{bookForm:e(68319).Z},data:function(){return{books:{total:0,data:[]},filter:{sort_by:"title",order:"asc",book_author_id:[],book_language_id:[],book_publisher_id:[],book_topic_id:[],help_topic:"",page_length:helper.getConfig("page_length")},orderByOptions:[{value:"title",translation:i18n.library.book_title},{value:"page",translation:i18n.library.book_page},{value:"price",translation:i18n.library.book_price}],showCreatePanel:!1,showFilterPanel:!1,book_authors:[],book_languages:[],book_publishers:[],book_topics:[],selected_book_authors:null,selected_book_languages:null,selected_book_topics:null,selected_book_publishers:null,help_topic:""}},mounted:function(){helper.hasPermission("list-book")||(helper.notAccessibleMsg(),this.$router.push("/dashboard")),this.getBooks(),helper.showDemoNotification(["library"])},methods:{hasPermission:function(o){return helper.hasPermission(o)},getBooks:function(o){var t=this,e=this.$loading.show();"number"!=typeof o&&(o=1);var s=helper.getFilterURL(this.filter);axios.get("/api/book?page="+o+s).then((function(o){t.books=o.books,t.book_authors=o.filters.book_authors,t.book_languages=o.filters.book_languages,t.book_publishers=o.filters.book_publishers,t.book_topics=o.filters.book_topics,e.hide()})).catch((function(o){e.hide(),helper.showErrorMsg(o)}))},editBook:function(o){this.$router.push("/library/book/"+o.uuid+"/edit")},confirmDelete:function(o){var t=this;return function(e){return t.deleteBook(o)}},deleteBook:function(o){var t=this,e=this.$loading.show();axios.delete("/api/book/"+o.uuid).then((function(o){toastr.success(o.message),t.getBooks(),e.hide()})).catch((function(o){e.hide(),helper.showErrorMsg(o)}))},getConfig:function(o){return helper.getConfig(o)},print:function(){var o=this.$loading.show();axios.post("/api/book/print",{filter:this.filter}).then((function(t){var e=window.open("/print");o.hide(),e.document.write(t)})).catch((function(t){o.hide(),helper.showErrorMsg(t)}))},pdf:function(){var o=this,t=this.$loading.show();axios.post("/api/book/pdf",{filter:this.filter}).then((function(e){t.hide(),window.open("/download/report/"+e+"?token="+o.authToken)})).catch((function(o){t.hide(),helper.showErrorMsg(o)}))},onBookAuthorSelect:function(o){this.filter.book_author_id.push(o.id)},onBookAuthorRemove:function(o){this.filter.book_author_id.splice(this.filter.book_author_id.indexOf(o.id),1)},onBookLanguageSelect:function(o){this.filter.book_language_id.push(o.id)},onBookLanguageRemove:function(o){this.filter.book_language_id.splice(this.filter.book_language_id.indexOf(o.id),1)},onBookTopicSelect:function(o){this.filter.book_topic_id.push(o.id)},onBookTopicRemove:function(o){this.filter.book_topic_id.splice(this.filter.book_topic_id.indexOf(o.id),1)},onBookPublisherSelect:function(o){this.filter.book_publisher_id.push(o.id)},onBookPublisherRemove:function(o){this.filter.book_publisher_id.splice(this.filter.book_publisher_id.indexOf(o.id),1)},formatCurrency:function(o){return helper.formatCurrency(o)}},filters:{moment:function(o){return helper.formatDate(o)},momentDateTime:function(o){return helper.formatDateTime(o)}},watch:{"filter.sort_by":function(o){this.getBooks()},"filter.order":function(o){this.getBooks()},"filter.page_length":function(o){this.getBooks()}},computed:{authToken:function(){return helper.getAuthToken()}}},r=s;var a=(0,e(51900).Z)(r,(function(){var o=this,t=o._self._c;return t("div",[t("div",{staticClass:"page-titles"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 col-sm-6"},[t("h3",{staticClass:"text-themecolor"},[o._v(o._s(o.trans("library.book"))+" \n                    "),o.books.total?t("span",{staticClass:"card-subtitle d-none d-sm-inline"},[o._v(o._s(o.trans("general.total_result_found",{count:o.books.total,from:o.books.from,to:o.books.to})))]):t("span",{staticClass:"card-subtitle d-none d-sm-inline"},[o._v(o._s(o.trans("general.no_result_found")))])])]),o._v(" "),t("div",{staticClass:"col-12 col-sm-6"},[t("div",{staticClass:"action-buttons pull-right"},[o.books.total&&!o.showCreatePanel&&o.hasPermission("create-book")?t("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:o.trans("general.add_new"),expression:"trans('general.add_new')"}],staticClass:"btn btn-info btn-sm",on:{click:function(t){o.showCreatePanel=!o.showCreatePanel}}},[t("i",{staticClass:"fas fa-plus"}),o._v(" "),t("span",{staticClass:"d-none d-sm-inline"},[o._v(o._s(o.trans("library.add_new_book")))])]):o._e(),o._v(" "),o.showFilterPanel?o._e():t("button",{staticClass:"btn btn-info btn-sm",on:{click:function(t){o.showFilterPanel=!o.showFilterPanel}}},[t("i",{staticClass:"fas fa-filter"}),o._v(" "),t("span",{staticClass:"d-none d-sm-inline"},[o._v(o._s(o.trans("general.filter")))])]),o._v(" "),t("sort-by",{attrs:{"order-by-options":o.orderByOptions,"sort-by":o.filter.sort_by,order:o.filter.order},on:{updateSortBy:function(t){o.filter.sort_by=t},updateOrder:function(t){o.filter.order=t}}}),o._v(" "),t("div",{staticClass:"btn-group"},[t("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:o.trans("general.more_option"),expression:"trans('general.more_option')"}],staticClass:"btn btn-info btn-sm dropdown-toggle no-caret",attrs:{type:"button",role:"menu",id:"moreOption","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t("i",{staticClass:"fas fa-ellipsis-h"}),o._v(" "),t("span",{staticClass:"d-none d-sm-inline"})]),o._v(" "),t("div",{class:["dropdown-menu","ltr"==o.getConfig("direction")?"dropdown-menu-right":""],attrs:{"aria-labelledby":"moreOption"}},[o.hasPermission("edit-book")?t("button",{staticClass:"dropdown-item custom-dropdown",on:{click:function(t){return o.$router.push("/library/barcode")}}},[t("i",{staticClass:"fas fa-barcode"}),o._v(" "+o._s(o.trans("library.generate_barcode")))]):o._e(),o._v(" "),t("button",{staticClass:"dropdown-item custom-dropdown",on:{click:o.print}},[t("i",{staticClass:"fas fa-print"}),o._v(" "+o._s(o.trans("general.print")))]),o._v(" "),t("button",{staticClass:"dropdown-item custom-dropdown",on:{click:o.pdf}},[t("i",{staticClass:"fas fa-file-pdf"}),o._v(" "+o._s(o.trans("general.generate_pdf")))])])]),o._v(" "),t("help-button",{on:{clicked:function(t){o.help_topic="library.book"}}})],1)])])]),o._v(" "),t("div",{staticClass:"container-fluid"},[t("transition",{attrs:{name:"fade"}},[o.showFilterPanel?t("div",{staticClass:"card card-form"},[t("div",{staticClass:"card-body"},[t("h4",{staticClass:"card-title"},[o._v(o._s(o.trans("general.filter")))]),o._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 col-sm-3"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[o._v(o._s(o.trans("library.book_title")))]),o._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:o.filter.title,expression:"filter.title"}],staticClass:"form-control",attrs:{name:"title",placeholder:o.trans("library.book_title")},domProps:{value:o.filter.title},on:{input:function(t){t.target.composing||o.$set(o.filter,"title",t.target.value)}}})])]),o._v(" "),t("div",{staticClass:"col-12 col-sm-3"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[o._v(o._s(o.trans("library.book_author")))]),o._v(" "),t("v-select",{attrs:{label:"name","track-by":"id",name:"book_author_id",id:"book_author_id",options:o.book_authors,placeholder:o.trans("library.select_book_author"),multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,selected:o.selected_book_authors},on:{select:o.onBookAuthorSelect,remove:o.onBookAuthorRemove},model:{value:o.selected_book_authors,callback:function(t){o.selected_book_authors=t},expression:"selected_book_authors"}},[o.book_authors.length?o._e():t("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[o._v("\n                                        "+o._s(o.trans("general.no_option_found"))+"\n                                    ")])])],1)]),o._v(" "),t("div",{staticClass:"col-12 col-sm-3"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[o._v(o._s(o.trans("library.book_language")))]),o._v(" "),t("v-select",{attrs:{label:"name","track-by":"id",name:"book_language_id",id:"book_language_id",options:o.book_languages,placeholder:o.trans("library.select_book_language"),multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,selected:o.selected_book_languages},on:{select:o.onBookLanguageSelect,remove:o.onBookLanguageRemove},model:{value:o.selected_book_languages,callback:function(t){o.selected_book_languages=t},expression:"selected_book_languages"}},[o.book_languages.length?o._e():t("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[o._v("\n                                        "+o._s(o.trans("general.no_option_found"))+"\n                                    ")])])],1)]),o._v(" "),t("div",{staticClass:"col-12 col-sm-3"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[o._v(o._s(o.trans("library.book_topic")))]),o._v(" "),t("v-select",{attrs:{label:"name","track-by":"id",name:"book_topic_id",id:"book_topic_id",options:o.book_topics,placeholder:o.trans("library.select_book_topic"),multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,selected:o.selected_book_topics},on:{select:o.onBookTopicSelect,remove:o.onBookTopicRemove},model:{value:o.selected_book_topics,callback:function(t){o.selected_book_topics=t},expression:"selected_book_topics"}},[o.book_topics.length?o._e():t("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[o._v("\n                                        "+o._s(o.trans("general.no_option_found"))+"\n                                    ")])])],1)]),o._v(" "),t("div",{staticClass:"col-12 col-sm-3"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[o._v(o._s(o.trans("library.book_publisher")))]),o._v(" "),t("v-select",{attrs:{label:"name","track-by":"id",name:"book_publisher_id",id:"book_publisher_id",options:o.book_publishers,placeholder:o.trans("library.select_book_publisher"),multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,selected:o.selected_book_publishers},on:{select:o.onBookPublisherSelect,remove:o.onBookPublisherRemove},model:{value:o.selected_book_publishers,callback:function(t){o.selected_book_publishers=t},expression:"selected_book_publishers"}},[o.book_publishers.length?o._e():t("div",{staticClass:"multiselect__option",attrs:{slot:"afterList"},slot:"afterList"},[o._v("\n                                        "+o._s(o.trans("general.no_option_found"))+"\n                                    ")])])],1)])]),o._v(" "),t("div",{staticClass:"card-footer text-right"},[t("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){o.showFilterPanel=!1}}},[o._v(o._s(o.trans("general.cancel")))]),o._v(" "),t("button",{staticClass:"btn btn-info waves-effect waves-light",attrs:{type:"button"},on:{click:o.getBooks}},[o._v(o._s(o.trans("general.filter")))])])])]):o._e()]),o._v(" "),o.hasPermission("create-book")?t("transition",{attrs:{name:"fade"}},[o.showCreatePanel?t("div",{staticClass:"card card-form"},[t("div",{staticClass:"card-body"},[t("h4",{staticClass:"card-title"},[o._v(o._s(o.trans("library.add_new_book")))]),o._v(" "),t("book-form",{on:{completed:o.getBooks,cancel:function(t){o.showCreatePanel=!o.showCreatePanel}}})],1)]):o._e()]):o._e(),o._v(" "),t("div",{staticClass:"card"},[t("div",{staticClass:"card-body"},[o.books.total?t("div",{staticClass:"table-responsive"},[t("table",{staticClass:"table table-sm"},[t("thead",[t("tr",[t("th",[o._v(o._s(o.trans("library.book_title")))]),o._v(" "),t("th",[o._v(o._s(o.trans("library.book_author")))]),o._v(" "),t("th",[o._v(o._s(o.trans("library.book_language")))]),o._v(" "),t("th",[o._v(o._s(o.trans("library.book_topic")))]),o._v(" "),t("th",[o._v(o._s(o.trans("library.book_publisher")))]),o._v(" "),t("th",[o._v(o._s(o.trans("library.book_isbn_number")))]),o._v(" "),t("th",[o._v(o._s(o.trans("library.book_price")))]),o._v(" "),t("th",[o._v(o._s(o.trans("library.book_page")))]),o._v(" "),t("th",[o._v(o._s(o.trans("library.book_quantity")))]),o._v(" "),t("th",{staticClass:"table-option"},[o._v(o._s(o.trans("general.action")))])])]),o._v(" "),t("tbody",o._l(o.books.data,(function(e){return t("tr",[t("td",{domProps:{textContent:o._s(e.title)}}),o._v(" "),t("td",{domProps:{textContent:o._s(e.book_author.name)}}),o._v(" "),t("td",{domProps:{textContent:o._s(e.book_language.name)}}),o._v(" "),t("td",{domProps:{textContent:o._s(e.book_topic.name)}}),o._v(" "),t("td",{domProps:{textContent:o._s(e.book_publisher.name)}}),o._v(" "),t("td",{domProps:{textContent:o._s(e.isbn_number)}}),o._v(" "),t("td",{domProps:{textContent:o._s(o.formatCurrency(e.price))}}),o._v(" "),t("td",{domProps:{textContent:o._s(e.page)}}),o._v(" "),t("td",{domProps:{textContent:o._s(e.book_post_details_count)}}),o._v(" "),t("td",{staticClass:"table-option"},[t("div",{staticClass:"btn-group"},[t("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:o.trans("library.view_book"),expression:"trans('library.view_book')"}],staticClass:"btn btn-success btn-sm",on:{click:function(t){return t.preventDefault(),o.$router.push("/library/book/"+e.uuid)}}},[t("i",{staticClass:"fas fa-arrow-circle-right"})]),o._v(" "),o.hasPermission("edit-book")?t("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:o.trans("library.edit_book"),expression:"trans('library.edit_book')"}],staticClass:"btn btn-info btn-sm",on:{click:function(t){return t.preventDefault(),o.editBook(e)}}},[t("i",{staticClass:"fas fa-edit"})]):o._e(),o._v(" "),o.hasPermission("delete-book")?t("button",{directives:[{name:"confirm",rawName:"v-confirm",value:{ok:o.confirmDelete(e)},expression:"{ok: confirmDelete(book)}"},{name:"tooltip",rawName:"v-tooltip",value:o.trans("library.delete_book"),expression:"trans('library.delete_book')"}],key:e.id,staticClass:"btn btn-danger btn-sm"},[t("i",{staticClass:"fas fa-trash"})]):o._e()])])])})),0)])]):o._e(),o._v(" "),o.books.total?o._e():t("module-info",{attrs:{module:"library",title:"book_module_title",description:"book_module_description",icon:"list"}},[t("div",{attrs:{slot:"btn"},slot:"btn"},[!o.showCreatePanel&&o.hasPermission("create-book")?t("button",{staticClass:"btn btn-info btn-md",on:{click:function(t){o.showCreatePanel=!o.showCreatePanel}}},[t("i",{staticClass:"fas fa-plus"}),o._v(" "+o._s(o.trans("general.add_new")))]):o._e()])]),o._v(" "),t("pagination-record",{attrs:{"page-length":o.filter.page_length,records:o.books},on:{"update:pageLength":function(t){return o.$set(o.filter,"page_length",t)},"update:page-length":function(t){return o.$set(o.filter,"page_length",t)},updateRecords:o.getBooks}})],1)])],1),o._v(" "),t("right-panel",{attrs:{topic:o.help_topic}})],1)}),[],!1,null,null,null);const i=a.exports}}]);