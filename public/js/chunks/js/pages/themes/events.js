"use strict";(self.webpackChunkInstiKit=self.webpackChunkInstiKit||[]).push([[2909],{82138:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(94015),s=n.n(a),i=n(23645),o=n.n(i)()(s());o.push([e.id,".card.event-card[data-v-44947d01]{cursor:pointer;opacity:.9;padding:0;transition:all .3s ease-in-out}.card.event-card .event-info .event-schedule[data-v-44947d01]{background:#e1e2e3;float:left;height:100px;margin-right:20px;padding-top:10px;text-align:center;width:100px}.card.event-card .event-info .event-schedule .day[data-v-44947d01]{display:block;font-size:2rem;font-weight:500}.card.event-card .event-info .event-schedule .month[data-v-44947d01]{display:block;font-weight:500}.card.event-card .event-info p[data-v-44947d01]{margin-bottom:0;padding-top:15px}.card.event-card .event-info p span[data-v-44947d01]{display:block}.card.event-card .event-info p span.event-title[data-v-44947d01]{font-size:150%;font-weight:500}.card.event-card .event-info p span.meta-data[data-v-44947d01]{font-size:125%}.card.event-card .event-info p span small+small[data-v-44947d01]{margin-left:.5rem}","",{version:3,sources:["webpack://./resources/js/widgets/event-card.vue"],names:[],mappings:"AACA,kCAGI,cAAA,CAFA,UAAA,CAGA,SAAA,CAFA,8BAEJ,CAGQ,8DAII,kBAAA,CAHA,UAAA,CAEA,YAAA,CAEA,iBAAA,CAEA,gBAAA,CADA,iBAAA,CAJA,WAIZ,CAGY,mEACI,aAAA,CACA,cAAA,CACA,eADhB,CAGY,qEACI,aAAA,CACA,eADhB,CAIQ,gDAEI,eAAA,CADA,gBADZ,CAIY,qDACI,aAFhB,CAIgB,iEACI,cAAA,CACA,eAFpB,CAIgB,+DACI,cAFpB,CAIgB,iEACI,iBAFpB",sourcesContent:["\n.card.event-card {\n    opacity: 0.9;\n    transition: all 0.3s ease-in-out;\n    cursor: pointer;\n    padding: 0;\n\n    .event-info {\n        .event-schedule {\n            float: left;\n            width: 100px;\n            height: 100px;\n            background: #e1e2e3;\n            margin-right: 20px;\n            text-align: center;\n            padding-top: 10px;\n\n            .day {\n                display: block;\n                font-size: 2rem;\n                font-weight: 500;\n            }\n            .month {\n                display: block;\n                font-weight: 500;\n            }\n        }\n        p{\n            padding-top: 15px;\n            margin-bottom: 0;\n\n            span {\n                display: block;\n\n                &.event-title{\n                    font-size: 150%;\n                    font-weight: 500;\n                }\n                &.meta-data{\n                    font-size: 125%;\n                }\n                small + small {\n                    margin-left: 0.5rem;\n                }\n            }\n        }\n    }\n}\n"],sourceRoot:""}]);const r=o},40169:(e,t,n)=>{n.d(t,{Z:()=>s});const a={components:{},props:["uuid","url"],mounted:function(){this.uuid&&this.get()},data:function(){return{event:[],attachments:[]}},methods:{get:function(){var e=this,t=this.$loading.show(),n=this.url?"/api"+this.url:"/api/event/"+this.uuid;axios.get(n).then((function(n){e.event=n.event,e.attachments=n.attachments,t.hide()})).catch((function(e){t.hide(),helper.showErrorMsg(e)}))},getEmployeeName:function(e){return helper.getEmployeeName(e)},getEmployeeDesignationOnDate:function(e,t){return helper.getEmployeeDesignationOnDate(e,t)}},computed:{authToken:function(){return helper.getAuthToken()}},filters:{momentDateTime:function(e){return helper.formatDateTime(e)},moment:function(e){return helper.formatDate(e)},momentTime:function(e){return helper.formatTime(e)}}};const s=(0,n(51900).Z)(a,(function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"modal"}},[t("div",{staticClass:"modal-mask"},[t("div",{staticClass:"modal-wrapper"},[e.event.id?t("div",{staticClass:"modal-container modal-lg"},[t("div",{staticClass:"modal-header"},[e._t("header",(function(){return[t("span",[e._v(e._s(e.event.title))]),e._v(" "),t("span",{staticClass:"float-right pointer",on:{click:function(t){return e.$emit("close")}}},[e._v("x")])]}))],2),e._v(" "),t("div",{staticClass:"modal-body"},[e._t("body",(function(){return[t("h6",{staticClass:"card-title"},[t("strong",[e._v(e._s(e.trans("calendar.event_duration"))+":")]),e._v(" "+e._s(e._f("moment")(e.event.start_date))+" "),e.event.start_time?t("span",[e._v(e._s(e._f("momentTime")(e.event.start_time)))]):e._e(),e._v(" "+e._s(e.trans("general.to"))+"  "+e._s(e._f("moment")(e.event.end_date))+" "),e.event.end_time?t("span",[e._v(e._s(e._f("momentTime")(e.event.end_time)))]):e._e(),e._v(" "),t("br"),t("br"),e._v(" "),t("strong",[e._v(e._s(e.trans("calendar.event_venue"))+":")]),e._v(" "+e._s(e.event.venue)),t("br"),t("br"),e._v(" "),t("strong",[e._v(e._s(e.trans("calendar.event_audience"))+":")]),e._v(" "),"everyone"==e.event.audience?t("span",[e._v(e._s(e.trans("calendar.event_for_everyone")))]):e._e(),e._v(" "),"selected_course"==e.event.audience?[e._v("\n                                "+e._s(e.trans("academic.course"))+" "),t("br"),e._v(" "),t("ul",{staticStyle:{"list-style":"none"}},[e._l(e.event.courses,(function(n){return[t("li",[t("i",{staticClass:"fas fa-check"}),e._v(" "+e._s(n.name+" ("+n.course_group.name+")"))])]}))],2)]:"selected_batch"==e.event.audience?[e._v("\n                                "+e._s(e.trans("academic.batch"))+" "),t("br"),e._v(" "),t("ul",{staticStyle:{"list-style":"none"}},[e._l(e.event.batches,(function(n){return[t("li",[t("i",{staticClass:"fas fa-check"}),e._v(" "+e._s(n.name+" ("+n.course.name+")"))])]}))],2)]:"selected_department"==e.event.audience?[e._v("\n                                "+e._s(e.trans("employee.department"))+" "),t("br"),e._v(" "),t("ul",{staticStyle:{"list-style":"none"}},[e._l(e.event.departments,(function(n){return[t("li",[t("i",{staticClass:"fas fa-check"}),e._v(" "+e._s(n.name))])]}))],2)]:"selected_employee_category"==e.event.audience?[e._v("\n                                "+e._s(e.trans("employee.category"))+" "),t("br"),e._v(" "),t("ul",{staticStyle:{"list-style":"none"}},[e._l(e.event.employee_categorys,(function(n){return[t("li",[t("i",{staticClass:"fas fa-check"}),e._v(" "+e._s(n.name))])]}))],2)]:e._e(),e._v(" "),e.event.user?t("p",{staticClass:"pull-right"},[t("strong",[e._v(e._s(e.trans("calendar.event_posted_by"))+":")]),e._v(" "+e._s(e.getEmployeeName(e.event.user.employee))+" "+e._s(e.getEmployeeDesignationOnDate(e.event.user.employee,e.event.start_date))+"\n                            ")]):e._e()],2),e._v(" "),t("div",{staticClass:"m-t-20 html-view",domProps:{innerHTML:e._s(e.event.description)}}),e._v(" "),e.attachments.length?t("div",[t("ul",{staticClass:"m-t-10 upload-file-list"},e._l(e.attachments,(function(n){return t("li",{staticClass:"upload-file-list-item"},[t("a",{staticClass:"no-link-color",attrs:{href:"/calendar/event/".concat(e.event.uuid,"/attachment/").concat(n.uuid,"/download?token=").concat(e.authToken)}},[t("i",{class:["file-icon","fas","fa-lg",n.file_info.icon]}),e._v(" "),t("span",{staticClass:"upload-file-list-item-size"},[e._v(e._s(n.file_info.size))]),e._v(" "+e._s(n.user_filename))])])})),0)]):e._e(),e._v(" "),t("hr"),e._v(" "),t("p",[t("i",{staticClass:"far fa-clock"}),e._v(" "),t("small",[e._v(e._s(e.trans("general.created_at"))+" "+e._s(e._f("momentDateTime")(e.event.created_at)))]),e._v(" "),t("span",{staticClass:"pull-right"},[t("i",{staticClass:"far fa-clock"}),e._v(" "),t("small",[e._v(e._s(e.trans("general.updated_at"))+" "+e._s(e._f("momentDateTime")(e.event.updated_at)))])])])]}))],2)]):e._e()])])])}),[],!1,null,null,null).exports},8577:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});const a={props:{event:{type:Object,default:function(){return{}}}},methods:{getEmployeePhoto:function(e){return"/"+e.photo},getEmployeeName:function(e){return helper.getEmployeeName(e)},getEmployeeDesignation:function(e,t){return helper.getEmployeeDesignation(e,t)}},filters:{moment:function(e){return helper.formatDate(e)},momentTime:function(e){return helper.formatTime(e)},momentCustomGetDOM:function(e){return moment(e).format("Do")},momentCustomGetMOY:function(e){return moment(e).format("MMM")}}};var s=n(93379),i=n.n(s),o=n(82138),r={insert:"head",singleton:!1};i()(o.Z,r);o.Z.locals;var l=n(51900);const c={components:{EventCard:(0,l.Z)(a,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"card card-box with-shadow event-card"},[t("div",{staticClass:"card-body"},[t("div",{staticClass:"event-info"},[t("div",{staticClass:"event-schedule pull-left"},[t("span",{staticClass:"day"},[e._v(e._s(e._f("momentCustomGetDOM")(e.event.start_date)))]),e._v(" "),t("span",{staticClass:"month"},[e._v(e._s(e._f("momentCustomGetMOY")(e.event.start_date)))])]),e._v(" "),t("p",[t("span",{staticClass:"event-title"},[e._v(e._s(e.event.title))]),e._v(" "),t("span",{staticClass:"meta-data text-muted"},[t("small",{staticClass:"type"},[e._v(e._s(e.event.event_type.name))]),e._v(" "),t("small",{staticClass:"location"},[t("i",{staticClass:"fas fa-map-marker-alt"}),e._v(" "+e._s(e.event.venue))]),e._v(" "),t("small",{staticClass:"date"},[t("i",{staticClass:"far fa-clock"}),e._v(" "+e._s(e._f("moment")(e.event.start_date))+" "),e.event.start_time?[e._v(e._s(e._f("momentTime")(e.event.start_time)))]:e._e(),e._v(" "+e._s(e.trans("general.to"))+" "+e._s(e._f("moment")(e.event.end_date))+" "),e.event.end_time?[e._v(e._s(e._f("momentTime")(e.event.end_time)))]:e._e()],2)])])])])])}),[],!1,null,"44947d01",null).exports,EventDetail:n(40169).Z},data:function(){return{page:{},events:{total:0,data:[]},filter:{sort_by:"date_of_event",order:"desc",page_length:helper.getConfig("page_length")},showEventModal:!1}},mounted:function(){this.getData(),this.getEvents()},methods:{getData:function(){var e=this,t=this.$loading.show();axios.get("/api/frontend/page/events/content").then((function(n){e.page=n.page,t.hide()})).catch((function(n){t.hide(),helper.showErrorMsg(n),422==n.response.status&&e.$router.push("/")}))},getEvents:function(e){var t=this,n=this.$loading.show();"number"!=typeof e&&(e=1);var a=helper.getFilterURL(this.filter);axios.get("/api/frontend/event/list?page="+e+a).then((function(e){t.events=e.events,n.hide()})).catch((function(e){n.hide(),helper.showErrorMsg(e)}))},getConfig:function(e){return helper.getConfig(e)},showEvent:function(e){this.showEventUuid=e.uuid,this.showEventModal=!0}},watch:{"filter.sort_by":function(e){this.getEvents()},"filter.order":function(e){this.getEvents()},"filter.page_length":function(e){this.getEvents()}}};const d=(0,l.Z)(c,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"page-title"},[t("div",{staticClass:"fix-width fix-width-mobile"},[t("h2",[e._v(e._s(e.page.title))])])]),e._v(" "),e.page.body?t("div",{staticClass:"fix-width fix-width-mobile p-t-80"},[t("div",{staticClass:"page-body",domProps:{innerHTML:e._s(e.page.body)}})]):e._e(),e._v(" "),t("div",{staticClass:"fix-width fix-width-mobile p-y-80"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[e.events.total?t("div",{staticClass:"event-feed"},e._l(e.events.data,(function(n){return t("div",{on:{click:function(t){return e.showEvent(n)}}},[t("event-card",{staticClass:"event-item",attrs:{event:n}})],1)})),0):e._e(),e._v(" "),t("pagination-record",{attrs:{"page-length":e.filter.page_length,records:e.events},on:{"update:pageLength":function(t){return e.$set(e.filter,"page_length",t)},"update:page-length":function(t){return e.$set(e.filter,"page_length",t)},updateRecords:e.getEvents}})],1)])]),e._v(" "),e.showEventModal?t("event-detail",{attrs:{uuid:e.showEventUuid,url:"/frontend/event/".concat(e.showEventUuid,"/detail")},on:{close:function(t){e.showEventModal=!1}}}):e._e()],1)}),[],!1,null,null,null).exports}}]);