"use strict";(self.webpackChunkInstiKit=self.webpackChunkInstiKit||[]).push([[5628],{45141:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(94015),i=n.n(s),a=n(23645),o=n.n(a)()(i());o.push([e.id,".topbar .top-navbar .app-search input[data-v-74374d6a]{background:rgba(0,20,40,.1);border:1px solid rgba(0,20,40,.1);border-radius:2px;color:#f1f2f4;width:240px}.topbar .top-navbar .app-search input[data-v-74374d6a]::-moz-placeholder{color:hsla(0,0%,100%,.4)}.topbar .top-navbar .app-search input[data-v-74374d6a]::placeholder{color:hsla(0,0%,100%,.4)}.topbar .top-navbar .app-search input[data-v-74374d6a]:focus{background:rgba(0,20,40,.2);border:1px solid rgba(0,20,40,.2);color:#fff}ul.autocomplete-results[data-v-74374d6a]{background:#fff;border:1px solid #d1d2d5;border-radius:0 0 6px 6px;border-top:none;box-shadow:0 2px 10px rgba(0,20,40,.2);margin:0;max-height:350px;overflow:auto;padding:0;position:absolute;width:100%;z-index:999999}ul.autocomplete-results li.autocomplete-heading[data-v-74374d6a]{border-bottom:1px solid rgba(0,20,40,.2);color:rgba(0,20,40,.4);font-size:16px;letter-spacing:.2px;padding:8px}ul.autocomplete-results li.autocomplete-no-result[data-v-74374d6a]{border-bottom:1px solid rgba(0,20,40,.2);color:rgba(0,20,40,.4);font-size:12px;letter-spacing:.2px;padding:8px}ul.autocomplete-results>li.autocomplete-result[data-v-74374d6a]{display:flex;list-style:none;text-align:left;width:100%}ul.autocomplete-results>li.autocomplete-result .item-info[data-v-74374d6a]{flex-grow:2;margin:0;padding:5px 8px}ul.autocomplete-results>li.autocomplete-result .item-info .item-heading[data-v-74374d6a]{font-size:13px;margin-bottom:0}ul.autocomplete-results>li.autocomplete-result .item-info .item-meta[data-v-74374d6a]{font-size:11px}ul.autocomplete-results>li.autocomplete-result[data-v-74374d6a]:nth-child(2n){background:rgba(210,215,220,.2)}ul.autocomplete-results>li.autocomplete-result+li.autocomplete-result[data-v-74374d6a]{border-top:1px solid rgba(0,20,40,.1)}ul.autocomplete-results>li.autocomplete-result[data-v-74374d6a]:hover{background:rgba(200,205,215,.5);color:rgba(0,20,40,.8)}ul.autocomplete-results>li.autocomplete-result:hover .item-heading[data-v-74374d6a],ul.autocomplete-results>li.autocomplete-result:hover .item-meta[data-v-74374d6a]{color:inherit}","",{version:3,sources:["webpack://./resources/js/components/user-search.vue"],names:[],mappings:"AACA,uDACI,2BAAA,CAEA,iCAAA,CACA,iBAAA,CAFA,aAAA,CAGA,WAAJ,CAEA,yEACI,wBACJ,CAFA,oEACI,wBACJ,CACA,6DACI,2BAAA,CAEA,iCAAA,CADA,UAGJ,CACA,yCAOI,eAAA,CAEA,wBAAA,CAEA,yBAAA,CAFA,eAAA,CACA,sCAAA,CARA,QAAA,CACA,gBAAA,CACA,aAAA,CAHA,SAAA,CAIA,iBAAA,CACA,UAAA,CAMA,cAEJ,CAAI,iEAKI,wCAAA,CADA,sBAAA,CAHA,cAAA,CAEA,mBAAA,CADA,WAKR,CAAI,mEAKI,wCAAA,CADA,sBAAA,CAHA,cAAA,CAEA,mBAAA,CADA,WAKR,CACA,gEACI,YAAA,CACA,eAAA,CACA,eAAA,CACA,UAEJ,CAAI,2EAEI,WAAA,CADA,QAAA,CAEA,eAER,CAAQ,yFACI,cAAA,CACA,eAEZ,CACQ,sFACI,cACZ,CAGA,8EACI,+BAAJ,CAEA,uFACI,qCACJ,CACA,sEACI,+BAAA,CACA,sBAEJ,CAAI,qKACI,aAER",sourcesContent:["\n.topbar .top-navbar .app-search input {\n    background: rgba(0,20,40,0.1);\n    color: #f1f2f4;\n    border: 1px solid rgba(0,20,40,0.1);\n    border-radius: 2px;\n    width: 240px;\n}\n.topbar .top-navbar .app-search input::placeholder {\n    color: rgba(255,255,255,0.4);\n}\n.topbar .top-navbar .app-search input:focus {\n    background: rgba(0,20,40,0.2);\n    color: #ffffff;\n    border: 1px solid rgba(0,20,40,0.2);\n}\n\nul.autocomplete-results {\n    padding: 0;\n    margin: 0;\n    max-height: 350px;\n    overflow: auto;\n    position: absolute;\n    width: 100%;\n    background: #ffffff;\n    border: 1px solid #d1d2d5;\n    border-top: none;\n    box-shadow: 0 2px 10px rgba(0,20,40,0.2);\n    border-radius: 0 0 6px 6px;\n    z-index: 999999;\n\n    li.autocomplete-heading {\n        font-size: 16px;\n        padding: 8px;\n        letter-spacing: 0.2px;\n        color: rgba(0,20,40,0.4);\n        border-bottom: 1px solid rgba(0,20,40,0.2);\n    }\n    li.autocomplete-no-result {\n        font-size: 12px;\n        padding: 8px;\n        letter-spacing: 0.2px;\n        color: rgba(0,20,40,0.4);\n        border-bottom: 1px solid rgba(0,20,40,0.2);\n    }\n}\nul.autocomplete-results > li.autocomplete-result {\n    display: flex;\n    list-style: none;\n    text-align: left;\n    width: 100%;\n\n    .item-info {\n        margin: 0;\n        flex-grow: 2;\n        padding: 5px 8px;\n\n        .item-heading {\n            font-size: 13px;\n            margin-bottom: 0;\n        }\n\n        .item-meta {\n            font-size: 11px;\n        }\n    }\n}\nul.autocomplete-results > li.autocomplete-result:nth-child(even) {\n    background: rgba(210,215,220,0.2);\n}\nul.autocomplete-results > li.autocomplete-result + li.autocomplete-result {\n    border-top: 1px solid rgba(0,20,40,0.1);\n}\nul.autocomplete-results > li.autocomplete-result:hover {\n    background: rgba(200,205,215,0.5);\n    color: rgba(0,20,40,0.8);\n\n    .item-heading, .item-meta {\n        color: inherit;\n    }\n}\n"],sourceRoot:""}]);const r=o},65871:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(94015),i=n.n(s),a=n(23645),o=n.n(a)()(i());o.push([e.id,".video-list[data-v-1671d0ec]{background-color:blue;display:flex}.video-item[data-v-1671d0ec]{background:#fff;height:150px;margin:10px;min-width:150px}","",{version:3,sources:["webpack://./resources/js/views/communication/meeting/show.vue"],names:[],mappings:"AACA,6BAEI,qBAAA,CADA,YACJ,CAGA,6BAII,eAAA,CAFA,YAAA,CADA,WAAA,CAEA,eACJ",sourcesContent:["\n.video-list {\n    display: flex;\n    background-color: blue;\n}\n\n.video-item {\n    margin: 10px;\n    height: 150px;\n    min-width: 150px;\n    background: white;\n}\n\n"],sourceRoot:""}]);const r=o},54976:(e,t,n)=>{n.d(t,{Z:()=>l});const s={data:function(){return{search:"",student_search_results:[],employee_search_results:[],displayResult:!1,resultLoading:!1,timeout:null}},methods:{searchResult:function(){this.resultLoading=!0,clearTimeout(this.timeout);var e=this;this.timeout=setTimeout((function(){e.search.length<3||axios.get("/api/search?q="+e.search).then((function(t){e.student_search_results=t.student_records,e.employee_search_results=t.employees,e.resultLoading=!1})).catch((function(t){e.resultLoading=!1,helper.showErrorMsg(t)}))}),1e3)},getStudentName:function(e){return helper.getStudentName(e)},getEmployeeName:function(e){return helper.getEmployeeName(e)},getEmployeeDesignationOnDate:function(e){return helper.getEmployeeDesignationOnDate(e)},submitStudent:function(e){this.$emit("searched",{type:"student",id:e.id,key:"student_"+e.id,name:e.student.name,description_1:e.batch.course.name+" "+e.batch.name,description_2:e.student.parent.first_guardian_name,contact_number:e.student.contact_number}),this.displayResult=!1,this.search=""},submitEmployee:function(e){this.$emit("searched",{type:"employee",key:"employee_"+e.id,id:e.id,name:e.name,description_1:this.getEmployeeDesignationOnDate(e),description_2:e.employee_code,contact_number:e.contact_number}),this.displayResult=!1,this.search=""}},watch:{search:function(e){e.length>=3?this.searchResult():(this.student_search_results=[],this.employee_search_results=[])}}};var i=n(93379),a=n.n(i),o=n(45141),r={insert:"head",singleton:!1};a()(o.Z,r);o.Z.locals;const l=(0,n(51900).Z)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search Student or Employee"},domProps:{value:e.search},on:{keydown:function(t){e.displayResult=!0},focus:function(t){e.displayResult=!0},input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._v(" "),e.displayResult?[e.search.length?t("ul",{staticClass:"autocomplete-results"},[e.search.length&&e.search.length<3?t("li",{staticClass:"autocomplete-no-result"},[e._v(e._s(e.trans("general.type_min_3_char_for_search_result")))]):e.search.length>=3&&e.resultLoading?t("li",{staticClass:"autocomplete-no-result"},[e._v(e._s(e.trans("general.loading_progress")))]):e.search.length>=3&&!e.student_search_results.length&&!e.employee_search_results.length&&e.search.length&&!e.resultLoading?t("li",{staticClass:"autocomplete-no-result"},[e._v(e._s(e.trans("general.no_result_found")))]):e._e(),e._v(" "),e.student_search_results.length?[t("li",{staticClass:"autocomplete-heading"},[e._v(e._s(e.trans("student.student")))]),e._v(" "),e._l(e.student_search_results,(function(n){return t("li",{staticClass:"autocomplete-result pointer"},[t("div",{staticClass:"item-info",on:{click:function(t){return e.submitStudent(n)}}},[t("h5",{staticClass:"item-heading"},[e._v(e._s(e.getStudentName(n.student)))]),e._v(" "),t("div",{staticClass:"item-meta"},[t("span",{staticClass:"father-name"},[e._v(e._s(n.student.parent.first_guardian_name))]),e._v(" "),t("span",{staticClass:"contact"},[e._v(" / "+e._s(n.student.contact_number))])]),e._v(" "),t("div",{staticClass:"item-meta"},[t("span",{staticClass:"course-batch"},[e._v(e._s(n.batch.course.name+" "+n.batch.name))])])])])}))]:e._e(),e._v(" "),e.employee_search_results.length?[t("li",{staticClass:"autocomplete-heading"},[e._v(e._s(e.trans("employee.employee")))]),e._v(" "),e._l(e.employee_search_results,(function(n){return t("li",{staticClass:"autocomplete-result pointer"},[t("div",{staticClass:"item-info",on:{click:function(t){return e.submitEmployee(n)}}},[t("h5",{staticClass:"item-heading"},[e._v(e._s(e.getEmployeeName(n)))]),e._v(" "),t("div",{staticClass:"item-meta"},[t("span",{staticClass:"contact"},[e._v(" / "+e._s(n.contact_number))])]),e._v(" "),t("div",{staticClass:"item-meta"},[t("span",{staticClass:"course-batch"},[e._v(e._s(e.getEmployeeDesignationOnDate(n)))])])])])}))]:e._e()],2):e._e()]:e._e()],2)}),[],!1,null,"74374d6a",null).exports},17053:(e,t,n)=>{n.d(t,{Z:()=>i});const s={props:["meeting"]};const i=(0,n(51900).Z)(s,(function(){var e=this,t=e._self._c;return t("div",["selected_course"==e.meeting.audience?[e._v("\n        "+e._s(e.trans("academic.course"))+" "),t("br"),e._v(" "),t("ul",{staticStyle:{"list-style":"none",padding:"0",margin:"0"}},e._l(e.meeting.courses,(function(n){return t("li",[e._v(e._s(n.name+"("+n.course_group.name+")"))])})),0)]:"selected_batch"==e.meeting.audience?[e._v("\n        "+e._s(e.trans("academic.batch"))+" "),t("br"),e._v(" "),t("ul",{staticStyle:{"list-style":"none",padding:"0",margin:"0"}},e._l(e.meeting.batches,(function(n){return t("li",[e._v(e._s(n.name+"("+n.course.name+")"))])})),0)]:"selected_department"==e.meeting.audience?[e._v("\n        "+e._s(e.trans("employee.department"))+" "),t("br"),e._v(" "),t("ul",{staticStyle:{"list-style":"none",padding:"0",margin:"0"}},e._l(e.meeting.departments,(function(n){return t("li",[e._v(e._s(n.name))])})),0)]:"selected_employee_category"==e.meeting.audience?[e._v("\n        "+e._s(e.trans("employee.category"))+" "),t("br"),e._v(" "),t("ul",{staticStyle:{"list-style":"none",padding:"0",margin:"0"}},e._l(e.meeting.employee_categorys,(function(n){return t("li",[e._v(e._s(n.name))])})),0)]:e._e(),e._v(" "),e.meeting.options.individual_students&&e.meeting.options.individual_students.length?[t("ul",{staticStyle:{"list-style":"none",padding:"0",margin:"0"}},[t("li",[e._v(e._s(e.trans("communication.count_individual_students",{attribute:e.meeting.options.individual_students.length})))])])]:e._e(),e._v(" "),e.meeting.options.individual_employees&&e.meeting.options.individual_employees.length?[t("ul",{staticStyle:{"list-style":"none",padding:"0",margin:"0"}},[t("li",[e._v(e._s(e.trans("communication.count_individual_employees",{attribute:e.meeting.options.individual_employees.length})))])])]:e._e()],2)}),[],!1,null,null,null).exports},81167:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var s=n(17053),i=n(54976);const a={components:{meetingAudience:s.Z,userSearch:i.Z},data:function(){return{uuid:this.$route.params.uuid,meeting:{},attachments:[],is_editable:!1,is_owner:!1,additionalAudienceForm:new Form({individual_students:[],individual_employees:[]}),searchResults:[],individual_audiences:[]}},mounted:function(){helper.hasPermission("list-meeting")||(helper.notAccessibleMsg(),this.$router.push("/dashboard")),this.getMeeting()},methods:{getMeeting:function(){var e=this,t=this.$loading.show();axios.get("/api/meeting/"+this.uuid+"?individual_audiences=true").then((function(n){e.meeting=n.meeting,e.attachments=n.attachments,e.is_editable=n.is_editable,e.individual_audiences=n.individual_audiences,e.meeting.user_id===helper.getAuthUser("id")&&(e.is_owner=!0),t.hide()})).catch((function(n){t.hide(),helper.showErrorMsg(n),e.$router.push("/communication/meeting")}))},hasPermission:function(e){return helper.hasPermission(e)},getEmployeeName:function(e){return helper.getEmployeeName(e)},getEmployeeDesignationOnDate:function(e,t){return helper.getEmployeeDesignationOnDate(e,t)},addToSearchResult:function(e){this.searchResults.findIndex((function(t){return t.type===e.type&&t.id===e.id}))<0&&this.searchResults.push(e)},deleteResult:function(e){var t=this.searchResults.findIndex((function(t){return t.type===e.type&&t.id===e.id}));this.searchResults.splice(t,1)},addAudience:function(){var e=this,t=this.$loading.show();this.additionalAudienceForm.individual_students=[],this.additionalAudienceForm.individual_employees=[],this.searchResults.forEach((function(t){"student"===t.type?e.additionalAudienceForm.individual_students.push(t.id):e.additionalAudienceForm.individual_employees.push(t.id)})),this.additionalAudienceForm.post("/api/meeting/"+this.meeting.uuid+"/audience").then((function(n){toastr.success(n.message),e.searchResults=[],t.hide(),e.getMeeting()})).catch((function(e){t.hide(),helper.showErrorMsg(e)}))},confirmDelete:function(e){var t=this;return function(n){return t.deleteAudience(e)}},deleteAudience:function(e){var t=this,n=this.$loading.show();axios.delete("/api/meeting/"+this.meeting.uuid+"/audience/"+e.type+"/"+e.id).then((function(e){toastr.success(e.message),n.hide(),t.getMeeting()})).catch((function(e){n.hide(),helper.showErrorMsg(e)}))}},filters:{moment:function(e){return helper.formatDate(e)},momentDateTime:function(e){return helper.formatDateTime(e)},momentTime:function(e){return helper.formatTime(e)}},computed:{authToken:function(){return helper.getAuthToken()},isDemo:function(){return!helper.getConfig("mode")}}};var o=n(93379),r=n.n(o),l=n(65871),c={insert:"head",singleton:!1};r()(l.Z,c);l.Z.locals;const u=(0,n(51900).Z)(a,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"page-titles"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 col-sm-6"},[t("h3",{staticClass:"text-themecolor"},[e._v(e._s(e.trans("communication.meeting")))])]),e._v(" "),t("div",{staticClass:"col-12 col-sm-6"},[t("div",{staticClass:"action-buttons pull-right"},[t("button",{staticClass:"btn btn-info btn-sm",on:{click:function(t){return e.$router.go(-1)}}},[t("i",{staticClass:"fas fa-list"}),e._v(" "),t("span",{staticClass:"d-none d-sm-inline"},[e._v(e._s(e.trans("general.back")))])])])])])]),e._v(" "),t("div",{staticClass:"container-fluid"},[e.isDemo?t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("p",{staticClass:"alert alert-info m-4"},[e._v(e._s(e.trans("communication.demo_mode_meeting_description")))])])]):e._e(),e._v(" "),e.meeting.uuid?t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 col-sm-6"},[t("div",{staticClass:"card border-right"},[t("div",{staticClass:"card-body"},[t("h4",{staticClass:"card-title m-3"},[t("span",{staticClass:"d-none d-sm-inline"},[e._v(e._s(e.trans("communication.meeting_detail")))]),e._v(" "),e.meeting.is_live?t("span",{staticClass:"badge badge-success"},[e._v(e._s(e.trans("communication.live")))]):e._e(),e._v(" "),e.meeting.is_expired?t("span",{staticClass:"badge badge-danger"},[e._v(e._s(e.trans("communication.expired")))]):e._e()]),e._v(" "),t("div",{staticClass:"table-responsive"},[t("table",{staticClass:"table table-sm custom-show-table"},[t("tbody",[t("tr",[t("td",[e._v(e._s(e.trans("communication.meeting_title")))]),e._v(" "),t("td",[e._v(e._s(e.meeting.title))])]),e._v(" "),t("tr",[t("td",[e._v(e._s(e.trans("communication.meeting_duration")))]),e._v(" "),t("td",[e._v("\n                                            "+e._s(e._f("moment")(e.meeting.date))+" "),e.meeting.start_time?t("span",[e._v(e._s(e._f("momentTime")(e.meeting.start_time)))]):e._e(),e._v(" "),e.meeting.end_time?t("span",[e._v(" "+e._s(e.trans("general.to"))+" \n                                            "+e._s(e._f("momentTime")(e.meeting.end_time)))]):e._e()])]),e._v(" "),t("tr",[t("td",[e._v(e._s(e.trans("communication.meeting_audience")))]),e._v(" "),t("td",[t("meeting-audience",{attrs:{meeting:e.meeting}})],1)]),e._v(" "),t("tr",[t("td",[e._v(e._s(e.trans("communication.meeting_created_by")))]),e._v(" "),t("td",[e._v("\n                                            "+e._s(e.getEmployeeName(e.meeting.user.employee))+" "),t("br"),e._v(" "+e._s(e.getEmployeeDesignationOnDate(e.meeting.user.employee,e.meeting.date))+"\n                                        ")])]),e._v(" "),t("tr",[t("td",[e._v(e._s(e.trans("general.created_at")))]),e._v(" "),t("td",[e._v(e._s(e._f("momentDateTime")(e.meeting.created_at)))])]),e._v(" "),t("tr",[t("td",[e._v(e._s(e.trans("general.updated_at")))]),e._v(" "),t("td",[e._v(e._s(e._f("momentDateTime")(e.meeting.updated_at)))])])])]),e._v(" "),t("div",{staticClass:"p-3"},[t("div",{staticClass:"m-t-20 html-view",domProps:{innerHTML:e._s(e.meeting.description)}}),e._v(" "),e.attachments.length?t("div",[t("ul",{staticClass:"m-t-10 upload-file-list"},e._l(e.attachments,(function(n){return t("li",{staticClass:"upload-file-list-item"},[t("a",{staticClass:"no-link-color",attrs:{href:"/communication/meeting/".concat(e.meeting.uuid,"/attachment/").concat(n.uuid,"/download?token=").concat(e.authToken)}},[t("i",{class:["file-icon","fas","fa-lg",n.file_info.icon]}),e._v(" "),t("span",{staticClass:"upload-file-list-item-size"},[e._v(e._s(n.file_info.size))]),e._v(" "+e._s(n.user_filename))])])})),0)]):e._e()])])])])]),e._v(" "),t("div",{staticClass:"col-12 col-sm-6 p-r-40"},[t("div",{staticClass:"mt-4 btn btn-block btn-success btn-sm",on:{click:function(t){return e.$router.push("/communication/meeting/"+e.meeting.uuid+"/live")}}},[e._v(e._s(e.trans("communication.join_meeting")))]),e._v(" "),e.is_editable?[t("h4",{staticClass:"card-title m-3"},[e._v(e._s(e.trans("communication.audience")))]),e._v(" "),t("user-search",{on:{searched:e.addToSearchResult}}),e._v(" "),t("div",{staticClass:"form-group"},[t("ul",{staticClass:"font-80pc"},e._l(e.searchResults,(function(n){return t("li",{key:n.key},[e._v("\n                                "+e._s(n.name+" "+n.description_1)+" "),t("span",{staticClass:"text-right text-danger",on:{click:function(t){return e.deleteResult(n)}}},[t("i",{staticClass:"fas fa-times-circle"})]),e._v(" "),t("span",{staticClass:"d-block"},[e._v(e._s(n.description_2)+" "+e._s(n.contact_number))])])})),0)]),e._v(" "),e.searchResults.length?t("button",{staticClass:"btn btn-info waves-effect waves-light",attrs:{type:"button"},on:{click:e.addAudience}},[e._v(e._s(e.trans("communication.add_audience")))]):e._e(),e._v(" "),t("hr")]:e._e(),e._v(" "),t("h4",{staticClass:"card-title m-3"},[e._v(e._s(e.trans("communication.individual_audiences")))]),e._v(" "),t("ol",{staticClass:"font-80pc"},e._l(e.individual_audiences,(function(n){return t("li",{key:n.key},[e._v("\n                        "+e._s(n.name+" "+n.description_1)+" "),e.is_editable?t("span",{directives:[{name:"confirm",rawName:"v-confirm",value:{ok:e.confirmDelete(n)},expression:"{ok: confirmDelete(result)}"}],key:n.key,staticClass:"text-right text-danger custom-button"},[t("i",{staticClass:"fas fa-times-circle"})]):e._e(),e._v(" "),t("span",{staticClass:"d-block"},[e._v(e._s(n.description_2)+" "+e._s(n.contact_number))])])})),0)],2)]):e._e()])])}),[],!1,null,"1671d0ec",null).exports}}]);